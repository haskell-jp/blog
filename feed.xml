<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>Haskell-jp Blog</title>
    <link href="https://haskell.jp/blog/feed.xml" rel="self" />
    <link href="https://haskell.jp/blog" />
    <id>https://haskell.jp/blog/feed.xml</id>
    <author>
        <name>Haskell-jp</name>
        <email></email>
    </author>
    <updated>2021-12-25T00:00:00Z</updated>
    <entry>
    <title>æ–‡å­—åˆ—å‹ã‚’æŠ½è±¡åŒ–ã™ã‚‹ã®ã«ã¯mono-traversableãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã„ã„ã‹ã‚‚</title>
    <link href="https://haskell.jp/blog/posts/2021/text-mono-traversable.html" />
    <id>https://haskell.jp/blog/posts/2021/text-mono-traversable.html</id>
    <published>2021-12-25T00:00:00Z</published>
    <updated>2021-12-25T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <p>ã“ã®è¨˜äº‹ã¯<a href="https://qiita.com/advent-calendar/2021/haskell"><span class="ascii">Haskell Advent Calendar 2021</span></a>ã®<span class="ascii">25</span>æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚</p>
<p><span class="ascii">Haskell</span>ã®ã‚ˆãè¨€ã‚ã‚Œã‚‹å•é¡Œç‚¹ã®ä¸€ã¤ã¨ã—ã¦ã€æ–‡å­—åˆ—å‹ãŒä¸‹è¨˜ã®ã‚ˆã†ã«ã‚ˆãä½¿ã‚ã‚Œã‚‹ã‚‚ã®ã ã‘ã§<strong><span class="ascii">5</span>ç¨®é¡</strong>ã‚‚ã‚ã‚‹ã€ã¨ã„ã†ç‚¹ãŒã‚ã‚Šã¾ã™<span class="ascii">:</span></p>
<ul>
<li><code>String</code></li>
<li><span class="ascii">Strict</span>ãª<code>Text</code></li>
<li><span class="ascii">Lazy</span>ãª<code>Text</code></li>
<li><span class="ascii">Strict</span>ãª<code>ByteString</code></li>
<li><span class="ascii">Lazy</span>ãª<code>ByteString</code></li>
</ul>
<p><small>ï¼ˆä¸Šè¨˜ã®é »ç¹ã«ä½¿ã‚ã‚Œã‚‹ã‚‚ã®ä»¥å¤–ã«ã‚‚ã€ã‚‚ã£ã¨ã‚ã‚Šã¾ã™ï¼‰</small></p>
<p>ãã‚Œãã‚Œç¢ºã‹ã«ä½¿ã„ã©ã“ã‚ãŒé•ã†ã®ã§ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ä½¿ç”¨ã™ã‚‹å ´åˆã¯å ´é¢ã«å¿œã˜ã¦ä½¿ã„åˆ†ã‘ã‚Œã°ã„ã„ã®ã§ã™ãŒã€æ–‡å­—åˆ—ã‚’ä½¿ã£ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¼ã‚’é–‹ç™ºã™ã‚‹å ´åˆã¯ãªã‹ãªã‹æ‚©ã¾ã—ã„ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚å†…éƒ¨ã§ä¾å­˜ã—ã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¼ãŒä½¿ç”¨ã—ã¦ã„ã‚‹ã‚‚ã®ãŒã‚ã‚Œã°ã€ãã‚Œã‚’ãã®ã¾ã¾ä½¿ã†ã®ãŒç°¡å˜ã§ç¢ºå®Ÿã§ã™ãŒã€ãã†ã§ãªã„å ´åˆã‚‚å¤šã„ã§ã—ã‚‡ã†ã€‚ãã“ã§æœ¬ç¨¿ã§ã¯æ–‡å­—åˆ—å‹ã‚’æŠ½è±¡åŒ–ã—ã¦æ‰±ã„ãŸã„å ´åˆã®æ‰‹æ®µã¨ã—ã¦ã€<a href="https://hackage.haskell.org/package/mono-traversable"><span class="ascii">mono-traversalbe</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸</a>ã‚’æ¤œè¨ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚</p>
<div id="table-of-contents-outer">
<div id="table-of-contents">
<div class="table-of-contents-title">
Contents
</div>
<ul>
<li><a href="#mono-traversableãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç´¹ä»‹" title="mono-traversableãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç´¹ä»‹"><span class="ascii">mono-traversable</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç´¹ä»‹</a></li>
<li><a href="#mono-traversableãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ãŠã‘ã‚‹å‹ã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¨å„ç¨®æ–‡å­—åˆ—å‹å‘ã‘é–¢æ•°ã®å¯¾å¿œè¡¨" title="mono-traversableãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ãŠã‘ã‚‹å‹ã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¨å„ç¨®æ–‡å­—åˆ—å‹å‘ã‘é–¢æ•°ã®å¯¾å¿œè¡¨"><span class="ascii">mono-traversable</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ãŠã‘ã‚‹å‹ã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã€å„ç¨®æ–‡å­—åˆ—å‹å‘ã‘é–¢æ•°ã®å¯¾å¿œè¡¨</a></li>
<li><a href="#ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«é–¢ã‚ã‚‹æ³¨æ„äº‹é …" title="ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«é–¢ã‚ã‚‹æ³¨æ„äº‹é …">âš ï¸ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«é–¢ã‚ã‚‹æ³¨æ„äº‹é …</a></li>
<li><a href="#äº‹ä¾‹-stringã‹ã‚‰ç›¸äº’å¤‰æ›ã§ãã‚‹å‹ã‚’æŠ½è±¡åŒ–ã™ã‚‹" title="äº‹ä¾‹-stringã‹ã‚‰ç›¸äº’å¤‰æ›ã§ãã‚‹å‹ã‚’æŠ½è±¡åŒ–ã™ã‚‹">äº‹ä¾‹<span class="ascii">:</span> <code>String</code>ã‹ã‚‰ç›¸äº’å¤‰æ›ã§ãã‚‹å‹ã‚’æŠ½è±¡åŒ–ã™ã‚‹</a></li>
<li><a href="#ã¾ã¨ã‚" title="ã¾ã¨ã‚">ã¾ã¨ã‚</a></li>
</ul>
</div>
</div>
<h1 id="mono-traversableãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç´¹ä»‹"><span class="link-to-here-outer"><a href="#mono-traversableãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç´¹ä»‹" title="mono-traversableãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç´¹ä»‹"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">mono-traversable</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç´¹ä»‹</h1>
<p><span class="ascii">mono-traversable</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã€åå‰ã®ã¨ãŠã‚Š<code>MonoTraversable</code>ã‚„<code>MonoFoldable</code>ã€<code>MonoFunctor</code>ã¨ã„ã£ãŸãŠãªã˜ã¿ã®å‹ã‚¯ãƒ©ã‚¹ã®åå‰ã«<code>Mono</code>ã¨ã„ã†æ¥é ­è¾ã‚’ä»˜ã‘ãŸå‹ã‚¯ãƒ©ã‚¹ã«ã‚ˆã£ã¦ã€å¤šæ§˜ãªã‚³ãƒ³ãƒ†ãƒŠå‹ã‚’æŠ½è±¡åŒ–ã—ã¦ãã‚Œã¾ã™ã€‚ã“ã‚Œã‚‰ã®å‹ã‚¯ãƒ©ã‚¹ã¯ã™ã¹ã¦ã€<code>ByteString</code>ã‚„<code>Text</code>ã®ã‚ˆã†ãªã€ã€Œè¦ç´ ã¨ã—ã¦æŒã¦ã‚‹å€¤ã®å‹ãŒ<span class="ascii">1</span>ç¨®é¡ã ã‘ã€ã®å‹ã‚‚å¯¾è±¡ã«ã—ã¦ã„ã‚‹ã®ãŒç‰¹å¾´ã§ã™ã€‚<span class="ascii">Type Family</span>ã‚’å¿œç”¨ã—ã€æ¬¡ã®ã‚ˆã†ã«å‹æ¯ã«è¦ç´ ã®å‹ã‚’å›ºå®šã™ã‚‹ã“ã¨ã§ã€ãã†ã—ãŸç‰¹å¾´ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™<span class="ascii">:</span></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">type</span> <span class="kw">family</span> <span class="dt">Element</span> mono</a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="kw">type</span> <span class="kw">instance</span> <span class="dt">Element</span> <span class="dt">ByteString</span> <span class="ot">=</span> <span class="dt">Word8</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="kw">type</span> <span class="kw">instance</span> <span class="dt">Element</span> <span class="dt">Text</span> <span class="ot">=</span> <span class="dt">Char</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="kw">type</span> <span class="kw">instance</span> <span class="dt">Element</span> [a] <span class="ot">=</span> a</a>
<a class="sourceLine" id="cb1-6" title="6"></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">-- ...</span></a>
<a class="sourceLine" id="cb1-8" title="8"></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="kw">class</span> <span class="dt">MonoFunctor</span> mono <span class="kw">where</span></a>
<a class="sourceLine" id="cb1-10" title="10">  <span class="co">-- ...</span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="ot">  omap ::</span> (<span class="dt">Element</span> mono <span class="ot">-&gt;</span> <span class="dt">Element</span> mono) <span class="ot">-&gt;</span> mono <span class="ot">-&gt;</span> mono</a>
<a class="sourceLine" id="cb1-12" title="12"></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="kw">instance</span> <span class="dt">MonoFunctor</span> <span class="dt">ByteString</span> <span class="kw">where</span></a>
<a class="sourceLine" id="cb1-14" title="14">  omap <span class="ot">=</span> <span class="dt">ByteString</span><span class="op">.</span><span class="fu">map</span></a>
<a class="sourceLine" id="cb1-15" title="15"></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="kw">instance</span> <span class="dt">MonoFunctor</span> <span class="dt">Text</span> <span class="kw">where</span></a>
<a class="sourceLine" id="cb1-17" title="17">  omap <span class="ot">=</span> Text.map</a>
<a class="sourceLine" id="cb1-18" title="18"></a>
<a class="sourceLine" id="cb1-19" title="19"><span class="kw">instance</span> <span class="dt">MonoFunctor</span> [a] <span class="kw">where</span></a>
<a class="sourceLine" id="cb1-20" title="20">  omap <span class="ot">=</span> <span class="fu">map</span></a></code></pre></div>
<p>â€»<span class="ascii">mono-traversable</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚½ãƒ¼ã‚¹ã‹ã‚‰å¼•ç”¨ã—ã¦å°‘ã—æ”¹å¤‰ã—ã¾ã—ãŸã€‚</p>
<p>ã•ã‚‰ã«ã€ã“ã‚Œã¾ã§ç´¹ä»‹ã—ãŸ<code>MonoTraversable</code>ã‚„<code>MonoFoldable</code>ã€<code>MonoFunctor</code>ã«åŠ ãˆã¦ã€<code>SemiSequence</code>ã‚„<code>IsSequence</code>ã¨ã„ã†å‹ã‚¯ãƒ©ã‚¹ã§åˆ†è§£ã‚„æ§‹ç¯‰ã«é–¢ã‚ã‚‹æ“ä½œ<small>ï¼ˆä¾‹ãˆã°<code>cons</code>ã‚„<code>break</code>ï¼‰</small>ãªã©ã®ä»–ã€<small>ï¼ˆä»Šå›ã¯å–ã‚Šä¸Šã’ã¾ã›ã‚“ãŒï¼‰</small><code>SetContainer</code>ãªã©ã®å‹ã‚¯ãƒ©ã‚¹ã§<code>Map</code>ã‚„<code>Set</code>ã€<code>IntMap</code>ãªã©ã®å‹ã¾ã§æŠ½è±¡åŒ–ã—ã¦ãã‚Œã¾ã™ã€‚</p>
<p>ãã“ã§æ¬¡ã®ç¯€ã§ã¯ã€ã“ã®<span class="ascii">mono-traversable</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ãŠã‘ã‚‹å‹ã‚¯ãƒ©ã‚¹ã‚’ä¸­å¿ƒã«ã€<code>Data.Text</code>ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚„<code>Data.ByteString</code>ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ãŠã‘ã‚‹å„é–¢æ•°ãŒã€ã©ã®å‹ã‚¯ãƒ©ã‚¹ã«å¯¾ã™ã‚‹ã©ã®é–¢æ•°ã«å¯¾å¿œã™ã‚‹ã®ã‹ã€ã¾ã¨ã‚ãŸè¡¨ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚</p>
<h1 id="mono-traversableãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ãŠã‘ã‚‹å‹ã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¨å„ç¨®æ–‡å­—åˆ—å‹å‘ã‘é–¢æ•°ã®å¯¾å¿œè¡¨"><span class="link-to-here-outer"><a href="#mono-traversableãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ãŠã‘ã‚‹å‹ã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¨å„ç¨®æ–‡å­—åˆ—å‹å‘ã‘é–¢æ•°ã®å¯¾å¿œè¡¨" title="mono-traversableãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ãŠã‘ã‚‹å‹ã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¨å„ç¨®æ–‡å­—åˆ—å‹å‘ã‘é–¢æ•°ã®å¯¾å¿œè¡¨"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">mono-traversable</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ãŠã‘ã‚‹å‹ã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã€å„ç¨®æ–‡å­—åˆ—å‹å‘ã‘é–¢æ•°ã®å¯¾å¿œè¡¨</h1>
<ul>
<li>â„¹ï¸èª¿æŸ»ã—ãŸ<span class="ascii">mono-traversable</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯<span class="ascii">1.0.15.3</span>ã§ã™</li>
<li>â„¹ï¸åŸå‰‡ã¨ã—ã¦é–¢æ•°ã®åå‰ã—ã‹è¦‹ã¦ã„ãªã„ã®ã§ã€å®Ÿéš›ã«ã¯ç•°ãªã‚‹ç”¨é€”ã‹ã‚‚çŸ¥ã‚Œã¾ã›ã‚“</li>
<li>â„¹ï¸<span class="ascii">mono-traversable</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã‚ã‚‹å‹ã‚¯ãƒ©ã‚¹ã®ä»–ã€<span class="ascii">base</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã‚ã‚‹<code>Monoid</code>ã€<code>Semigroup</code>ãªã©ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚èª¿æŸ»å¯¾è±¡ã«å«ã‚ã¾ã—ãŸ</li>
<li>â„¹ï¸<code>String</code>ã«ã¤ã„ã¦ã¯<span class="ascii">base</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã‚ã‚‹é–¢æ•°ã®ã¿ã‚’å¯¾è±¡ã«ã—ã¦ã„ã¾ã™ãŒã€<code>Data.List</code>ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨è‡ªåˆ†ã®è¨˜æ†¶ã‚’é ¼ã‚Šã«åŸ‹ã‚ã¦ã„ã‚‹ã®ã§é–“é•ã„ãŒã‚ã‚‹ã‹ã‚‚çŸ¥ã‚Œã¾ã›ã‚“</li>
<li>â„¹ï¸<code>Text</code>ãƒ»<code>ByteString</code>ã«ã¤ã„ã¦ã¯<span class="ascii">Strict</span>ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã¿å‚ç…§ã—ã¦ã„ã¾ã™ã€‚<span class="ascii">Lazy</span>ãªæ–¹ã«ãªã‹ã£ãŸã‚‰ã”ã‚ã‚“ãªã•ã„ï¼</li>
<li>â„¹ï¸<code>Textual</code>å‹ã‚¯ãƒ©ã‚¹ã«ã¤ã„ã¦ã¯ã€<code>ByteString</code>ãŒã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ãªã£ã¦ã„ãªã„ã®ã§ã”æ³¨æ„ãã ã•ã„</li>
<li>â„¹ï¸ä»¥ä¸‹ã®ã‚ˆã†ãªé–¢æ•°ã¯é™¤å¤–ã—ã¾ã—ãŸ<span class="ascii">:</span>
<ul>
<li><code>IO</code>ãŒçµ¡ã‚€ã‚‚ã®</li>
<li>ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ãªå‡¦ç†ã§ä½¿ã†ã‚‚ã®</li>
</ul></li>
</ul>
<table>
<thead>
<tr class="header">
<th><code>Text</code></th>
<th><code>ByteString</code></th>
<th><code>String</code> <span class="ascii">(</span><code>[Char]</code><span class="ascii">)</span></th>
<th>å‹ã‚¯ãƒ©ã‚¹ <span class="ascii">/</span> é–¢æ•°</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>all</code></td>
<td><code>all</code></td>
<td><code>all</code></td>
<td><code>MonoFoldable</code> <span class="ascii">/</span> <code>oall</code></td>
</tr>
<tr class="even">
<td><code>any</code></td>
<td><code>any</code></td>
<td><code>any</code></td>
<td><code>MonoFoldable</code> <span class="ascii">/</span> <code>oany</code></td>
</tr>
<tr class="odd">
<td><code>append</code></td>
<td><code>append</code></td>
<td><code>++</code></td>
<td><code>Semigroup</code> <span class="ascii">/</span> <code>&lt;&gt;</code></td>
</tr>
<tr class="even">
<td><span class="ascii">N/A</span></td>
<td><code>breakByte</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><span class="ascii">N/A</span></td>
<td><code>breakEnd</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><code>breakOnAll</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><code>breakOnEnd</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><code>breakOn</code></td>
<td><code>breakSubstring</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><code>break</code></td>
<td><code>break</code></td>
<td><code>break</code></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>break</code></td>
</tr>
<tr class="even">
<td><code>center</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><code>chunksOf</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><code>commonPrefixes</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><code>compareLength</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><code>concatMap</code></td>
<td><span class="ascii">N/A</span></td>
<td><code>concatMap</code></td>
<td><code>MonoFoldable</code> <span class="ascii">/</span> <code>ofoldMap</code></td>
</tr>
<tr class="odd">
<td><code>concat</code></td>
<td><code>concat</code></td>
<td><code>concat</code></td>
<td><code>MonoFoldable</code> <span class="ascii">/</span> <code>ofold</code></td>
</tr>
<tr class="even">
<td><code>cons</code></td>
<td><code>cons</code></td>
<td><span class="ascii">N/A</span></td>
<td><code>SemiSequence</code> <span class="ascii">/</span> <code>cons</code></td>
</tr>
<tr class="odd">
<td><code>copy</code></td>
<td><code>copy</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><code>count</code></td>
<td><code>count</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><code>dropAround</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><code>dropEnd</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>dropEnd</code></td>
</tr>
<tr class="odd">
<td><code>dropWhileEnd</code></td>
<td><code>dropWhileEnd</code></td>
<td><code>dropWhileEnd</code></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><code>dropWhile</code></td>
<td><code>dropWhile</code></td>
<td><code>dropWhile</code></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>dropWhile</code></td>
</tr>
<tr class="odd">
<td><code>drop</code></td>
<td><code>drop</code></td>
<td><code>drop</code></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>drop</code></td>
</tr>
<tr class="even">
<td><span class="ascii">N/A</span></td>
<td><code>elemIndexEnd</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><span class="ascii">N/A</span></td>
<td><code>elemIndex</code></td>
<td><code>elemIndex</code></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><span class="ascii">N/A</span></td>
<td><code>elemIndices</code></td>
<td><code>elemIndices</code></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><span class="ascii">N/A</span></td>
<td><code>elem</code></td>
<td><code>elem</code></td>
<td><code>MonoFoldable</code> <span class="ascii">/</span> <code>oelem</code></td>
</tr>
<tr class="even">
<td><code>empty</code></td>
<td><code>empty</code></td>
<td><code>""</code></td>
<td><code>Monoid</code> <span class="ascii">/</span> <code>mempty</code></td>
</tr>
<tr class="odd">
<td><code>filter</code></td>
<td><code>filter</code></td>
<td><code>filter</code></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>filter</code></td>
</tr>
<tr class="even">
<td><span class="ascii">N/A</span></td>
<td><code>findIndexEnd</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><code>findIndex</code></td>
<td><code>findIndex</code></td>
<td><code>findIndex</code></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><span class="ascii">N/A</span></td>
<td><code>findIndices</code></td>
<td><code>findIndices</code></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><span class="ascii">N/A</span></td>
<td><code>findSubstring</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><span class="ascii">N/A</span></td>
<td><code>findSubstrings</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><code>find</code></td>
<td><code>find</code></td>
<td><code>find</code></td>
<td><code>SemiSequence</code> <span class="ascii">/</span> <code>find</code></td>
</tr>
<tr class="even">
<td><code>foldl'</code></td>
<td><code>foldl'</code></td>
<td><code>foldl'</code></td>
<td><code>MonoFoldable</code> <span class="ascii">/</span> <code>ofoldl'</code></td>
</tr>
<tr class="odd">
<td><code>foldl1'</code></td>
<td><code>foldl1'</code></td>
<td><code>foldl1'</code></td>
<td><code>MonoFoldable</code> <span class="ascii">/</span> <code>ofoldl1Ex'</code></td>
</tr>
<tr class="even">
<td><code>foldl1</code></td>
<td><code>foldl1</code></td>
<td><code>foldl1</code></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><code>foldl</code></td>
<td><code>foldl</code></td>
<td><code>foldl</code></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><span class="ascii">N/A</span></td>
<td><code>foldr'</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><span class="ascii">N/A</span></td>
<td><code>foldr1'</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><code>foldr1</code></td>
<td><code>foldr1</code></td>
<td><code>foldr1</code></td>
<td><code>MonoFoldable</code> <span class="ascii">/</span> <code>ofoldr1Ex</code></td>
</tr>
<tr class="odd">
<td><code>foldr</code></td>
<td><code>foldr</code></td>
<td><code>foldr</code></td>
<td><code>MonoFoldable</code> <span class="ascii">/</span> <code>ofoldr</code></td>
</tr>
<tr class="even">
<td><code>groupBy</code></td>
<td><code>groupBy</code></td>
<td><code>groupBy</code></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>groupBy</code></td>
</tr>
<tr class="odd">
<td><code>group</code></td>
<td><code>group</code></td>
<td><code>group</code></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>group</code></td>
</tr>
<tr class="even">
<td><code>head</code></td>
<td><code>head</code></td>
<td><code>head</code></td>
<td><code>MonoFoldable</code> <span class="ascii">/</span> <code>headEx</code></td>
</tr>
<tr class="odd">
<td><code>index</code></td>
<td><code>index</code></td>
<td><code>index</code></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>indexEx</code></td>
</tr>
<tr class="even">
<td><code>init</code></td>
<td><code>init</code></td>
<td><code>init</code></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>initEx</code></td>
</tr>
<tr class="odd">
<td><code>inits</code></td>
<td><code>inits</code></td>
<td><code>inits</code></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><code>intercalate</code></td>
<td><code>intercalate</code></td>
<td><code>intercalate</code></td>
<td><code>MonoFoldable</code> <span class="ascii">/</span> <code>ointercalate</code></td>
</tr>
<tr class="odd">
<td><code>intersperse</code></td>
<td><code>intersperse</code></td>
<td><code>intersperse</code></td>
<td><code>SemiSequence</code> <span class="ascii">/</span> <code>intersperse</code></td>
</tr>
<tr class="even">
<td><code>isInfixOf</code></td>
<td><code>isInfixOf</code></td>
<td><code>isInfixOf</code></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>isInfixOf</code></td>
</tr>
<tr class="odd">
<td><code>isPrefixOf</code></td>
<td><code>isPrefixOf</code></td>
<td><code>isPrefixOf</code></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>isPrefixOf</code></td>
</tr>
<tr class="even">
<td><code>isSuffixOf</code></td>
<td><code>isSuffixOf</code></td>
<td><code>isSuffixOf</code></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>isSuffixOf</code></td>
</tr>
<tr class="odd">
<td><code>justifyLeft</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><code>justifyRight</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><code>last</code></td>
<td><code>last</code></td>
<td><code>last</code></td>
<td><code>MonoFoldable</code> <span class="ascii">/</span> <code>lastEx</code></td>
</tr>
<tr class="even">
<td><code>length</code></td>
<td><code>length</code></td>
<td><code>length</code></td>
<td><code>MonoFoldable</code> <span class="ascii">/</span> <code>olength</code></td>
</tr>
<tr class="odd">
<td><code>lines</code></td>
<td><span class="ascii">N/A</span></td>
<td><code>lines</code></td>
<td><code>Textual</code> <span class="ascii">/</span> <code>lines</code></td>
</tr>
<tr class="even">
<td><code>mapAccumL</code></td>
<td><code>mapAccumL</code></td>
<td><code>mapAccumL</code></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><code>mapAccumR</code></td>
<td><code>mapAccumR</code></td>
<td><code>mapAccumR</code></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><code>map</code></td>
<td><code>map</code></td>
<td><code>map</code></td>
<td><code>MonoFunctor</code> <span class="ascii">/</span> <code>omap</code></td>
</tr>
<tr class="odd">
<td><code>maximum</code></td>
<td><code>maximum</code></td>
<td><code>maximum</code></td>
<td><code>MonoFoldable</code> <span class="ascii">/</span> <code>maximumEx</code></td>
</tr>
<tr class="even">
<td><code>minimum</code></td>
<td><code>minimum</code></td>
<td><code>minimum</code></td>
<td><code>MonoFoldable</code> <span class="ascii">/</span> <code>minimumEx</code></td>
</tr>
<tr class="odd">
<td><span class="ascii">N/A</span></td>
<td><code>notElem</code></td>
<td><code>notElem</code></td>
<td><code>MonoFoldable</code> <span class="ascii">/</span> <code>onotElem</code></td>
</tr>
<tr class="even">
<td><code>null</code></td>
<td><code>null</code></td>
<td><code>null</code></td>
<td><code>MonoFoldable</code> <span class="ascii">/</span> <code>onull</code></td>
</tr>
<tr class="odd">
<td><code>pack</code></td>
<td><code>pack</code></td>
<td><code>id</code></td>
<td><code>IsString</code> <span class="ascii">/</span> <code>fromString</code></td>
</tr>
<tr class="even">
<td><code>partition</code></td>
<td><code>partition</code></td>
<td><code>partition</code></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>partition</code></td>
</tr>
<tr class="odd">
<td><code>replace</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>replaceSeq</code></td>
</tr>
<tr class="even">
<td><code>replicate</code></td>
<td><code>replicate</code></td>
<td><code>replicate</code></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>replicate</code></td>
</tr>
<tr class="odd">
<td><code>reverse</code></td>
<td><code>reverse</code></td>
<td><code>reverse</code></td>
<td><code>SemiSequence</code> <span class="ascii">/</span> <code>reverse</code></td>
</tr>
<tr class="even">
<td><code>scanl1</code></td>
<td><code>scanl1</code></td>
<td><code>scanl1</code></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><code>scanl</code></td>
<td><code>scanl</code></td>
<td><code>scanl</code></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><code>scanr1</code></td>
<td><code>scanr1</code></td>
<td><code>scanr1</code></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><code>scanr</code></td>
<td><code>scanr</code></td>
<td><code>scanr</code></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><code>singleton</code></td>
<td><code>singleton</code></td>
<td><code>singleton</code></td>
<td><code>MonoPointed</code> <span class="ascii">/</span> <code>opoint</code></td>
</tr>
<tr class="odd">
<td><code>snoc</code></td>
<td><code>snoc</code></td>
<td><code>snoc</code></td>
<td><code>SemiSequence</code> <span class="ascii">/</span> <code>snoc</code></td>
</tr>
<tr class="even">
<td><span class="ascii">N/A</span></td>
<td><code>sort</code></td>
<td><code>sort</code></td>
<td><code>SemiSequence</code> <span class="ascii">/</span> <code>sort</code></td>
</tr>
<tr class="odd">
<td><span class="ascii">N/A</span></td>
<td><code>spanEnd</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><code>span</code></td>
<td><code>span</code></td>
<td><code>span</code></td>
<td><code>SemiSequence</code> <span class="ascii">/</span> <code>span</code></td>
</tr>
<tr class="odd">
<td><code>splitAt</code></td>
<td><code>splitAt</code></td>
<td><code>splitAt</code></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>splitAt</code></td>
</tr>
<tr class="even">
<td><code>splitOn</code></td>
<td><span class="ascii">N/A</span></td>
<td><code>splitOn</code></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>splitSeq</code></td>
</tr>
<tr class="odd">
<td><span class="ascii">N/A</span></td>
<td><code>splitWith</code></td>
<td><span class="ascii">N/A</span></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>splitElem</code></td>
</tr>
<tr class="even">
<td><code>split</code></td>
<td><code>splitWith</code></td>
<td><span class="ascii">N/A</span></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>splitWhen</code></td>
</tr>
<tr class="odd">
<td><code>stripEnd</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
<td><code>N/A</code></td>
</tr>
<tr class="even">
<td><code>stripPrefix</code></td>
<td><code>stripPrefix</code></td>
<td><code>stripPrefix</code></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>stripPrefix</code></td>
</tr>
<tr class="odd">
<td><code>stripStart</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><code>stripSuffix</code></td>
<td><code>stripSuffix</code></td>
<td><span class="ascii">N/A</span></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>stripSuffix</code></td>
</tr>
<tr class="odd">
<td><code>strip</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><code>tail</code></td>
<td><code>tail</code></td>
<td><code>tail</code></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>tail</code></td>
</tr>
<tr class="odd">
<td><code>tails</code></td>
<td><code>tails</code></td>
<td><code>tails</code></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><code>takeEnd</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><code>takeWhileEnd</code></td>
<td><code>takeWhileEnd</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><code>takeWhile</code></td>
<td><code>takeWhile</code></td>
<td><code>takeWhile</code></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>takeWhile</code></td>
</tr>
<tr class="odd">
<td><code>take</code></td>
<td><code>take</code></td>
<td><code>take</code></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>take</code></td>
</tr>
<tr class="even">
<td><code>toCaseFold</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
<td><code>Textual</code> <span class="ascii">/</span> <code>toCaseFold</code></td>
</tr>
<tr class="odd">
<td><code>toLower</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
<td><code>Textual</code> <span class="ascii">/</span> <code>toLower</code></td>
</tr>
<tr class="even">
<td><code>toTitle</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><code>toUpper</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
<td><code>Textual</code> <span class="ascii">/</span> <code>toUpper</code></td>
</tr>
<tr class="even">
<td><code>transpose</code></td>
<td><code>transpose</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><code>uncons</code></td>
<td><code>uncons</code></td>
<td><span class="ascii">N/A</span></td>
<td><code>IsSequence</code> <span class="ascii">/</span> <code>uncons</code></td>
</tr>
<tr class="even">
<td><code>unfoldrN</code></td>
<td><code>unfoldrN</code></td>
<td><span class="ascii">N/A</span></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="odd">
<td><code>unfoldr</code></td>
<td><code>unfoldr</code></td>
<td><code>unfoldr</code></td>
<td><span class="ascii">N/A</span></td>
</tr>
<tr class="even">
<td><code>unlines</code></td>
<td><span class="ascii">N/A</span></td>
<td><code>unlines</code></td>
<td><code>Textual</code> <span class="ascii">/</span> <code>unlines</code></td>
</tr>
<tr class="odd">
<td><code>unpack</code></td>
<td><code>unpack</code></td>
<td><code>id</code></td>
<td><code>MonoFoldable</code> <span class="ascii">/</span> <code>otoList</code></td>
</tr>
<tr class="even">
<td><code>unsnoc</code></td>
<td><code>unsnoc</code></td>
<td><code>N/A</code></td>
<td><code>SemiSequence</code> <span class="ascii">/</span> <code>unsnoc</code></td>
</tr>
<tr class="odd">
<td><code>unwords</code></td>
<td><span class="ascii">N/A</span></td>
<td><code>unwords</code></td>
<td><code>Textual</code> <span class="ascii">/</span> <code>unwords</code></td>
</tr>
<tr class="even">
<td><code>words</code></td>
<td><span class="ascii">N/A</span></td>
<td><code>words</code></td>
<td><code>Textual</code> <span class="ascii">/</span> <code>words</code></td>
</tr>
<tr class="odd">
<td><code>zipWith</code></td>
<td><code>zipWith</code></td>
<td><code>zipWith</code></td>
<td><code>MonoZip</code> <span class="ascii">/</span> <code>ozipWith</code></td>
</tr>
<tr class="even">
<td><code>zip</code></td>
<td><code>zip</code></td>
<td><code>zip</code></td>
<td><code>MonoZip</code> <span class="ascii">/</span> <code>ozip</code></td>
</tr>
</tbody>
</table>
<!--
å…ƒãƒã‚¿ã¨ã—ã¦`:browse`ã—ãŸçµæœã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™

> :browse Data.Text
T.all :: (Char -> Bool) -> T.Text -> Bool
T.any :: (Char -> Bool) -> T.Text -> Bool
T.append :: T.Text -> T.Text -> T.Text
T.break :: (Char -> Bool) -> T.Text -> (T.Text, T.Text)
T.breakOn :: T.Text -> T.Text -> (T.Text, T.Text)
T.breakOnAll :: T.Text -> T.Text -> [(T.Text, T.Text)]
T.breakOnEnd :: T.Text -> T.Text -> (T.Text, T.Text)
T.center :: Int -> Char -> T.Text -> T.Text
T.chunksOf :: Int -> T.Text -> [T.Text]
T.commonPrefixes ::
  T.Text -> T.Text -> Maybe (T.Text, T.Text, T.Text)
T.compareLength :: T.Text -> Int -> Ordering
T.concat :: [T.Text] -> T.Text
T.concatMap :: (Char -> T.Text) -> T.Text -> T.Text
T.cons :: Char -> T.Text -> T.Text
T.copy :: T.Text -> T.Text
T.count :: T.Text -> T.Text -> Int
T.drop :: Int -> T.Text -> T.Text
T.dropAround :: (Char -> Bool) -> T.Text -> T.Text
T.dropEnd :: Int -> T.Text -> T.Text
T.dropWhile :: (Char -> Bool) -> T.Text -> T.Text
T.dropWhileEnd :: (Char -> Bool) -> T.Text -> T.Text
T.filter :: (Char -> Bool) -> T.Text -> T.Text
T.find :: (Char -> Bool) -> T.Text -> Maybe Char
T.findIndex :: (Char -> Bool) -> T.Text -> Maybe Int
T.foldl :: (a -> Char -> a) -> a -> T.Text -> a
T.foldl' :: (a -> Char -> a) -> a -> T.Text -> a
T.foldl1 :: (Char -> Char -> Char) -> T.Text -> Char
T.foldl1' :: (Char -> Char -> Char) -> T.Text -> Char
T.foldr :: (Char -> a -> a) -> a -> T.Text -> a
T.foldr1 :: (Char -> Char -> Char) -> T.Text -> Char
T.group :: T.Text -> [T.Text]
T.groupBy :: (Char -> Char -> Bool) -> T.Text -> [T.Text]
T.head :: T.Text -> Char
T.index :: T.Text -> Int -> Char
T.init :: T.Text -> T.Text
T.inits :: T.Text -> [T.Text]
T.intercalate :: T.Text -> [T.Text] -> T.Text
T.intersperse :: Char -> T.Text -> T.Text
T.isInfixOf :: T.Text -> T.Text -> Bool
T.isPrefixOf :: T.Text -> T.Text -> Bool
T.isSuffixOf :: T.Text -> T.Text -> Bool
T.justifyLeft :: Int -> Char -> T.Text -> T.Text
T.justifyRight :: Int -> Char -> T.Text -> T.Text
T.last :: T.Text -> Char
T.length :: T.Text -> Int
T.lines :: T.Text -> [T.Text]
T.map :: (Char -> Char) -> T.Text -> T.Text
T.mapAccumL ::
  (a -> Char -> (a, Char)) -> a -> T.Text -> (a, T.Text)
T.mapAccumR ::
  (a -> Char -> (a, Char)) -> a -> T.Text -> (a, T.Text)
T.maximum :: T.Text -> Char
T.minimum :: T.Text -> Char
T.null :: T.Text -> Bool
T.pack :: String -> T.Text
T.partition :: (Char -> Bool) -> T.Text -> (T.Text, T.Text)
T.replace :: T.Text -> T.Text -> T.Text -> T.Text
T.replicate :: Int -> T.Text -> T.Text
T.reverse :: T.Text -> T.Text
T.scanl :: (Char -> Char -> Char) -> Char -> T.Text -> T.Text
T.scanl1 :: (Char -> Char -> Char) -> T.Text -> T.Text
T.scanr :: (Char -> Char -> Char) -> Char -> T.Text -> T.Text
T.scanr1 :: (Char -> Char -> Char) -> T.Text -> T.Text
T.snoc :: T.Text -> Char -> T.Text
T.span :: (Char -> Bool) -> T.Text -> (T.Text, T.Text)
T.split :: (Char -> Bool) -> T.Text -> [T.Text]
T.splitAt :: Int -> T.Text -> (T.Text, T.Text)
T.splitOn :: T.Text -> T.Text -> [T.Text]
T.strip :: T.Text -> T.Text
T.stripEnd :: T.Text -> T.Text
T.stripPrefix :: T.Text -> T.Text -> Maybe T.Text
T.stripStart :: T.Text -> T.Text
T.stripSuffix :: T.Text -> T.Text -> Maybe T.Text
T.tail :: T.Text -> T.Text
T.tails :: T.Text -> [T.Text]
T.take :: Int -> T.Text -> T.Text
T.takeEnd :: Int -> T.Text -> T.Text
T.takeWhile :: (Char -> Bool) -> T.Text -> T.Text
T.takeWhileEnd :: (Char -> Bool) -> T.Text -> T.Text
T.toCaseFold :: T.Text -> T.Text
T.toLower :: T.Text -> T.Text
T.toTitle :: T.Text -> T.Text
T.toUpper :: T.Text -> T.Text
T.transpose :: [T.Text] -> [T.Text]
T.uncons :: T.Text -> Maybe (Char, T.Text)
T.unfoldr :: (a -> Maybe (Char, a)) -> a -> T.Text
T.unfoldrN :: Int -> (a -> Maybe (Char, a)) -> a -> T.Text
T.unlines :: [T.Text] -> T.Text
T.unsnoc :: T.Text -> Maybe (T.Text, Char)
T.unwords :: [T.Text] -> T.Text
T.words :: T.Text -> [T.Text]
T.zip :: T.Text -> T.Text -> [(Char, Char)]
T.zipWith :: (Char -> Char -> Char) -> T.Text -> T.Text -> T.Text
type T.Text :: *
data T.Text
  = Data.Text.Internal.Text {-# UNPACK #-}Data.Text.Array.Array
                            {-# UNPACK #-}Int
                            {-# UNPACK #-}Int
T.empty :: T.Text
T.singleton :: Char -> T.Text
T.unpack :: T.Text -> String
T.unpackCString# :: GHC.Prim.Addr# -> T.Text

B.all :: (GHC.Word.Word8 -> Bool) -> B.ByteString -> Bool
B.any :: (GHC.Word.Word8 -> Bool) -> B.ByteString -> Bool
B.append :: B.ByteString -> B.ByteString -> B.ByteString
B.appendFile :: FilePath -> B.ByteString -> IO ()
B.break ::
  (GHC.Word.Word8 -> Bool)
  -> B.ByteString -> (B.ByteString, B.ByteString)
B.breakByte ::
  GHC.Word.Word8 -> B.ByteString -> (B.ByteString, B.ByteString)
B.breakEnd ::
  (GHC.Word.Word8 -> Bool)
  -> B.ByteString -> (B.ByteString, B.ByteString)
B.breakSubstring ::
  B.ByteString -> B.ByteString -> (B.ByteString, B.ByteString)
B.concat :: [B.ByteString] -> B.ByteString
B.concatMap ::
  (GHC.Word.Word8 -> B.ByteString) -> B.ByteString -> B.ByteString
B.cons :: GHC.Word.Word8 -> B.ByteString -> B.ByteString
B.copy :: B.ByteString -> B.ByteString
B.count :: GHC.Word.Word8 -> B.ByteString -> Int
B.drop :: Int -> B.ByteString -> B.ByteString
B.dropWhile ::
  (GHC.Word.Word8 -> Bool) -> B.ByteString -> B.ByteString
B.dropWhileEnd ::
  (GHC.Word.Word8 -> Bool) -> B.ByteString -> B.ByteString
B.elem :: GHC.Word.Word8 -> B.ByteString -> Bool
B.elemIndex :: GHC.Word.Word8 -> B.ByteString -> Maybe Int
B.elemIndexEnd :: GHC.Word.Word8 -> B.ByteString -> Maybe Int
B.elemIndices :: GHC.Word.Word8 -> B.ByteString -> [Int]
B.empty :: B.ByteString
B.filter ::
  (GHC.Word.Word8 -> Bool) -> B.ByteString -> B.ByteString
B.find ::
  (GHC.Word.Word8 -> Bool) -> B.ByteString -> Maybe GHC.Word.Word8
B.findIndex ::
  (GHC.Word.Word8 -> Bool) -> B.ByteString -> Maybe Int
B.findIndexEnd ::
  (GHC.Word.Word8 -> Bool) -> B.ByteString -> Maybe Int
B.findIndices :: (GHC.Word.Word8 -> Bool) -> B.ByteString -> [Int]
B.findSubstring :: B.ByteString -> B.ByteString -> Maybe Int
B.findSubstrings :: B.ByteString -> B.ByteString -> [Int]
B.foldl :: (a -> GHC.Word.Word8 -> a) -> a -> B.ByteString -> a
B.foldl' :: (a -> GHC.Word.Word8 -> a) -> a -> B.ByteString -> a
B.foldl1 ::
  (GHC.Word.Word8 -> GHC.Word.Word8 -> GHC.Word.Word8)
  -> B.ByteString -> GHC.Word.Word8
B.foldl1' ::
  (GHC.Word.Word8 -> GHC.Word.Word8 -> GHC.Word.Word8)
  -> B.ByteString -> GHC.Word.Word8
B.foldr :: (GHC.Word.Word8 -> a -> a) -> a -> B.ByteString -> a
B.foldr' :: (GHC.Word.Word8 -> a -> a) -> a -> B.ByteString -> a
B.foldr1 ::
  (GHC.Word.Word8 -> GHC.Word.Word8 -> GHC.Word.Word8)
  -> B.ByteString -> GHC.Word.Word8
B.foldr1' ::
  (GHC.Word.Word8 -> GHC.Word.Word8 -> GHC.Word.Word8)
  -> B.ByteString -> GHC.Word.Word8
B.getContents :: IO B.ByteString
B.getLine :: IO B.ByteString
B.group :: B.ByteString -> [B.ByteString]
B.groupBy ::
  (GHC.Word.Word8 -> GHC.Word.Word8 -> Bool)
  -> B.ByteString -> [B.ByteString]
B.hGet :: GHC.IO.Handle.Types.Handle -> Int -> IO B.ByteString
B.hGetContents :: GHC.IO.Handle.Types.Handle -> IO B.ByteString
B.hGetLine :: GHC.IO.Handle.Types.Handle -> IO B.ByteString
B.hGetNonBlocking ::
  GHC.IO.Handle.Types.Handle -> Int -> IO B.ByteString
B.hGetSome :: GHC.IO.Handle.Types.Handle -> Int -> IO B.ByteString
B.hPut :: GHC.IO.Handle.Types.Handle -> B.ByteString -> IO ()
B.hPutNonBlocking ::
  GHC.IO.Handle.Types.Handle -> B.ByteString -> IO B.ByteString
B.hPutStr :: GHC.IO.Handle.Types.Handle -> B.ByteString -> IO ()
B.hPutStrLn :: GHC.IO.Handle.Types.Handle -> B.ByteString -> IO ()
B.head :: B.ByteString -> GHC.Word.Word8
B.index :: B.ByteString -> Int -> GHC.Word.Word8
B.init :: B.ByteString -> B.ByteString
B.inits :: B.ByteString -> [B.ByteString]
B.interact :: (B.ByteString -> B.ByteString) -> IO ()
B.intercalate :: B.ByteString -> [B.ByteString] -> B.ByteString
B.intersperse :: GHC.Word.Word8 -> B.ByteString -> B.ByteString
B.isInfixOf :: B.ByteString -> B.ByteString -> Bool
B.isPrefixOf :: B.ByteString -> B.ByteString -> Bool
B.isSuffixOf :: B.ByteString -> B.ByteString -> Bool
B.last :: B.ByteString -> GHC.Word.Word8
B.length :: B.ByteString -> Int
B.map ::
  (GHC.Word.Word8 -> GHC.Word.Word8) -> B.ByteString -> B.ByteString
B.mapAccumL ::
  (acc -> GHC.Word.Word8 -> (acc, GHC.Word.Word8))
  -> acc -> B.ByteString -> (acc, B.ByteString)
B.mapAccumR ::
  (acc -> GHC.Word.Word8 -> (acc, GHC.Word.Word8))
  -> acc -> B.ByteString -> (acc, B.ByteString)
B.maximum :: B.ByteString -> GHC.Word.Word8
B.minimum :: B.ByteString -> GHC.Word.Word8
B.notElem :: GHC.Word.Word8 -> B.ByteString -> Bool
B.null :: B.ByteString -> Bool
B.pack :: [GHC.Word.Word8] -> B.ByteString
B.packCString :: Foreign.C.String.CString -> IO B.ByteString
B.packCStringLen :: Foreign.C.String.CStringLen -> IO B.ByteString
B.partition ::
  (GHC.Word.Word8 -> Bool)
  -> B.ByteString -> (B.ByteString, B.ByteString)
B.putStr :: B.ByteString -> IO ()
B.putStrLn :: B.ByteString -> IO ()
B.readFile :: FilePath -> IO B.ByteString
B.replicate :: Int -> GHC.Word.Word8 -> B.ByteString
B.reverse :: B.ByteString -> B.ByteString
B.scanl ::
  (GHC.Word.Word8 -> GHC.Word.Word8 -> GHC.Word.Word8)
  -> GHC.Word.Word8 -> B.ByteString -> B.ByteString
B.scanl1 ::
  (GHC.Word.Word8 -> GHC.Word.Word8 -> GHC.Word.Word8)
  -> B.ByteString -> B.ByteString
B.scanr ::
  (GHC.Word.Word8 -> GHC.Word.Word8 -> GHC.Word.Word8)
  -> GHC.Word.Word8 -> B.ByteString -> B.ByteString
B.scanr1 ::
  (GHC.Word.Word8 -> GHC.Word.Word8 -> GHC.Word.Word8)
  -> B.ByteString -> B.ByteString
B.singleton :: GHC.Word.Word8 -> B.ByteString
B.snoc :: B.ByteString -> GHC.Word.Word8 -> B.ByteString
B.sort :: B.ByteString -> B.ByteString
B.span ::
  (GHC.Word.Word8 -> Bool)
  -> B.ByteString -> (B.ByteString, B.ByteString)
B.spanEnd ::
  (GHC.Word.Word8 -> Bool)
  -> B.ByteString -> (B.ByteString, B.ByteString)
B.split :: GHC.Word.Word8 -> B.ByteString -> [B.ByteString]
B.splitAt :: Int -> B.ByteString -> (B.ByteString, B.ByteString)
B.splitWith ::
  (GHC.Word.Word8 -> Bool) -> B.ByteString -> [B.ByteString]
B.stripPrefix :: B.ByteString -> B.ByteString -> Maybe B.ByteString
B.stripSuffix :: B.ByteString -> B.ByteString -> Maybe B.ByteString
B.tail :: B.ByteString -> B.ByteString
B.tails :: B.ByteString -> [B.ByteString]
B.take :: Int -> B.ByteString -> B.ByteString
B.takeWhile ::
  (GHC.Word.Word8 -> Bool) -> B.ByteString -> B.ByteString
B.takeWhileEnd ::
  (GHC.Word.Word8 -> Bool) -> B.ByteString -> B.ByteString
B.transpose :: [B.ByteString] -> [B.ByteString]
B.uncons :: B.ByteString -> Maybe (GHC.Word.Word8, B.ByteString)
B.unfoldr :: (a -> Maybe (GHC.Word.Word8, a)) -> a -> B.ByteString
B.unfoldrN ::
  Int
  -> (a -> Maybe (GHC.Word.Word8, a)) -> a -> (B.ByteString, Maybe a)
B.unpack :: B.ByteString -> [GHC.Word.Word8]
B.unsnoc :: B.ByteString -> Maybe (B.ByteString, GHC.Word.Word8)
B.unzip ::
  [(GHC.Word.Word8, GHC.Word.Word8)] -> (B.ByteString, B.ByteString)
B.useAsCString ::
  B.ByteString -> (Foreign.C.String.CString -> IO a) -> IO a
B.useAsCStringLen ::
  B.ByteString -> (Foreign.C.String.CStringLen -> IO a) -> IO a
B.writeFile :: FilePath -> B.ByteString -> IO ()
B.zip ::
  B.ByteString -> B.ByteString -> [(GHC.Word.Word8, GHC.Word.Word8)]
B.zipWith ::
  (GHC.Word.Word8 -> GHC.Word.Word8 -> a)
  -> B.ByteString -> B.ByteString -> [a]
type B.ByteString :: *
data B.ByteString
  = Data.ByteString.Internal.PS {-# UNPACK #-}(GHC.ForeignPtr.ForeignPtr
                                                 GHC.Word.Word8)
                                {-# UNPACK #-}Int
                                {-# UNPACK #-}Int
-->
<p>ä»¥ä¸Šã§ã™ã€‚æ®‹å¿µãªãŒã‚‰ä¸‡èƒ½ã¨ã¯ã„ã‹ãªã„ã‚ˆã†ã§ã€ã„ãã¤ã‹ã€Œ<span class="ascii">N/A</span>ã€ã€ã™ãªã‚ã¡å¯¾å¿œã™ã‚‹ã‚‚ã®ãŒãªã„é–¢æ•°ã‚‚ã‚ã‚Šã¾ã™ãŒã€ä»–ã®é–¢æ•°ã®çµ„ã¿åˆã‚ã›ã§å®Ÿè£…ã§ãã‚‹ã‚‚ã®ã‚‚ã‚ã‚‹ã§ã—ã‚‡ã†ã€‚</p>
<h1 id="ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«é–¢ã‚ã‚‹æ³¨æ„äº‹é …"><span class="link-to-here-outer"><a href="#ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«é–¢ã‚ã‚‹æ³¨æ„äº‹é …" title="ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«é–¢ã‚ã‚‹æ³¨æ„äº‹é …"><span class="link-to-here">Link to<br />
here</span></a></span>âš ï¸ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«é–¢ã‚ã‚‹æ³¨æ„äº‹é …</h1>
<p><code>MonoTraversable</code>ãªã©ã«é™ã‚‰ãšã€å‹ã‚¯ãƒ©ã‚¹ã‚’ä½¿ã£ã¦é–¢æ•°ã‚’å¤šç›¸åŒ–ã—ãŸã¨ãå…¨èˆ¬ã«è¨€ãˆã‚‹ã“ã¨ã§ã™ãŒã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®è§£æ±ºãŒè¡Œãˆãªã‹ã£ãŸå ´åˆã€ç›´æ¥å¯¾è±¡ã®å‹ã®ç›¸å½“ã™ã‚‹é–¢æ•°ã‚’å‘¼ã¶ã‚ˆã‚Šå°‘ã—é…ããªã£ã¦ã—ã¾ã†å ´åˆãŒã‚ã‚Šã¾ã™ï¼ˆ<a href="https://blog.miz-ar.info/2016/06/writing-efficient-program-with-haskell/#2.specialization">å‚è€ƒ</a>ï¼‰ã€‚</p>
<p>ã¾ãŸã€ãã‚Œã«é™ã‚‰ãšã€å„å‹ã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ãªã„é–¢æ•°ã¯ã€å„å‹ã®ç›¸å½“ã™ã‚‹é–¢æ•°ã§ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã§ããªã„ãŸã‚ã€åŠ¹ç‡ã®æ‚ªã„å‡¦ç†ã«ãªã£ã¦ã—ã¾ã†æã‚ŒãŒã‚ã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€<a href="https://hackage.haskell.org/package/mono-traversable-1.0.15.3/docs/src/Data.MonoTraversable.html#ointercalate"><code>ointercalate</code>é–¢æ•°</a>ã®å®Ÿè£…ã‚’è¦‹ã‚‹ã¨ã€<code>Text</code>ã‚„<code>ByteString</code>ãªã©ã«ã¤ã„ã¦ã¯<code>RULES</code>ãƒ—ãƒ©ã‚°ãƒã§æœ€é©ãªå®Ÿè£…ã‚’è¨­å®šã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ãŒã€ãã‚Œä»¥å¤–ã®å‹ã«ã¤ã„ã¦ã¯ä¸€æ—¦ãƒªã‚¹ãƒˆã«å¤‰æ›ã—ã¦ã‹ã‚‰çµåˆã™ã‚‹ã€ã¨ã„ã†åŠ¹ç‡ã®æ‚ªãã†ãªå‡¦ç†ã‚’ã—ã¦ã„ã¾ã™ã€‚</p>
<h1 id="äº‹ä¾‹-stringã‹ã‚‰ç›¸äº’å¤‰æ›ã§ãã‚‹å‹ã‚’æŠ½è±¡åŒ–ã™ã‚‹"><span class="link-to-here-outer"><a href="#äº‹ä¾‹-stringã‹ã‚‰ç›¸äº’å¤‰æ›ã§ãã‚‹å‹ã‚’æŠ½è±¡åŒ–ã™ã‚‹" title="äº‹ä¾‹-stringã‹ã‚‰ç›¸äº’å¤‰æ›ã§ãã‚‹å‹ã‚’æŠ½è±¡åŒ–ã™ã‚‹"><span class="link-to-here">Link to<br />
here</span></a></span>äº‹ä¾‹<span class="ascii">:</span> <code>String</code>ã‹ã‚‰ç›¸äº’å¤‰æ›ã§ãã‚‹å‹ã‚’æŠ½è±¡åŒ–ã™ã‚‹</h1>
<p>æœ€å¾Œã«ã€æœ€è¿‘ç§ãŒä½œã£ãŸï¼ˆã¾ã ãƒªãƒªãƒ¼ã‚¹ã—ã¦ãªã„ï¼‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¼ã«ãŠã„ã¦ã€<code>MonoFoldable</code>ã¨<code>IsString</code>ã‚’ä½¿ã†ã“ã¨ã§ã€<code>Text</code>ã¨<code>String</code>ä¸¡æ–¹ã‚’ã‚µãƒãƒ¼ãƒˆã—ãŸé–¢æ•°ã‚’ç´¹ä»‹ã—ã¦ãŠãã¾ã™ã€‚ãŸã ã€æ™‚é–“ã¨ã‚„ã‚‹æ°—ãƒ‘ãƒ¯ãƒ¼ãŒæ®‹ã‚Šå°‘ãªããªã£ã¦ã—ã¾ã£ãŸã®ã§ã€è©²å½“ã®ç®‡æ‰€ã ã‘<a href="https://github.com/igrep/envparse-applicative/blob/0fb7b23e45a09b4f53406b46bd563312ed27f2a4/src/EnvParse/Applicative.hs#L156">ã“ã¡ã‚‰</a>ã‹ã‚‰ã‚³ãƒ”ãƒšã—ã¦ã€èª¬æ˜ã¯ç°¡å˜ã«ã—ã¦ãŠãã¾ã™<span class="ascii">:</span></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb2-1" title="1"><span class="ot">stringVal ::</span> (<span class="dt">IsString</span> a, <span class="dt">MT.MonoFoldable</span> a, <span class="dt">MT.Element</span> a <span class="op">~</span> <span class="dt">Char</span>) <span class="ot">=&gt;</span> <span class="dt">CodecEnvVal</span> a</a>
<a class="sourceLine" id="cb2-2" title="2">stringVal <span class="ot">=</span> valByFunction <span class="dt">CodecEnvValByFunction</span></a>
<a class="sourceLine" id="cb2-3" title="3">  { encode <span class="ot">=</span> MT.otoList</a>
<a class="sourceLine" id="cb2-4" title="4">  , decode <span class="ot">=</span> <span class="dt">Right</span> <span class="op">.</span> fromString</a>
<a class="sourceLine" id="cb2-5" title="5">  }</a></code></pre></div>
<p><code>CodecEnvVal a</code>å‹ã¯ã€<code>a</code>å‹ã‚’<code>String</code>å‹ã¨ç›¸äº’å¤‰æ›ã™ã‚‹ãŸã‚ã®æƒ…å ±ã‚’å«ã‚“ã å‹ã§ã™ã€‚<code>stringVal</code>ã®å ´åˆã€åå‰ã®ã¨ãŠã‚Šæ–‡å­—åˆ—ã£ã½ã„å‹ã¨<code>String</code>ã¨ã®ç›¸äº’å¤‰æ›ãŒã§ããªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚ã‚‚ã¡ã‚ã‚“å˜ç´”ã«<code>String</code>å‹ã ã‘ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦<code>Text</code>ç”¨ã«ã¯åˆ¥é€”<code>CodecEnvVal Text</code>ã‚’ä½œã£ã¦ã‚‚ã„ã„ã®ã§ã™ãŒã€ä¸€ã¤ã®<code>CodecEnvVal a</code>ã ã‘ã§æ‰±ãˆãŸæ–¹ãŒæ¥½ã§ã—ã‚‡ã†ã—ã€ä»Šå›ã¯<code>MonoFoldable</code>ã®<code>otoList</code>ã¨<code>IsString</code>ã®<code>fromString</code>ã‚’ä½¿ã£ã¦ä¸¡æ–¹ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚ãªãŠã€ã“ã‚Œã§ã¯<code>ByteString</code>ãŒã‚µãƒãƒ¼ãƒˆã§ãã¾ã›ã‚“ãŒã€ã“ã“ã§ç›¸äº’å¤‰æ›ã™ã‚‹<code>String</code>ã¯ã€è¦ä»¶ä¸Šäººé–“ãŒèª­ã¿æ›¸ãã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã«ãŠã‘ã‚‹æ–‡å­—åˆ—ã‚’æƒ³å®šã—ã¦ã„ã‚‹ã®ã§ã€<code>ByteString</code>ã¯ãƒã‚¤ãƒŠãƒªãƒ¼ãƒ‡ãƒ¼ã‚¿ã«ã ã‘ä½¿ã†ã¹ãã ã€ã¨ã„ã†ç«‹å ´ã‹ã‚‰æ•¢ãˆã¦ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“ã€‚</p>
<h1 id="ã¾ã¨ã‚"><span class="link-to-here-outer"><a href="#ã¾ã¨ã‚" title="ã¾ã¨ã‚"><span class="link-to-here">Link to<br />
here</span></a></span>ã¾ã¨ã‚</h1>
<p><span class="ascii">mono-traversable</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã†ã¾ãä½¿ãˆã°ã€è‡ªå‰ã§å°‚ç”¨ã®å‹ã‚¯ãƒ©ã‚¹ã‚’ä½œã‚‰ãªãã¦ã‚‚<code>String</code>ãƒ»<code>Text</code>ãƒ»<code>ByteString</code>ãªã©ã‚’ä¸€æŒ™ã«ã‚µãƒãƒ¼ãƒˆã™ã‚‹é–¢æ•°ãŒæ›¸ã‘ã‚‹ã‹ã‚‚çŸ¥ã‚Œã¾ã›ã‚“ï¼</p>
<p>ãã‚Œã§ã¯<span class="ascii">2022</span>å¹´ã¯<span class="ascii">mono-traversable</span>ã§<span class="ascii">Happy Haskell String Programming!</span>ğŸš</p>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/2021/symbols-in-ghc.html" style="margin-left: auto;" lang="ja">Haskellã«ãŠã‘ã‚‹è¨˜å·ã®èª¿ã¹æ–¹</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>
<entry>
    <title>Haskellã«ãŠã‘ã‚‹è¨˜å·ã®èª¿ã¹æ–¹</title>
    <link href="https://haskell.jp/blog/posts/2021/symbols-in-ghc.html" />
    <id>https://haskell.jp/blog/posts/2021/symbols-in-ghc.html</id>
    <published>2021-12-25T00:00:00Z</published>
    <updated>2021-12-25T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <p>ã“ã®è¨˜äº‹ã¯<a href="https://qiita.com/advent-calendar/2021/gseach">ã‚°ã‚°ã£ã¦è§£æ±ºã—ã¥ã‚‰ã‹ã£ãŸã“ã¨ <span class="ascii">Advent Calendar 2021</span></a>ã®<span class="ascii">25</span>æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚<a href="https://wiki.haskell.jp/Hikers%20Guide%20to%20Haskell"><span class="ascii">Haskell-jp Wiki</span>ã®<span class="ascii">Haskell</span>ã®æ­©ãæ–¹</a>ã¨ã„ã†ãƒšãƒ¼ã‚¸ã«ã‚‚ã»ã¼åŒã˜ã“ã¨ã‚’æ›¸ãã¾ã—ãŸãŒã€ä»Šå›ã¯ã‚ˆã„æ©Ÿä¼šãªã®ã§å®Ÿä¾‹ã‚’åŠ ãˆã¤ã¤è©³ã—ãç´¹ä»‹ã•ã›ã¦ãã ã•ã„ã€‚</p>
<div id="table-of-contents-outer">
<div id="table-of-contents">
<div class="table-of-contents-title">
Contents
</div>
<ul>
<li><a href="#äºŒé …æ¼”ç®—å­è¨˜å·é–¢æ•°ã®èª¿ã¹æ–¹" title="äºŒé …æ¼”ç®—å­è¨˜å·é–¢æ•°ã®èª¿ã¹æ–¹">äºŒé …æ¼”ç®—å­ï¼ˆè¨˜å·é–¢æ•°ï¼‰ã®èª¿ã¹æ–¹</a></li>
<li><a href="#ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®šç¾©ã—ãŸäºŒé …æ¼”ç®—å­ã§ã¯ãªã„ã‚‚ã®ã®èª¿ã¹æ–¹" title="ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®šç¾©ã—ãŸäºŒé …æ¼”ç®—å­ã§ã¯ãªã„ã‚‚ã®ã®èª¿ã¹æ–¹">ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®šç¾©ã—ãŸäºŒé …æ¼”ç®—å­ã§ã¯ãªã„ã‚‚ã®ã®èª¿ã¹æ–¹</a></li>
<li><a href="#ã¾ã¨ã‚" title="ã¾ã¨ã‚">ã¾ã¨ã‚</a></li>
</ul>
</div>
</div>
<h1 id="äºŒé …æ¼”ç®—å­è¨˜å·é–¢æ•°ã®èª¿ã¹æ–¹"><span class="link-to-here-outer"><a href="#äºŒé …æ¼”ç®—å­è¨˜å·é–¢æ•°ã®èª¿ã¹æ–¹" title="äºŒé …æ¼”ç®—å­è¨˜å·é–¢æ•°ã®èª¿ã¹æ–¹"><span class="link-to-here">Link to<br />
here</span></a></span>äºŒé …æ¼”ç®—å­ï¼ˆè¨˜å·é–¢æ•°ï¼‰ã®èª¿ã¹æ–¹</h1>
<p>ã‚ˆãçŸ¥ã‚‰ã‚Œã¦ã„ã‚‹ã¨ãŠã‚Šã€<span class="ascii">Haskell</span>ã«ã¯äºŒé …æ¼”ç®—å­ã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ãŒã‹ãªã‚Šè‡ªç”±ã«å®šç¾©ã§ãã‚‹ã¨ã„ã†ã€ã¨ã¦ã‚‚å¤‰ã‚ã£ãŸç‰¹å¾´ãŒã‚ã‚Šã¾ã™ã€‚ä»–ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§ã‚‚ä½¿ã†æ¨™æº–çš„ãªã‚‚ã®ï¼ˆä¾‹<span class="ascii">:</span> <code>+</code><span class="ascii">,</span> <code>*</code><span class="ascii">,</span> <code>&amp;&amp;</code>ãªã©ï¼‰ã‚’åå‰ç©ºé–“ã‚’çµã£ã¦ç½®ãæ›ãˆã‚‹ã»ã‹ã€<a href="https://hackage.haskell.org/package/lens-5.1/docs/Control-Lens-Operators.html">ä¾‹ãˆã°ã‹ã®<span class="ascii">lens</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚ˆã†ã«</a>ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¼ã®ä½œè€…ãŒã‚ãŸã‹ã‚‚æ–°ã—ã„æ§‹æ–‡ã‚’ä½œã‚Šä¸Šã’ã‚‹ã‹ã®ã”ã¨ãç‹¬è‡ªã®äºŒé …æ¼”ç®—å­ã‚’æä¾›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>ã“ã‚Œã¯é¢ç™½ã„æ©Ÿèƒ½ã§ã¯ã‚ã‚‹ã‚‚ã®ã®ã€ã—ã°ã—ã°æ··ä¹±ã‚’æ‹›ãæ©Ÿèƒ½ã§ã‚‚ã‚ã‚Šã¾ã™ã€‚å¾Œè¿°ã™ã‚‹ãã®ä»–ã®è¨˜å·ã¨ã®åŒºåˆ¥ãŒã¤ãã«ãã„ã§ã™ã—ã€ä¸€èˆ¬çš„ãªæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã§æ¤œç´¢ã™ã‚‹ã“ã¨ã•ãˆã¾ã¾ãªã‚Šã¾ã›ã‚“ã€‚<a href="https://blog.fkoji.com/2017/03052055.html"><span class="ascii">Google</span>ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã§ã‚ˆãä½¿ã‚ã‚Œã‚‹è¨˜å·ã«ã‚ˆã‚‹æ¤œç´¢ã‚’ã‚µãƒãƒ¼ãƒˆã¯ã—ã¦ã„ã‚‹</a>ã‚‚ã®ã®ã€<span class="ascii">Haskell</span>ã§ã—ã‹è¦‹ãªã„ã‚ˆã†ãªè¨˜å·ã®çµ„ã¿åˆã‚ã›ã¯åˆ°åº•ç„¡ç†ã§ã—ã‚‡ã†ã€‚</p>
<p>ãã‚“ãªèƒŒæ™¯ã‚‚ã‚ã‚Šã€<span class="ascii">Haskell</span>ã‚’ä½¿ã†äººã¯ã—ã°ã—ã°<a href="https://hoogle.haskell.org/"><span class="ascii">Hoogle</span></a>ãªã©ã®ã€é–¢æ•°åã§æ¤œç´¢ã§ãã‚‹æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ã“ã¡ã‚‰ã¯äºŒé …æ¼”ç®—å­ã®åå‰ã§ã®æ¤œç´¢ã‚‚ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚</p>
<p>ä¾‹ãˆã°<span class="ascii">lens</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ãŠãªã˜ã¿ã®<code>^.</code>ã§æ¤œç´¢ã™ã‚‹ã¨<a href="https://hoogle.haskell.org/?hoogle=%5E.">æ¬¡ã®ã‚ˆã†ãªçµæœã«ãªã‚Šã¾ã—ãŸ</a><span class="ascii">:</span></p>
<figure>
<img src="/img/2021/symbols-in-ghc/hoogle.png" alt="Hoogleã«ã‚ˆã‚‹æ¤œç´¢çµæœã®ä¾‹" /><figcaption><span class="ascii">Hoogle</span>ã«ã‚ˆã‚‹æ¤œç´¢çµæœã®ä¾‹</figcaption>
</figure>
<p><span class="ascii">lens</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä»¥å¤–ã§ã‚‚ã€åŒæ§˜ã®<code>^.</code>ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚Šã¾ã™ã­ã€‚<span class="ascii">lens</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ä¾å­˜é–¢ä¿‚ãŒã¨ã¦ã‚‚å¤§ãã„ä¸€æ–¹ã€<code>^.</code>ãªã©ã®å®šç¾©ã¯ååˆ†å˜ç´”ã§ã‚³ãƒ”ãƒšã—ã¦ã‚‚ã„ã„ãã‚‰ã„å°ã•ã„ã®ã§ã€ã“ã®ã‚ˆã†ã«ã„ãã¤ã‚‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
<p>ã¾ãŸã€ç‰¹ã«ã‚ˆãä½¿ã‚ã‚Œã‚‹äºŒé …æ¼”ç®—å­ã¯<span class="ascii">FPComplete</span>ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã§ã‚‚ã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã¾ã™<span class="ascii">:</span></p>
<p><a href="https://www.fpcomplete.com/haskell/tutorial/operators/"><span class="ascii">Operator Glossary</span></a></p>
<h1 id="ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®šç¾©ã—ãŸäºŒé …æ¼”ç®—å­ã§ã¯ãªã„ã‚‚ã®ã®èª¿ã¹æ–¹"><span class="link-to-here-outer"><a href="#ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®šç¾©ã—ãŸäºŒé …æ¼”ç®—å­ã§ã¯ãªã„ã‚‚ã®ã®èª¿ã¹æ–¹" title="ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®šç¾©ã—ãŸäºŒé …æ¼”ç®—å­ã§ã¯ãªã„ã‚‚ã®ã®èª¿ã¹æ–¹"><span class="link-to-here">Link to<br />
here</span></a></span>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®šç¾©ã—ãŸäºŒé …æ¼”ç®—å­ã§ã¯ãªã„ã‚‚ã®ã®èª¿ã¹æ–¹</h1>
<p><span class="ascii">Haskell</span>ã€ã¨ã„ã†ã‹ãã®ãƒ‡ãƒ•ã‚¡ã‚¯ãƒˆã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãªå‡¦ç†ç³»ã§ã‚ã‚‹<span class="ascii">GHC</span>ã§ã¯ã€<a href="https://haskell.jp/blog/posts/2018/about-ghc-exts-1.html">è¨€èªæ‹¡å¼µ</a>ã¨ã„ã†å½¢ã§é•·å¹´æ–°ã—ã„æ§‹æ–‡ãŒææ¡ˆã•ã‚Œã¦ã„ã¾ã™<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>ã€‚ãã®ä¸­ã«ã¯ã€å½“ç„¶ã“ã‚Œã¾ã§ã«ãªã„æ–¹æ³•ã§è¨˜å·ã‚’ä½¿ã£ã¦ã„ã‚‹ã‚‚ã®ã‚‚ã‚ã‚Šã¾ã™ã€‚ãã†ã—ãŸè¨˜å·ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ãŒå®šç¾©ã—ãŸé–¢æ•°ã§ã¯ãªã„ã®ã§ã€å‰è¿°ã®<span class="ascii">Hoogle</span>ãªã©ã‚’ä½¿ã£ãŸæ–¹æ³•ãŒé€šç”¨ã—ã¾ã›ã‚“ã€‚ãã“ã§ã€å½“ãƒ–ãƒ­ã‚°ã«ã‚‚ä½•åº¦ã‚‚å¯„ç¨¿ã„ãŸã ã„ãŸ<span class="ascii">@takenobu_hs</span>ã•ã‚“ãŒã€è¨€èªæ‹¡å¼µã«ã‚ˆã‚‹ã‚‚ã®ã‚‚å«ã‚ãŸã€<span class="ascii">Haskell</span>ã®æ§‹æ–‡ã«ãŠã‘ã‚‹è¨˜å·ã®ä¸€è¦§ã‚’ä½œã£ã¦ãã ã•ã„ã¾ã—ãŸï¼</p>
<p><a href="https://github.com/takenobu-hs/haskell-symbol-search-cheatsheet"><span class="ascii">takenobu-hs/haskell-symbol-search-cheatsheet</span></a></p>
<p>å®Ÿã¯æ—¥æœ¬èªç‰ˆã‚‚<a href="https://qiita.com/takenobu-hs/items/b95f0a4409c59440d4a9"><span class="ascii">Qiita</span>ã«</a>ã‚ã‚‹ã®ã§ã™ãŒã€ä¸Šè¨˜ã®<span class="ascii">GitHub</span>ç‰ˆã®æ–¹ãŒæ›´æ–°ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚ãã“ã§ã€ä»Šå›ã¯ãŠã¾ã‘ã¨ã—ã¦ã€<a href="https://github.com/takenobu-hs/haskell-symbol-search-cheatsheet#--overloadedrecorddot"><span class="ascii">GitHub</span>ç‰ˆã®æ–¹ã«ã‚‚è¼‰ã£ã¦ã„ã‚‹</a>ã€<span class="ascii">GHC</span>ã«æœ€è¿‘ï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³<span class="ascii">9.2.1</span>ä»¥é™ã«ï¼‰è¿½åŠ ã•ã‚ŒãŸã€æ–°ã—ã„ãƒ”ãƒªã‚ªãƒ‰ <code>.</code> ã®ä½¿ã„æ–¹ã‚’ç´¹ä»‹ã—ã¾ã—ã‚‡ã†ã€‚</p>
<p>å¾“æ¥ã€<span class="ascii">Haskell</span>ã§ãƒ”ãƒªã‚ªãƒ‰ã¨ã„ãˆã°é–¢æ•°åˆæˆã‚’è¡¨ã™äºŒé …æ¼”ç®—å­ã§ã—ãŸ<span class="ascii">:</span></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb1-1" title="1">ghci<span class="op">&gt;</span> f x <span class="ot">=</span> x <span class="op">+</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb1-2" title="2">ghci<span class="op">&gt;</span> g x <span class="ot">=</span> x <span class="op">*</span> <span class="dv">3</span></a>
<a class="sourceLine" id="cb1-3" title="3">ghci<span class="op">&gt;</span> h <span class="ot">=</span> g <span class="op">.</span> f</a>
<a class="sourceLine" id="cb1-4" title="4">ghci<span class="op">&gt;</span> h <span class="dv">2</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="dv">9</span> <span class="co">-- 2 ã« + 1 ã—ã¦ * 3 ã—ãŸçµæœ</span></a></code></pre></div>
<p>æ•°å­¦ã«ãŠã‘ã‚‹é–¢æ•°åˆæˆã®è¨˜å·ã€Œ<span class="ascii">g</span> âˆ˜ <span class="ascii">f</span>ã€ã«ä¼¼ã›ã¦ãƒ”ãƒªã‚ªãƒ‰ã‚’æ¡ç”¨ã—ãŸã®ã§ã—ã‚‡ã†ã€‚ã—ã‹ã—ã€ä¸–ã¯ä»Šã¾ã•ã«<strong>å¤§ã€Œãƒ”ãƒªã‚ªãƒ‰ã¨ã„ãˆã°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¼”ç®—å­ã˜ã‚ƒã‚ãŒã„ã€æ™‚ä»£</strong>ã§ã™ã€‚ãã‚Œã§ãªãã¦ã‚‚<span class="ascii">Haskell</span>ã®ãƒ¬ã‚³ãƒ¼ãƒ‰å‹ã¯æ‰±ã„ã«ãã„ã¨è¨€ã‚ã‚Œã¦ã„ã‚‹ã®ã«ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¾ã§å¤‰ãªã‚„ã‚Šæ–¹ã§ã—ãŸ<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a><span class="ascii">:</span></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">data</span> <span class="dt">SomeRecord</span> <span class="ot">=</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="dt">SomeRecord</span> {<span class="ot"> field1 ::</span> <span class="dt">String</span>,<span class="ot"> field2 ::</span> <span class="dt">Int</span> }</a>
<a class="sourceLine" id="cb2-3" title="3"></a>
<a class="sourceLine" id="cb2-4" title="4">someRecord <span class="ot">=</span> <span class="dt">SomeRecord</span> <span class="st">&quot;value1&quot;</span> <span class="dv">2</span></a>
<a class="sourceLine" id="cb2-5" title="5"></a>
<a class="sourceLine" id="cb2-6" title="6">ghci<span class="op">&gt;</span> field1 someRecord</a>
<a class="sourceLine" id="cb2-7" title="7"><span class="st">&quot;value1&quot;</span></a>
<a class="sourceLine" id="cb2-8" title="8"></a>
<a class="sourceLine" id="cb2-9" title="9">ghci<span class="op">&gt;</span> field2 someRecord</a>
<a class="sourceLine" id="cb2-10" title="10"><span class="dv">2</span></a></code></pre></div>
<p>ãã“ã§ã€<span class="ascii">GHC 9.2</span>ã‹ã‚‰ã¯<a href="https://downloads.haskell.org/ghc/9.2.1/docs/html/users_guide/exts/overloaded_record_dot.html#overloaded-record-dot"><code>OverloadedRecordDot</code></a>ã¨ã„ã†è¨€èªæ‹¡å¼µãŒå°å…¥ã•ã‚Œã€ã“ã‚Œã‚’æœ‰åŠ¹ã«ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ãŠãªã˜ã¿ã®è¨€èªã®ã‚ˆã†ã«ãƒ”ãƒªã‚ªãƒ‰ã§ãƒ¬ã‚³ãƒ¼ãƒ‰ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ<span class="ascii">:</span></p>
<p>ï¼ˆä»¥ä¸‹ã¯<span class="ascii">GHCi</span>ã§ä½¿ç”¨ã—ãŸä¾‹ã§ã™ï¼‰</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb3-1" title="1">ghci<span class="op">&gt;</span> <span class="op">:</span>set <span class="op">-</span><span class="dt">XOverloadedRecordDot</span></a>
<a class="sourceLine" id="cb3-2" title="2"></a>
<a class="sourceLine" id="cb3-3" title="3">ghci<span class="op">&gt;</span> someRecord<span class="op">.</span>field1</a>
<a class="sourceLine" id="cb3-4" title="4"><span class="st">&quot;value1&quot;</span></a>
<a class="sourceLine" id="cb3-5" title="5"></a>
<a class="sourceLine" id="cb3-6" title="6">ghci<span class="op">&gt;</span> someRecord<span class="op">.</span>field2</a>
<a class="sourceLine" id="cb3-7" title="7"><span class="dv">2</span></a>
<a class="sourceLine" id="cb3-8" title="8"></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="co">-- âš ï¸ãƒ”ãƒªã‚ªãƒ‰ã®å‰å¾Œã«ç©ºç™½ã‚’å…¥ã‚Œã‚‹ã¨é–¢æ•°åˆæˆã¨ã—ã¦è§£é‡ˆã•ã‚Œã¦ã—ã¾ã†ï¼</span></a>
<a class="sourceLine" id="cb3-10" title="10">ghci<span class="op">&gt;</span> someRecord <span class="op">.</span> field2</a>
<a class="sourceLine" id="cb3-11" title="11"></a>
<a class="sourceLine" id="cb3-12" title="12"><span class="op">&lt;</span>interactive<span class="op">&gt;:</span><span class="dv">5</span><span class="op">:</span><span class="dv">1</span><span class="op">:</span> <span class="fu">error</span><span class="op">:</span></a>
<a class="sourceLine" id="cb3-13" title="13">    <span class="op">?</span> <span class="dt">Couldn&#39;t</span> match expected <span class="kw">type</span> â€˜<span class="dt">Int</span> <span class="ot">-&gt;</span> câ€™</a>
<a class="sourceLine" id="cb3-14" title="14">                  with actual <span class="kw">type</span> â€˜<span class="dt">SomeRecord</span>â€™</a>
<a class="sourceLine" id="cb3-15" title="15">    <span class="op">?</span> <span class="dt">In</span> the first argument <span class="kw">of</span> â€˜(<span class="op">.</span>)â€™, namely â€˜someRecordâ€™</a>
<a class="sourceLine" id="cb3-16" title="16">      <span class="dt">In</span> the expression<span class="op">:</span> someRecord <span class="op">.</span> field2</a>
<a class="sourceLine" id="cb3-17" title="17">      <span class="dt">In</span> an equation for â€˜itâ€™<span class="op">:</span> it <span class="ot">=</span> someRecord <span class="op">.</span> field2</a>
<a class="sourceLine" id="cb3-18" title="18">    <span class="op">?</span> <span class="dt">Relevant</span> bindings include</a>
<a class="sourceLine" id="cb3-19" title="19"><span class="ot">        it ::</span> <span class="dt">SomeRecord</span> <span class="ot">-&gt;</span> c (bound at <span class="op">&lt;</span>interactive<span class="op">&gt;:</span><span class="dv">5</span><span class="op">:</span><span class="dv">1</span>)</a></code></pre></div>
<p><code>OverloadedRecordDot</code>ã«ã¤ã„ã¦ã®ã‚ˆã‚Šè©³ã—ã„è§£èª¬ã¯ã€<a href="https://youtu.be/haZl-q6mfyk?t=2581"><span class="ascii">Haskell Day 2021</span>ã«ãŠã‘ã‚‹ã€<span class="ascii">fumieval</span>ã•ã‚“ã®ç™ºè¡¨</a>ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
<h1 id="ã¾ã¨ã‚"><span class="link-to-here-outer"><a href="#ã¾ã¨ã‚" title="ã¾ã¨ã‚"><span class="link-to-here">Link to<br />
here</span></a></span>ã¾ã¨ã‚</h1>
<ul>
<li>ä»–ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ãŒå®šç¾©ã—ãŸã€äºŒé …æ¼”ç®—å­ï¼ˆè¨˜å·é–¢æ•°ï¼‰ã‚’èª¿ã¹ã‚‹ã¨ãã¯<span class="ascii">:</span>
<ul>
<li><a href="https://hoogle.haskell.org/"><span class="ascii">Hoogle</span></a></li>
<li>è£œè¶³<span class="ascii">: Stackage</span>ã®æœ€æ–°ã®<span class="ascii">LTS</span>ã‹ã‚‰æ¤œç´¢ã—ãŸã„ã¨ãã¯<a href="https://www.stackage.org/"><span class="ascii">Stackage</span></a>ã®ãƒšãƒ¼ã‚¸ä¸Šéƒ¨ã«ã‚ã‚‹ãƒ•ã‚©ãƒ¼ãƒ ã§æ¤œç´¢ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã“ã¡ã‚‰ã‚‚å†…éƒ¨ã¯<span class="ascii">Hoogle</span>ãŒä½¿ã‚ã‚Œã¦ã„ã¾ã™ã€‚</li>
</ul></li>
<li>ãã‚Œä»¥å¤–ã®å ´åˆã¯<span class="ascii">:</span>
<ul>
<li><a href="https://github.com/takenobu-hs/haskell-symbol-search-cheatsheet"><span class="ascii">takenobu-hs/haskell-symbol-search-cheatsheet</span></a></li>
</ul></li>
<li><span class="ascii">Haskell</span>ã®ãƒ¬ã‚³ãƒ¼ãƒ‰å‹ã«å«Œæ°—ãŒå·®ã—ãŸã‚‰<span class="ascii">:</span>
<ul>
<li><a href="https://youtu.be/haZl-q6mfyk?t=2581"><span class="ascii">Haskell Day 2021</span>ã«ãŠã‘ã‚‹ã€<span class="ascii">fumieval</span>ã•ã‚“ã®ç™ºè¡¨</a>ã‚’è¦³ã¦<a href="https://downloads.haskell.org/ghc/9.2.1/docs/html/users_guide/exts/overloaded_record_dot.html#overloaded-record-dot"><code>OverloadedRecordDot</code>æ‹¡å¼µ</a>ã«ã¤ã„ã¦å‹‰å¼·ã—ã¾ã—ã‚‡ã†ã€‚</li>
</ul></li>
</ul>
<p>ğŸãã‚Œã§ã¯<span class="ascii">2022</span>å¹´ã‚‚<span class="ascii">Happy Haskell Hacking!!</span>ğŸ…</p>
<section class="footnotes">
<hr />
<ol>
<li id="fn1"><p>ä½™è«‡<span class="ascii">:</span> <a href="https://github.com/ghc-proposals/ghc-proposals"><span class="ascii">ghc-proposals</span></a>ã«é€ã‚‰ã‚ŒãŸ<span class="ascii">Pull request</span>ã‚’è¦‹ã‚‹ã¨ã€ä»Šã©ã®ã‚ˆã†ãªææ¡ˆãŒè­°è«–ã•ã‚Œã¦ã„ã‚‹ã‹åˆ†ã‹ã‚Šã¾ã™ã€‚<a href="#fnref1" class="footnote-back">â†©</a></p></li>
<li id="fn2"><p>ä»–ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§ã¯ã€Œãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ¼ã€ã¨å‘¼ã°ã‚Œã‚‹ã“ã¨ã‚‚å¤šã„ã§ã™ãŒã€ã“ã“ã§ã¯<span class="ascii">Haskell</span>ã®ãƒ¬ã‚³ãƒ¼ãƒ‰å‹ã«ãŠã‘ã‚‹ç”¨èªã«åˆã‚ã›ã¾ã—ãŸã€‚<a href="#fnref2" class="footnote-back">â†©</a></p></li>
<li id="fn3"><p>å€‹äººçš„ã«ã¯ã‚²ãƒƒã‚¿ãƒ¼ãŒé–¢æ•°ã«ãªã‚‹ã®ã¯ã¨ã¦ã‚‚ç›´æ„Ÿçš„ãªæ°—ãŒã—ã¦å‰²ã¨å¥½ãã§ã—ãŸãŒã€ç¢ºã‹ã«ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã‚‚ã¨ã¦ã‚‚å¤šã„ä»•æ§˜ã§ã—ãŸã€‚ã‚»ãƒƒã‚¿ãƒ¼ã¯å˜ç´”ãªé–¢æ•°ã«ãªã£ã¦ãªã„ã§ã™ã—ã­ã€‚<a href="#fnref3" class="footnote-back">â†©</a></p></li>
</ol>
</section>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
                <i class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="margin-right: 5px;"></i>
                <a href="/posts/2021/text-mono-traversable.html" lang="ja">æ–‡å­—åˆ—å‹ã‚’æŠ½è±¡åŒ–ã™ã‚‹ã®ã«ã¯mono-traversableãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã„ã„ã‹ã‚‚</a>
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/2021/haskell-day-2021.html" style="margin-left: auto;" lang="ja">Haskell Day 2021ã‚’é–‹å‚¬ã—ã¾ã™</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>
<entry>
    <title>Haskell Day 2021ã‚’é–‹å‚¬ã—ã¾ã™</title>
    <link href="https://haskell.jp/blog/posts/2021/haskell-day-2021.html" />
    <id>https://haskell.jp/blog/posts/2021/haskell-day-2021.html</id>
    <published>2021-06-14T00:00:00Z</published>
    <updated>2021-06-14T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <p><a href="https://haskell.jp/haskell-day-2021/"><span class="ascii">Haskell Day 2021</span></a>ã‚’é–‹å‚¬ã—ã¾ã™ï¼</p>
<p><a href="https://haskell.jp/haskell-day-2021/"><img src="../../img/2021/haskell-day-2021/ogp.png" alt="Haskell Day 2021" /></a></p>
<p>ã“ã‚“ã«ã¡ã¯<span class="ascii">kakkun61</span>ã“ã¨å²¡æœ¬å’Œæ¨¹ã§ã™ã€‚</p>
<p>ã“ã®è¨˜äº‹ã§ã¯<a href="https://haskell.jp/haskell-day-2021/"><span class="ascii">Haskell Day 2021</span></a>ã®ç´¹ä»‹ã¨é–‹å‚¬ã®çµŒç·¯ãªã©ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚</p>
<div id="table-of-contents-outer">
<div id="table-of-contents">
<div class="table-of-contents-title">
Contents
</div>
<ul>
<li><a href="#çµŒç·¯" title="çµŒç·¯">çµŒç·¯</a></li>
<li><a href="#ç™ºè¡¨è€…å‹Ÿé›†" title="ç™ºè¡¨è€…å‹Ÿé›†">ç™ºè¡¨è€…å‹Ÿé›†</a></li>
<li><a href="#å‚åŠ ç™»éŒ²" title="å‚åŠ ç™»éŒ²">å‚åŠ ç™»éŒ²</a></li>
</ul>
</div>
</div>
<h1 id="çµŒç·¯"><span class="link-to-here-outer"><a href="#çµŒç·¯" title="çµŒç·¯"><span class="link-to-here">Link to<br />
here</span></a></span>çµŒç·¯</h1>
<p><span class="ascii">Haskell Day</span>ã¯æ—¥æœ¬èªã§é–‹å‚¬ã•ã‚Œã‚‹<span class="ascii">Haskell</span>ã«é–¢ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã¨ã—ã¦ã¯æœ€å¤šã®å‚åŠ è€…ã‚’èª‡ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚ã“ã‚Œã¾ã§<span class="ascii">2012</span>ãƒ»<span class="ascii">2016</span>ãƒ»<span class="ascii">2018</span>ãƒ»<span class="ascii">2019</span>ã¨é–‹å‚¬ã—ã¦ãã¾ã—ãŸã€‚æ–°å‹ã‚³ãƒ­ãƒŠã‚¦ã‚¤ãƒ«ã‚¹ã®å½±éŸ¿ã«ã‚ˆã‚Šã€æ®‹å¿µãªãŒã‚‰<span class="ascii">2020</span>ã¯é–‹å‚¬ã—ã¾ã›ã‚“ã§ã—ãŸãŒã€<span class="ascii">2021</span>ã¯<em>ã‚ªãƒ³ãƒ©ã‚¤ãƒ³</em>ã‚¤ãƒ™ãƒ³ãƒˆã¨ã—ã¦é–‹å‚¬ã—ã¾ã™ã€‚</p>
<p>ã“ã®ã‚ˆã†ãªã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã®é–‹å‚¬ã¯æœªçµŒé¨“ã ã£ãŸãŸã‚ã€ã•ã¾ã–ã¾ãªã‚¤ãƒ™ãƒ³ãƒˆå½¢å¼ã‚’æ¤œè¨ã—ãŸçµæœã€ä»Šå›ã¯äº‹å‰éŒ²ç”»å‹•ç”»ã®äºˆç´„å…¬é–‹ã¨ã„ã†å½¢å¼ã‚’æ¡ç”¨ã—ã¾ã—ãŸã€‚ç”Ÿæ”¾é€ã‚‚ã‚‚ã¡ã‚ã‚“æ¤œè¨ã—ã¾ã—ãŸãŒã€ãƒã‚¦ãƒã‚¦ä¸è¶³ã®ä¸­ã§ä¸€ç™ºå‹è² ã¨ã„ã†ç”Ÿæ”¾é€ã¯ãƒªã‚¹ã‚¯ãŒå¤§ãã„ã¨ã„ã†åˆ¤æ–­ã‚’ã—ã¾ã—ãŸã€‚éŒ²ç”»å…¬é–‹ã«ãŠã‘ã‚‹è‡¨å ´æ„Ÿã®ä¸è¶³ã‚’ãŠããªã†ã“ã¨ã‚’æœŸå¾…ã—ã€<span class="ascii">YouTube</span>ã®<a href="https://creatoracademy.youtube.com/page/course/hype-with-premieres">ãƒ—ãƒ¬ãƒŸã‚¢å…¬é–‹</a>ã‚’ä½¿ç”¨ã—ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒƒãƒˆã«ã‚ˆã‚‹ç™ºè¡¨è€…ã¨è¦–è´è€…ãƒ»è¦–è´è€…åŒå£«ã®äº¤æµã‚’ã§ãã‚‹ã‚ˆã†ã«äºˆå®šã—ã¦ã„ã¾ã™ã€‚</p>
<h1 id="ç™ºè¡¨è€…å‹Ÿé›†"><span class="link-to-here-outer"><a href="#ç™ºè¡¨è€…å‹Ÿé›†" title="ç™ºè¡¨è€…å‹Ÿé›†"><span class="link-to-here">Link to<br />
here</span></a></span>ç™ºè¡¨è€…å‹Ÿé›†</h1>
<p>ç¾åœ¨<a href="https://haskell.jp/haskell-day-2021/#call-for-papers">ç™ºè¡¨è€…å‹Ÿé›†</a>ä¸­ã§ã™ï¼</p>
<p>ä»Šå›ã¯ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é–‹å‚¬ã¨ã„ã†ã“ã¨ã§ã€ãŠæ‰‹æ•°ã§ã™ãŒç™ºè¡¨è€…ã«ã‚‚ã‚ªãƒ³ã‚µã‚¤ãƒˆã®ã‚¤ãƒ™ãƒ³ãƒˆã¨ç•°ãªã£ãŸæº–å‚™ã‚’ãŠé¡˜ã„ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚é‹å–¶ã¨ã—ã¦ã§ãã‚‹ã‹ãã‚Šã®ã‚µãƒãƒ¼ãƒˆã‚’ã—ã¾ã™ã®ã§å®‰å¿ƒã—ã¦å¿œå‹Ÿã„ãŸã ã‘ã‚Œã°ã¨æ€ã„ã¾ã™ã€‚</p>
<h1 id="å‚åŠ ç™»éŒ²"><span class="link-to-here-outer"><a href="#å‚åŠ ç™»éŒ²" title="å‚åŠ ç™»éŒ²"><span class="link-to-here">Link to<br />
here</span></a></span>å‚åŠ ç™»éŒ²</h1>
<p><a href="https://haskell-jp.connpass.com/event/215363/"><span class="ascii">Connpass</span></a>ã«ã¦å‚åŠ ç™»éŒ²ã®å—ã‘ä»˜ã‘ã‚‚ã—ã¦ã„ã¾ã™ã®ã§è¦–è´è€…ã®æ–¹ã‚‚ç™»éŒ²ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚</p>
<p>ãã®ä»–ã®ãã‚ã—ã„æƒ…å ±ã¯<a href="https://haskell.jp/haskell-day-2021/"><span class="ascii">Haskell Day 2021</span>ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸</a>ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
<p>ã¿ãªã•ã¾ã®ã”å¿œå‹Ÿã‚’ãŠå¾…ã¡ã—ã¦ã„ã¾ã™ã€‚ã¾ãŸãŠä½“ã«ãŠæ°—ã‚’ã¤ã‘ãã ã•ã„ã€‚</p>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
                <i class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="margin-right: 5px;"></i>
                <a href="/posts/2021/symbols-in-ghc.html" lang="ja">Haskellã«ãŠã‘ã‚‹è¨˜å·ã®èª¿ã¹æ–¹</a>
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/grc.html" style="margin-left: auto;" lang="ja">ã€Œç›¸äº’ã‚’å°Šé‡ã—ãŸã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãŸã‚ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã€åˆ¶å®šã®ãŠçŸ¥ã‚‰ã›</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>
<entry>
    <title>ã€Œç›¸äº’ã‚’å°Šé‡ã—ãŸã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãŸã‚ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã€åˆ¶å®šã®ãŠçŸ¥ã‚‰ã›</title>
    <link href="https://haskell.jp/blog/posts/grc.html" />
    <id>https://haskell.jp/blog/posts/grc.html</id>
    <published>2021-05-30T00:00:00Z</published>
    <updated>2021-05-30T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <hr />
<p><a href="about_admins.html">å…ˆæ—¥ã®<span class="ascii">Haskell-jp Admins</span></a>ã¨åŒæ§˜ã«äº‹å‹™çš„ãªé€£çµ¡ã§æç¸®ã§ã™ãŒã€å½“ãƒ–ãƒ­ã‚°ã‚„<a href="https://haskell.jp/signin-slack.html"><span class="ascii">Haskell-jp</span>ã®<span class="ascii">Slack Workspace</span></a>ã€<a href="https://github.com/haskell-jp"><span class="ascii">GitHub</span>ã®<span class="ascii">Organization</span></a>ãªã©ã«ãŠã‘ã‚‹ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«é©ç”¨ã•ã‚Œã‚‹ã€<a href="https://github.com/haskell-jp/community/blob/master/GRC.md">ã€Œç›¸äº’ã‚’å°Šé‡ã—ãŸã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãŸã‚ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã€</a>ã‚’åˆ¶å®šè‡´ã—ã¾ã—ãŸã€‚</p>
<p><a href="https://github.com/haskell-jp/community/blob/master/GRC.md"><span class="ascii">Haskell-jp</span> ç›¸äº’ã‚’å°Šé‡ã—ãŸã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãŸã‚ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³</a></p>
<p>ã“ã¡ã‚‰ã¯<a href="https://haskell.foundation/guidelines-for-respectful-communication/"><span class="ascii">Haskell Foundation</span>ã«ãŠã‘ã‚‹<span class="ascii">Guidelines for Respectful Communication (GRC)</span></a>ã‚’æ—¥æœ¬èªã«ç¿»è¨³ã—ã€é‹ç”¨ä¸»ä½“ãªã©ã‚’<span class="ascii">Haskell-jp</span>ã«ãŠã‘ã‚‹å®Ÿæ…‹ã«åˆã‚ã›ã¦æ›¸ãæ›ãˆãŸã‚‚ã®ã§ã™ã€‚ã„ã‚ã‚†ã‚‹ã€Œè¡Œå‹•è¦ç¯„<small>ï¼ˆ<span class="ascii">Code Of Conduct</span>ã€‚ã—ã°ã—ã°ã€Œ<span class="ascii">COC</span>ã€ã¨ç•¥ã•ã‚Œã¾ã™ï¼‰</small>ã€ã¨åŒã˜å½¹å‰²ã‚’æœãŸã™ã‚‚ã®ã§ã™ãŒã€è¡Œå‹•è¦ç¯„ã¨ç•°ãªã‚Šã€ç¦æ­¢äº‹é …ã‚ˆã‚Šã‚‚æ¨å¥¨äº‹é …ã‚’æ•°å¤šãæŒ™ã’ã¦ã„ã‚‹ã®ãŒç‰¹å¾´ã§ã™ã€‚<a href="https://github.com/haskell-jp/community/pull/29">ã“ã®<span class="ascii">GRC</span>ã‚’ç¿»è¨³ã™ã‚‹å‰ã«ã€<span class="ascii">COC</span>ã‚’ææ¡ˆã—ãŸéš›ã®è­°è«–</a>ã«ãŠã„ã¦<span class="ascii">GRC</span>ã®ã“ã†ã—ãŸç‰¹å¾´ãŒå¥½ã¾ã‚Œã€æ¡ç”¨ã«è‡³ã‚Šã¾ã—ãŸã€‚</p>
<p>ã“ã®<span class="ascii">GRC</span>ã¯ã€ä»Šå¾Œ<a href="https://haskell.jp/signin-slack.html"><span class="ascii">Haskell-jp</span>ã®<span class="ascii">Slack Workspace</span></a>ã‚„<a href="https://github.com/haskell-jp/"><span class="ascii">Haskell-jp</span>ã®<span class="ascii">GitHub</span>ã«ãŠã‘ã‚‹<span class="ascii">Organization</span>ãŒç®¡ç†ã™ã‚‹ãƒªãƒã‚¸ãƒˆãƒªãƒ¼</a>ã€ãã‚Œã‹ã‚‰<span class="ascii">Haskell-jp</span>ã¨ã—ã¦é–‹å‚¬ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆãªã©ã€æ§˜ã€…ãªå ´é¢ã§é©ç”¨ã•ã‚Œã¾ã™ã€‚å‚åŠ ã•ã‚Œã‚‹ã¿ãªã•ã‚“ã¯ã”ç†è§£ã®ä¸Šã€å¿«é©ãªã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ¼æ´»å‹•ã‚’ãŠæ¥½ã—ã¿ãã ã•ã„ã€‚</p>
<p>åŠ ãˆã¦ã€ã‚‚ã¡ã‚ã‚“ä»Šç§‹é–‹å‚¬äºˆå®šã®<a href="https://haskell.jp/haskell-day-2021/"><span class="ascii">Haskell Day 2021</span></a>ã«ãŠã„ã¦ã‚‚ã€ã“ã¡ã‚‰ã®<span class="ascii">GRC</span>ã‚’æ¡ç”¨ã—ã¾ã™ã€‚å‚åŠ è€…ã€ç™ºè¡¨è€…ã€é‹å–¶è€…ã®æ–¹ã€…ã¯ã”ç†è§£ã¨ã”å”åŠ›ã‚’ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ã€‚</p>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
                <i class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="margin-right: 5px;"></i>
                <a href="/posts/2021/haskell-day-2021.html" lang="ja">Haskell Day 2021ã‚’é–‹å‚¬ã—ã¾ã™</a>
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/about_admins.html" style="margin-left: auto;" lang="ja">æ—¥æœ¬Haskellãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—ç®¡ç†å§”å“¡ä¼šï¼ˆHaskell-jp Adminsï¼‰è¨­ç«‹ã®ãŠçŸ¥ã‚‰ã›</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>
<entry>
    <title>æ—¥æœ¬Haskellãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—ç®¡ç†å§”å“¡ä¼šï¼ˆHaskell-jp Adminsï¼‰è¨­ç«‹ã®ãŠçŸ¥ã‚‰ã›</title>
    <link href="https://haskell.jp/blog/posts/about_admins.html" />
    <id>https://haskell.jp/blog/posts/about_admins.html</id>
    <published>2021-03-29T00:00:00Z</published>
    <updated>2021-03-29T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <hr />
<p>å»ã‚‹<span class="ascii">2021</span>å¹´<span class="ascii">2</span>æœˆ<span class="ascii">9</span>æ—¥ã€ä»»æ„å›£ä½“ã§ã‚ã‚Šæ˜ç¢ºãªä¼šå“¡è³‡æ ¼ã‚’æŒãŸãªã„ã€<a href="https://haskell.jp/blog/posts/about_us.html">æ—¥æœ¬<span class="ascii">Haskell</span>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆ<span class="ascii">Haskell-jp</span>ï¼‰</a>ã«ãŠã‘ã‚‹å…±æœ‰è²¡ç”£ã‚„ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å ´ã®ç®¡ç†ãƒ»é‹å–¶ã‚’æ‹…ã†æ³•äººã¨ã—ã¦ã€ä¸€èˆ¬ç¤¾å›£æ³•äººæ—¥æœ¬<span class="ascii">Haskell</span>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—ç®¡ç†å§”å“¡ä¼šï¼ˆé€šç§° <span class="ascii">Haskell-jp Admins</span>ã€‚<a href="https://www.houjin-bangou.nta.go.jp/henkorireki-johoto.html?selHouzinNo=5020005014971">æ³•äººç•ªå· <span class="ascii">5020005014971</span></a>ï¼‰ã‚’è¨­ç«‹ã—ã¾ã—ãŸã€‚æ³•äººæ ¼ã‚’æŒã¤ã“ã¨ã‚’æ´»ã‹ã—ã¦ã€<span class="ascii">Haskell-jp Admins</span>ã¯æ¬¡ã®äº‹æ¥­ã«å–ã‚Šçµ„ã¿ã¾ã™ã€‚</p>
<ul>
<li>ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª<span class="ascii">Haskell</span>ã«é–¢ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã®ä¼ç”»ãƒ»é–‹å‚¬ãƒ»é‹å–¶
<ul>
<li>ã‚¤ãƒ™ãƒ³ãƒˆã®ä¼šå ´ã‚’å€Ÿã‚ŠãŸã‚Šã€ãƒãƒ™ãƒ«ãƒ†ã‚£ãƒ¼ã‚’ä½œæˆã—ãŸã‚Šã™ã‚‹éš›ã®åç¾©ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹äºˆå®šã§ã™</li>
</ul></li>
<li><span class="ascii">haskell.jp</span> ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç¶­æŒãƒ»ç®¡ç†</li>
<li><a href="https://haskell.jp/signin-slack.html"><span class="ascii">Haskell-jp</span>ã®<span class="ascii">Slack Workspace</span></a>ã‚’å§‹ã‚ã¨ã™ã‚‹ã€äº¤æµã‚„æƒ…å ±å…±æœ‰ã‚’è¡Œã†å ´ã®æä¾›ãƒ»ç®¡ç†ãƒ»é‹å–¶</li>
<li>ãã®ã»ã‹ã€ä¸Šè¨˜ã«é–¢é€£ã—ã¦å¿…è¦ãªã“ã¨</li>
</ul>
<div id="table-of-contents-outer">
<div id="table-of-contents">
<div class="table-of-contents-title">
Contents
</div>
<ul>
<li><a href="#èƒŒæ™¯" title="èƒŒæ™¯">èƒŒæ™¯</a></li>
<li><a href="#ä»Šå¾Œã®æ´»å‹•ã¨é€£çµ¡å…ˆ" title="ä»Šå¾Œã®æ´»å‹•ã¨é€£çµ¡å…ˆ">ä»Šå¾Œã®æ´»å‹•ã¨é€£çµ¡å…ˆ</a></li>
<li><a href="#ç¾åœ¨ã®ç†äº‹ç¤¾å“¡" title="ç¾åœ¨ã®ç†äº‹ç¤¾å“¡">ç¾åœ¨ã®ç†äº‹ãƒ»ç¤¾å“¡</a></li>
<li><a href="#æ‰€åœ¨åœ°" title="æ‰€åœ¨åœ°">æ‰€åœ¨åœ°</a></li>
<li><a href="#å®šæ¬¾" title="å®šæ¬¾">å®šæ¬¾</a></li>
</ul>
</div>
</div>
<h1 id="èƒŒæ™¯"><span class="link-to-here-outer"><a href="#èƒŒæ™¯" title="èƒŒæ™¯"><span class="link-to-here">Link to<br />
here</span></a></span>èƒŒæ™¯</h1>
<p>ãã‚‚ãã‚‚ã®è¨­ç«‹ã®å‹•æ©Ÿã¯ã€å±±ä¸‹ã•ã‚“ï¼ˆ<a href="https://twitter.com/nobsun"><span class="ascii">@nobsun</span></a>ï¼‰ã®å¥½æ„ã«ã‚ˆã£ã¦å€‹äººåç¾©ã§ä¿æœ‰ã—ã¦ã„ãŸ<span class="ascii">haskell.jp</span> ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å…±åŒã§ç®¡ç†å‡ºæ¥ã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã§ã—ãŸã€‚ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å›£ä½“ã¨ã—ã¦ä¿æœ‰ã™ã‚‹ã«ã¯ã€æ³•äººæ ¼ã¨ã€æ³•äººåç¾©ã®éŠ€è¡Œå£åº§ãŒå¿…è¦ãªã®ã§ã™ã€‚ã“ã‚Œä»¥å¤–ã«ã‚‚ã€<span class="ascii">Haskell-jp</span>ã¨ã—ã¦å…±æœ‰ã™ã‚‹ä¾¡å€¤ã®ã‚ã‚‹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ç®¡ç†ã™ã‚‹éš›ã®åç¾©ã¨ã—ã¦ã€éšæ™‚ã€Œæ—¥æœ¬<span class="ascii">Haskell</span>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—ç®¡ç†å§”å“¡ä¼šã€ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p>
<h1 id="ä»Šå¾Œã®æ´»å‹•ã¨é€£çµ¡å…ˆ"><span class="link-to-here-outer"><a href="#ä»Šå¾Œã®æ´»å‹•ã¨é€£çµ¡å…ˆ" title="ä»Šå¾Œã®æ´»å‹•ã¨é€£çµ¡å…ˆ"><span class="link-to-here">Link to<br />
here</span></a></span>ä»Šå¾Œã®æ´»å‹•ã¨é€£çµ¡å…ˆ</h1>
<p><span class="ascii">Haskell-jp Admins</span>ãŒå‡ºæ¥ãŸã‹ã‚‰ã¨ã„ã£ã¦ã€<span class="ascii">Haskell-jp</span>ã®ã‚ã‚Šæ–¹ãŒå¤§ããå¤‰ã‚ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ä»Šå¾Œã‚‚<span class="ascii">Slack</span>ã§è³ªå•ã—ãŸã‚Šè­°è«–ã—ãŸã‚Š<a href="https://haskell.jp/blog/">ãƒ–ãƒ­ã‚°</a>è¨˜äº‹ã‚’æ›¸ã„ãŸã‚Šã—ã¾ã—ã‚‡ã†ï¼<a href="https://haskell.jp/"><span class="ascii">haskell.jp</span></a>ã¨ã„ã†ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æ´»ã‹ã—ã€ã€Œå…¬å¼é¢ã—ã¦ã€è‡ªç”±ã«æ´»å‹•ã™ã‚‹æ–¹ã‚’ã„ã¤ã§ã‚‚å¾…ã£ã¦ã„ã¾ã™ï¼</p>
<ul>
<li>å…¬ã®å ´ã§ææ¡ˆãƒ»ç›¸è«‡ã—ãŸã„å ´åˆã¯<span class="ascii">:</span>
<ul>
<li>å‰è¿°ã®<a href="https://haskell.jp/signin-slack.html"><span class="ascii">Haskell-jp</span>ã®<span class="ascii">Slack Workspace</span></a>ã®<span class="ascii">#random</span>ãƒãƒ£ãƒ³ãƒãƒ«ãªã©ã§æŠ•ç¨¿ã„ãŸã ãã‹ã€</li>
<li><a href="https://github.com/haskell-jp/community/issues"><span class="ascii">haskell-jp/community</span>ã«<span class="ascii">issue</span></a>ã¨ã—ã¦ç™»éŒ²ã—ãŸã‚Šã€</li>
<li><a href="https://twitter.com/haskell_jp"><span class="ascii">Haskell-jp</span>ã®<span class="ascii">Twitter</span>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ <span class="ascii">@haskell_jp</span></a>ã«ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã‚’ãã ã•ã„ã€‚</li>
</ul></li>
<li>ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã«ææ¡ˆãƒ»ç›¸è«‡ã—ãŸã„å ´åˆã¯<span class="ascii">:</span>
<ul>
<li><span class="ascii">haskell-jp-admins@googlegroups.com</span> ã«ãƒ¡ãƒ¼ãƒ«ã‚’é€ã£ã¦ãã ã•ã„</li>
</ul></li>
</ul>
<p>æˆ‘ã€…<span class="ascii">Haskell-jp Admins</span>ã¯ã€ãã†ã—ãŸæ´»å‹•ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã™ã‚‹ãŸã‚ã«ç¨®ã€…ã®å•é¡Œã«å–ã‚Šçµ„ã‚“ã§ã„ãã¾ã™ã€‚</p>
<h1 id="ç¾åœ¨ã®ç†äº‹ç¤¾å“¡"><span class="link-to-here-outer"><a href="#ç¾åœ¨ã®ç†äº‹ç¤¾å“¡" title="ç¾åœ¨ã®ç†äº‹ç¤¾å“¡"><span class="link-to-here">Link to<br />
here</span></a></span>ç¾åœ¨ã®ç†äº‹ãƒ»ç¤¾å“¡</h1>
<ul>
<li>ä»£è¡¨ç†äº‹<span class="ascii">:</span> å±±æœ¬æ‚ æ»‹ï¼ˆ<a href="https://twitter.com/igrep"><span class="ascii">@igrep</span></a>ï¼‰</li>
<li>ç¤¾å“¡<span class="ascii">:</span>
<ul>
<li>ä¸­å¶‹å¤§å—£ï¼ˆ<a href="https://twitter.com/nakaji_dayo/"><span class="ascii">@nakaji_dayo</span></a><span class="ascii">)</span></li>
<li>å±±ä¸‹ä¼¸å¤«ï¼ˆ<a href="https://twitter.com/nobsun"><span class="ascii">@nobsun</span></a>ï¼‰</li>
<li>å²¡æœ¬å’Œæ¨¹ï¼ˆ<a href="https://twitter.com/kakkun61"><span class="ascii">@kakkun61</span></a>ï¼‰</li>
<li>æœ¨ä¸‹éƒç« ï¼ˆ<a href="https://twitter.com/fumieval"><span class="ascii">@fumieval</span></a>ï¼‰</li>
<li>å»£ç€¬é”ä¹Ÿï¼ˆ<a href="https://twitter.com/lotz84_"><span class="ascii">@lotz84_</span></a>ï¼‰</li>
</ul></li>
</ul>
<h1 id="æ‰€åœ¨åœ°"><span class="link-to-here-outer"><a href="#æ‰€åœ¨åœ°" title="æ‰€åœ¨åœ°"><span class="link-to-here">Link to<br />
here</span></a></span>æ‰€åœ¨åœ°</h1>
<p>ã€’<span class="ascii">220-0004</span> ç¥å¥ˆå·çœŒæ¨ªæµœå¸‚è¥¿åŒºåŒ—å¹¸ <span class="ascii">1-11-1</span> æ°´ä¿¡ãƒ“ãƒ«<span class="ascii">7</span>éš</p>
<h1 id="å®šæ¬¾"><span class="link-to-here-outer"><a href="#å®šæ¬¾" title="å®šæ¬¾"><span class="link-to-here">Link to<br />
here</span></a></span>å®šæ¬¾</h1>
<p>ã“ã¡ã‚‰ã«ä¸€éƒ¨å€‹äººæƒ…å ±ã‚’å‰Šé™¤ã—ãŸä¸Šã§æ²è¼‰ã—ã¦ã„ã¾ã™ã€‚</p>
<p><a href="https://github.com/haskell-jp/community/blob/master/admins/article.md">ä¸€èˆ¬ç¤¾å›£æ³•äºº æ—¥æœ¬<span class="ascii">Haskell</span>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—ç®¡ç†å§”å“¡ä¼š å®šæ¬¾</a></p>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
                <i class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="margin-right: 5px;"></i>
                <a href="/posts/grc.html" lang="ja">ã€Œç›¸äº’ã‚’å°Šé‡ã—ãŸã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãŸã‚ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã€åˆ¶å®šã®ãŠçŸ¥ã‚‰ã›</a>
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/2020/break-monad-law-with-writer.html" style="margin-left: auto;" lang="ja">Writer Monadã§æ°—è»½ã«Monadå‰‡ã‚’ç ´ã‚‹</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>
<entry>
    <title>Writer Monadã§æ°—è»½ã«Monadå‰‡ã‚’ç ´ã‚‹</title>
    <link href="https://haskell.jp/blog/posts/2020/break-monad-law-with-writer.html" />
    <id>https://haskell.jp/blog/posts/2020/break-monad-law-with-writer.html</id>
    <published>2020-12-25T00:00:00Z</published>
    <updated>2020-12-25T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <hr />
<p>ğŸ…ã“ã®è¨˜äº‹ã¯ã€<a href="https://qiita.com/advent-calendar/2020/haskell"><span class="ascii">Haskell Advent Calendar 2020</span></a> <span class="ascii">25</span>æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚<br />
ğŸ„<span class="ascii">Happy Christmas!!</span>ğŸ„</p>
<p>ä»Šå›ã¯å…ˆæ—¥<small>ï¼ˆã¨ã„ã£ã¦ã‚‚å…ƒã®è³ªå•ã®æŠ•ç¨¿ã‹ã‚‰ã‚‚ã†ä½•ãƒ¶æœˆã‚‚çµŒã£ã¦ã—ã¾ã„ã¾ã—ãŸãŒâ€¦ï¼‰</small><span class="ascii">StackOverflow</span>ã«ä¸ŠãŒã£ãŸã“ã¡ã‚‰ğŸ‘‡ã®è³ªå•ã«å¯¾ã™ã‚‹å›ç­”ã®ã€ç¶šãã£ã½ã„è©±ã‚’æ›¸ã“ã†ã¨æ€ã„ã¾ã™ã€‚é•·ã„ã—ã€è³ªå•ã®å›ç­”ã‹ã‚‰ã‚¹ã‚³ãƒ¼ãƒ—ãŒå¤§ããå¤–ã‚Œã¦ã—ã¾ã†ã®ã§è¨˜äº‹ã«ã—ã¾ã—ãŸã€‚</p>
<p><a href="https://ja.stackoverflow.com/questions/70079/%E3%83%A2%E3%83%8A%E3%83%89%E5%89%87%E3%82%92%E5%B4%A9%E3%81%97%E3%81%A6%E3%81%97%E3%81%BE%E3%81%86%E4%BE%8B%E3%81%8C%E7%9F%A5%E3%82%8A%E3%81%9F%E3%81%84"><span class="ascii">haskell -</span> ãƒ¢ãƒŠãƒ‰å‰‡ã‚’å´©ã—ã¦ã—ã¾ã†ä¾‹ãŒçŸ¥ã‚ŠãŸã„ <span class="ascii">-</span> ã‚¹ã‚¿ãƒƒã‚¯ãƒ»ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼</a></p>
<p><code>Monad</code>ã¨<code>Monoid</code>ã«ã‚ã‚‹é‡è¦ãªç¹‹ãŒã‚Šã‚’èª¬æ˜ã—ãŸå¾Œã€ãã‚Œã‚’å¿œç”¨ã—ãŸ<code>Writer</code> <code>Monad</code>ãŒã©ã†<code>Monoid</code>ã‚’ä½¿ã£ã¦<code>Monad</code>å‰‡ã‚’æº€ãŸã—ã¦ã„ã‚‹ã®ã‹è¨¼æ˜ã—ã¾ã™ã€‚ãã—ã¦ã€<code>Writer</code>ã®ãã†ã—ãŸæ€§è³ªã‚’ç”¨ã„ã¦ç°¡å˜ã«<code>Monad</code>å‰‡ã‚’ç ´ã‚‹ä¾‹ã‚’ç´¹ä»‹ã™ã‚‹ã“ã¨ã§ã€èª­è€…ã®ã¿ãªã•ã‚“ãŒ<code>Monad</code>å‰‡ã®ã¿ãªã‚‰ãš<code>do</code>è¨˜æ³•ã‚„<code>Monad</code>ãã®ã‚‚ã®ã®æ€§è³ªã«ã¤ã„ã¦ã€ã‚ˆã‚Šã¯ã£ãã‚Šã¨ã—ãŸç†è§£ãŒå¾—ã‚‰ã‚Œã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚</p>
<div id="table-of-contents-outer">
<div id="table-of-contents">
<div class="table-of-contents-title">
Contents
</div>
<ul>
<li><a href="#ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦" title="ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦">ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦</a></li>
<li><a href="#monadã¨monoidã®åˆ‡ã£ã¦ã‚‚åˆ‡ã‚Šé›¢ã›ãªã„é–¢ä¿‚" title="monadã¨monoidã®åˆ‡ã£ã¦ã‚‚åˆ‡ã‚Šé›¢ã›ãªã„é–¢ä¿‚"><code>Monad</code>ã¨<code>Monoid</code>ã®åˆ‡ã£ã¦ã‚‚åˆ‡ã‚Šé›¢ã›ãªã„é–¢ä¿‚</a>
<ul>
<li><a href="#monoidã®ä¾‹" title="monoidã®ä¾‹"><code>Monoid</code>ã®ä¾‹</a></li>
</ul></li>
<li><a href="#monoidã¨writerã®åˆ‡ã£ã¦ã‚‚åˆ‡ã‚Šé›¢ã›ãªã„é–¢ä¿‚" title="monoidã¨writerã®åˆ‡ã£ã¦ã‚‚åˆ‡ã‚Šé›¢ã›ãªã„é–¢ä¿‚"><code>Monoid</code>ã¨<code>Writer</code>ã®åˆ‡ã£ã¦ã‚‚åˆ‡ã‚Šé›¢ã›ãªã„é–¢ä¿‚</a>
<ul>
<li><a href="#doã¨" title="doã¨"><code>do</code>ã¨<code>&lt;&gt;</code></a></li>
<li><a href="#writer-monadã®çµåˆå‰‡ã¨monoidã®çµåˆå‰‡" title="writer-monadã®çµåˆå‰‡ã¨monoidã®çµåˆå‰‡"><code>Writer</code> <code>Monad</code>ã®çµåˆå‰‡ã¨<code>Monoid</code>ã®çµåˆå‰‡</a></li>
</ul></li>
<li><a href="#é–¢ä¿‚ã‚’å£Šã—ã¦ã¿ã‚‹" title="é–¢ä¿‚ã‚’å£Šã—ã¦ã¿ã‚‹">é–¢ä¿‚ã‚’å£Šã—ã¦ã¿ã‚‹</a>
<ul>
<li><a href="#ã¨monoidã®çµåˆå‰‡" title="ã¨monoidã®çµåˆå‰‡"><code>&lt;&gt;</code>ã¨<code>Monoid</code>ã®çµåˆå‰‡</a></li>
<li><a href="#ã¨monadã®çµåˆå‰‡" title="ã¨monadã®çµåˆå‰‡"><code>&gt;&gt;=</code>ã¨<code>Monad</code>ã®çµåˆå‰‡</a></li>
<li><a href="#doè¨˜æ³•ã¨monadã®çµåˆå‰‡" title="doè¨˜æ³•ã¨monadã®çµåˆå‰‡"><code>do</code>è¨˜æ³•ã¨<code>Monad</code>ã®çµåˆå‰‡</a></li>
</ul></li>
<li><a href="#ã¾ã¨ã‚" title="ã¾ã¨ã‚">ã¾ã¨ã‚</a></li>
</ul>
</div>
</div>
<h1 id="ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦"><span class="link-to-here-outer"><a href="#ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦" title="ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦"><span class="link-to-here">Link to<br />
here</span></a></span>ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦</h1>
<p>æœ¬è¨˜äº‹ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã€<span class="ascii">Haskell</span>ã®æ§‹æ–‡ã«æº–æ‹ ã—ã¦ã„ãªã„ã‚‚ã®ã‚’é™¤ã„ã¦ã€ã™ã¹ã¦<a href="https://github.com/igrep/readme-test"><span class="ascii">readme-test</span></a>ã¨ã„ã†ãƒ„ãƒ¼ãƒ«ã®<a href="https://github.com/igrep/readme-test/tree/f6ce7a6f5ce5f5f8031cd5dfedc8c6e47c13b1f3"><span class="ascii">2020</span>å¹´<span class="ascii">12</span>æœˆ<span class="ascii">13</span>æ—¥æ™‚ç‚¹ã®é–‹ç™ºç‰ˆ</a>ã§ãƒ†ã‚¹ãƒˆã—ã¾ã—ãŸã€‚ã“ã¡ã‚‰ã®ãƒ„ãƒ¼ãƒ«ã¯ã¾ã é–‹ç™ºä¸­ã§ã€ä»Šå¾Œã‚‚ä»•æ§˜ãŒå¤§ããå¤‰ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ãŒã€ã“ã®è¨˜äº‹ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã®ã«å¿…è¦ãªæ©Ÿèƒ½ã¯ååˆ†ã«ãã‚ã£ã¦ã„ã¾ã™ã€‚ã“ã®<span class="ascii">readme-test</span>è‡ªä½“ã«ã¤ã„ã¦ã¯ã„ã¤ã‹æ”¹ã‚ã¦å…±æœ‰ã—ã¾ã™ã€‚</p>
<p>ã¾ãŸã€ãƒ†ã‚¹ãƒˆã®éš›ã«ç”¨ã„ãŸç’°å¢ƒã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™<span class="ascii">:</span></p>
<ul>
<li><span class="ascii">Windows 10 Pro 20H2</span></li>
<li><span class="ascii">GHC 8.10.1</span></li>
<li><a href="https://www.stackage.org/nightly-2020-08-15"><span class="ascii">Stackage nightly-2020-08-15</span></a></li>
</ul>
<h1 id="monadã¨monoidã®åˆ‡ã£ã¦ã‚‚åˆ‡ã‚Šé›¢ã›ãªã„é–¢ä¿‚"><span class="link-to-here-outer"><a href="#monadã¨monoidã®åˆ‡ã£ã¦ã‚‚åˆ‡ã‚Šé›¢ã›ãªã„é–¢ä¿‚" title="monadã¨monoidã®åˆ‡ã£ã¦ã‚‚åˆ‡ã‚Šé›¢ã›ãªã„é–¢ä¿‚"><span class="link-to-here">Link to<br />
here</span></a></span><code>Monad</code>ã¨<code>Monoid</code>ã®åˆ‡ã£ã¦ã‚‚åˆ‡ã‚Šé›¢ã›ãªã„é–¢ä¿‚</h1>
<p>ã€Œ<a href="http://www.aoky.net/articles/james_iry/brief-incomplete-and-mostly-wrong.htm">ãƒ¢ãƒŠãƒ‰ã¯å˜ãªã‚‹è‡ªå·±é–¢æ‰‹ã®åœã«ãŠã‘ã‚‹ãƒ¢ãƒã‚¤ãƒ‰å¯¾è±¡ã ã‚ˆã€‚ä½•ã‹å•é¡Œã§ã‚‚ï¼Ÿ</a>ã€ã¨ã„ã†ãƒ•ãƒ¬ãƒ¼ã‚ºï¼ˆåŸæ–‡ã€Œ<a href="http://james-iry.blogspot.com/2009/05/brief-incomplete-and-mostly-wrong.html"><span class="ascii">A monad is a monoid in the category of endofunctors, what</span>â€™<span class="ascii">s the problem?</span></a>ã€ãŒç¤ºã™ã¨ãŠã‚Šã€ãƒ¢ãƒŠãƒ‰ã¨ãƒ¢ãƒã‚¤ãƒ‰ã€<span class="ascii">Haskell</span>ã®è­˜åˆ¥å­ã§è¨€ã†ã¨ã“ã‚ã®<code>Monad</code>ã¨<code>Monoid</code>ã«ã¯å¯†æ¥ãªé–¢ä¿‚ãŒã‚ã‚Šã¾ã™ã€‚ã¶ã£ã¡ã‚ƒã‘ã€ã“ã®ãƒ•ãƒ¬ãƒ¼ã‚ºã®æ­£ç¢ºãªæ„å‘³ã‚’ç§ã¯ç†è§£ã—ã¦ã„ãªã„ã®ã§ã™ãŒã€å°‘ãªãã¨ã‚‚<code>Monad</code>ã¨<code>Monoid</code>ã«ã¯é‡è¦ãªå…±é€šç‚¹ãŒã‚ã‚‹ã“ã¨ã¯çŸ¥ã£ã¦ã„ã¾ã™ã€‚ãã‚Œã¯ã€ã©ã¡ã‚‰ã‚‚<strong>å˜ä½å…ƒã¨çµåˆå‰‡</strong>ãŒã‚ã‚‹ã€ã¨ã„ã†ã“ã¨ã§ã™ï¼</p>
<p>å…·ä½“çš„ã«<code>Monad</code>ã¨<code>Monoid</code>ã®å˜ä½å…ƒãƒ»çµåˆå‰‡ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†<span class="ascii">:</span></p>
<!-- ReadmeTest: Ignore -->
<p><code>Monoid</code>ã®å˜ä½å…ƒ<span class="ascii">:</span> å˜ä½å…ƒã§ã‚ã‚‹<code>mempty</code>ã¯ã€ã©ã‚“ãªå€¤<code>x</code>ã«<code>&lt;&gt;</code>ã§è¶³ã—ã¦ã‚‚çµæœãŒå¤‰ã‚ã‚‰ãªã„ï¼</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb1-1" title="1">x <span class="op">&lt;&gt;</span> <span class="fu">mempty</span> <span class="ot">=</span> x</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="fu">mempty</span> <span class="op">&lt;&gt;</span> x <span class="ot">=</span> x</a></code></pre></div>
<p><code>Monad</code>ã®å˜ä½å…ƒ<span class="ascii">:</span> <code>return</code>ã¯<code>&gt;&gt;=</code>ã®å‰ã«ä½¿ã£ã¦ã‚‚å¾Œã‚ã«ä½¿ã£ã¦ã‚‚ã€<code>m</code>ã‚„<code>k a</code>ã®çµæœã‚’å¤‰ãˆãªã„ï¼</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb2-1" title="1"><span class="fu">return</span> a <span class="op">&gt;&gt;=</span> (\a <span class="ot">-&gt;</span> k a) <span class="ot">=</span> k a</a>
<a class="sourceLine" id="cb2-2" title="2">m <span class="op">&gt;&gt;=</span> (\a <span class="ot">-&gt;</span> <span class="fu">return</span> a) <span class="ot">=</span> m</a></code></pre></div>
<p><code>Monoid</code>ã®çµåˆå‰‡<span class="ascii">:</span> <code>x &lt;&gt; y &lt;&gt; z</code>ã®çµæœã¯ã€<code>y &lt;&gt; z</code>ã‚’å…ˆã«è¨ˆç®—ã—ã‚ˆã†ã¨<code>x &lt;&gt; y</code>ã‚’å…ˆã«è¨ˆç®—ã—ã‚ˆã†ã¨å¤‰ã‚ã‚‰ãªã„ï¼</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb3-1" title="1">x <span class="op">&lt;&gt;</span> (y <span class="op">&lt;&gt;</span> z) <span class="ot">=</span> (x <span class="op">&lt;&gt;</span> y) <span class="op">&lt;&gt;</span> z</a></code></pre></div>
<p><code>Monad</code>ã®çµåˆå‰‡<span class="ascii">:</span> <code>m &gt;&gt;= \x -&gt; k x &gt;&gt;= h</code> ã®çµæœã¯ã€<code>\x -&gt; k x &gt;&gt;= h</code>ã‚’å…ˆã«è¨ˆç®—ã—ã‚ˆã†ã¨ã€<code>m &gt;&gt;= (\x -&gt; k x)</code>ã‚’å…ˆã«è¨ˆç®—ã—ã‚ˆã†ã¨å¤‰ã‚ã‚‰ãªã„ï¼</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb4-1" title="1">m <span class="op">&gt;&gt;=</span> (\x <span class="ot">-&gt;</span> k x <span class="op">&gt;&gt;=</span> h) <span class="ot">=</span> (m <span class="op">&gt;&gt;=</span> (\x <span class="ot">-&gt;</span> k x)) <span class="op">&gt;&gt;=</span> h</a></code></pre></div>
<p>â€»<code>Monad</code>ã®å˜ä½å…ƒãƒ»çµåˆå‰‡ã®å¼ã«ã¤ã„ã¦ã¯ã‚ã‹ã‚Šã‚„ã™ã•ã®ãŸã‚ã«<a href="http://hackage.haskell.org/package/base-4.14.0.0/docs/Control-Monad.html#t:Monad">å¼•ç”¨å…ƒ</a>ã‹ã‚‰å°‘ã—å½¢ã‚’å¤‰ãˆã¦ã„ã¾ã™ã€‚</p>
<p><span class="ascii">Haskell</span>ã«ãŠã‘ã‚‹<code>Monad</code>ãƒ»<code>Monoid</code>ã¨ã¯ã€å€¤ãŒãã‚Œãã‚Œã®å˜ä½å…ƒãƒ»çµåˆå‰‡ã‚’ã‚’æº€ãŸã™å‹ã§ã™<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>ã€‚ãã‚Œä»¥ä¸Šã§ã‚‚ã€ãã‚Œä»¥ä¸‹ã§ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<p>ãã‚Œãã‚Œã®å˜ä½å…ƒãƒ»çµåˆå‰‡ã‚’è¡¨ã™å¼ã¯ã€ä¸€è¦‹ã—ã¦ç•°ãªã‚‹ã‚‚ã®ã«è¦‹ãˆã‚‹ã‹ã‚‚çŸ¥ã‚Œã¾ã›ã‚“ãŒã€è¡¨ã™æ€§è³ªè‡ªä½“ã¯ã‚ˆãä¼¼ã¦ã„ã¾ã™ã€‚ãªã®ã§ã€å¼ã‚’èª­ã‚“ã§ã‚‚ã‚ˆãåˆ†ã‹ã‚‰ãªã„ã¨ã„ã†æ–¹ã¯ã€ä¸Šè¨˜ã«æ›¸ã„ãŸæ—¥æœ¬èªã®èª¬æ˜ã‚’ã–ã£ã¨çœºã‚ã¦è¦šãˆã¦ãŠã„ã¦ãã ã•ã„ã€‚ç‰¹ã«ã€çµåˆå‰‡ã«ãŠã‘ã‚‹<strong>ã€Œï½ã‚’å…ˆã«è¨ˆç®—ã—ã‚ˆã†ã¨ã€ï½ã‚’å…ˆã«è¨ˆç®—ã—ã‚ˆã†ã¨å¤‰ã‚ã‚‰ãªã„ï¼ã€</strong>ã®éƒ¨åˆ†ãŒã“ã®å¾Œã¨ã¦ã‚‚é‡è¦ã«ãªã‚Šã¾ã™ã€‚</p>
<div id="monoid-examples">

</div>
<h2 id="monoidã®ä¾‹"><span class="link-to-here-outer"><a href="#monoidã®ä¾‹" title="monoidã®ä¾‹"><span class="link-to-here">Link to<br />
here</span></a></span><code>Monoid</code>ã®ä¾‹</h2>
<p>ã“ã“ã¾ã§èª­ã‚“ã§ã€<code>Monad</code>ã¯ãªã‚“ã‹èã„ãŸã“ã¨ãŒã‚ã‚‹ã‘ã©<code>Monoid</code>ã¯åˆã‚ã¦èãã‚ˆã€ã¨ã„ã†æ–¹å‘ã‘ã«è£œè¶³ã™ã‚‹ã¨ã€<code>Monoid</code>ã¨ã¯ä¾‹ãˆã°æ¬¡ã®ã‚ˆã†ãªå‹ã®å€¤ï¼ˆã¨ã€ãã‚Œã«å¯¾ã™ã‚‹å‡¦ç†ï¼‰ã§ã™ã€‚</p>
<p><code>Sum</code>å‹<span class="ascii">:</span> æ•°å€¤<small>ï¼ˆ<span class="ascii">Num</span>å‹ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼‰</small>ã«å¯¾ã™ã‚‹ã€è¶³ã—ç®—ã‚’è¡¨ã™<code>Monoid</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹</p>
<!-- ReadmeTest: AppendAsIs -->
<div class="sourceCode" id="cb5"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb5-1" title="1"><span class="co">-- ã“ã‚Œã‹ã‚‰ç´¹ä»‹ã™ã‚‹å‡¦ç†ã«å¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®import</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">import</span> <span class="dt">Data.Monoid</span></a></code></pre></div>
<!-- ReadmeTest: CompareAfterPrompt ByExpression -->
<div class="sourceCode" id="cb6"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb6-1" title="1"><span class="co">-- Sum aã«å¯¾ã™ã‚‹ &lt;&gt; ã¯ + ã¨åŒç­‰ãªã®ã§ã€</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="op">&gt;</span> getSum (<span class="dt">Sum</span> <span class="dv">1</span> <span class="op">&lt;&gt;</span> <span class="dt">Sum</span> <span class="dv">2</span> <span class="op">&lt;&gt;</span> <span class="fu">mempty</span>)</a>
<a class="sourceLine" id="cb6-3" title="3"><span class="co">-- ã¯ã€</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="dv">1</span> <span class="op">+</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="co">-- ã¨åŒã˜ã€‚</span></a></code></pre></div>
<p><code>mempty</code>ãŒå„<code>Monoid</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ãŠã‘ã‚‹å˜ä½å…ƒã‚’è¿”ã™ã€ã¨ã„ã†ç‚¹ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚ä¸Šè¨˜ã®ã¨ãŠã‚Šè¶³ã—ç®—ã®å ´åˆã¯<code>0</code>ã§ã™ã€‚</p>
<p><code>Product</code>å‹<span class="ascii">:</span> æ•°å€¤<small>ï¼ˆ<span class="ascii">Num</span>å‹ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼‰</small>ã«å¯¾ã™ã‚‹ã€ã‹ã‘ç®—ã‚’è¡¨ã™<code>Monoid</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb7-1" title="1"><span class="co">-- Product aã«å¯¾ã™ã‚‹ &lt;&gt; ã¯ * ã¨åŒç­‰ãªã®ã§ã€</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="op">&gt;</span> getProduct (<span class="dt">Product</span> <span class="dv">1</span> <span class="op">&lt;&gt;</span> <span class="dt">Product</span> <span class="dv">2</span> <span class="op">&lt;&gt;</span> <span class="fu">mempty</span>)</a>
<a class="sourceLine" id="cb7-3" title="3"><span class="co">-- ã¯ã€</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="dv">1</span> <span class="op">*</span> <span class="dv">2</span> <span class="op">*</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="co">-- ã¨åŒã˜ã€‚</span></a></code></pre></div>
<p>ãƒªã‚¹ãƒˆå‹<span class="ascii">:</span> ãƒªã‚¹ãƒˆå‹ã®å€¤ã«å¯¾ã™ã‚‹ã€çµåˆ <code>(++)</code>ã‚’è¡¨ã™<code>Monoid</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb8-1" title="1"><span class="co">-- [a] ã«å¯¾ã™ã‚‹ &lt;&gt; ã¯ ++ ã¨åŒç­‰ãªã®ã§ã€</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="op">&gt;</span> [<span class="dv">1</span>, <span class="dv">2</span>] <span class="op">&lt;&gt;</span> [<span class="dv">3</span>] <span class="op">&lt;&gt;</span> <span class="fu">mempty</span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="co">-- ã¯ã€</span></a>
<a class="sourceLine" id="cb8-4" title="4">[<span class="dv">1</span>, <span class="dv">2</span>] <span class="op">++</span> [<span class="dv">3</span>] <span class="op">++</span> []</a>
<a class="sourceLine" id="cb8-5" title="5"><span class="co">-- ã¨åŒã˜</span></a></code></pre></div>
<p><code>All</code>å‹<span class="ascii">:</span> <code>Bool</code>å‹ã®å€¤ã«å¯¾ã™ã‚‹è«–ç†ç©<code>&amp;&amp;</code>ã‚’è¡¨ã™<code>Monoid</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb9-1" title="1"><span class="op">&gt;</span> getAll (<span class="dt">All</span> <span class="dt">True</span> <span class="op">&lt;&gt;</span> <span class="dt">All</span> <span class="dt">False</span>)</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="co">-- ã¯ã€</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="dt">True</span> <span class="op">&amp;&amp;</span> <span class="dt">False</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="co">-- ã¨åŒã˜</span></a></code></pre></div>
<!-- ReadmeTest: ValidateAsExpression -->
<div class="sourceCode" id="cb10"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb10-1" title="1"><span class="co">-- ã“ã‚ŒãŒä½•ã‚’è¿”ã™ã‹ã¯ã€æƒ³åƒã—ã¦ã¿ã¦ãã ã•ã„ï¼</span></a>
<a class="sourceLine" id="cb10-2" title="2">getAll <span class="fu">mempty</span></a></code></pre></div>
<p><code>Any</code>å‹<span class="ascii">:</span> <code>Bool</code>å‹ã®å€¤ã«å¯¾ã™ã‚‹è«–ç†å’Œ<code>||</code>ã‚’è¡¨ã™<code>Monoid</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹</p>
<!-- ReadmeTest: CompareAfterPrompt ByExpression -->
<div class="sourceCode" id="cb11"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb11-1" title="1"><span class="op">&gt;</span> getAny (<span class="dt">Any</span> <span class="dt">True</span> <span class="op">&lt;&gt;</span> <span class="dt">Any</span> <span class="dt">False</span>)</a>
<a class="sourceLine" id="cb11-2" title="2"><span class="co">-- ã¯ã€</span></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="dt">True</span> <span class="op">||</span> <span class="dt">False</span></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="co">-- ã¨åŒã˜</span></a></code></pre></div>
<!-- ReadmeTest: ValidateAsExpression -->
<div class="sourceCode" id="cb12"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb12-1" title="1"><span class="co">-- ã“ã‚Œã‚‚ä½•ã‚’è¿”ã™ã‹ã¯ã€æƒ³åƒã—ã¦ã¿ã¦ãã ã•ã„ï¼</span></a>
<a class="sourceLine" id="cb12-2" title="2">getAny <span class="fu">mempty</span></a></code></pre></div>
<p>ã“ã®ã‚ˆã†ã«ã€<code>Monoid</code>ã¯ä»–ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§ã‚‚ãŠãªã˜ã¿ã®ã€å¤šãã®äºŒé …æ¼”ç®—ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ã™ã¹ã¦ã€å…ˆã»ã©ç´¹ä»‹ã—ãŸã€Œå˜ä½å…ƒã€ã‚„ã€Œçµåˆå‰‡ã€ã®ãƒ«ãƒ¼ãƒ«ã‚’å®ˆã£ã¦ã„ã‚‹ã®ã§ã€æ°—ã«ãªã£ãŸæ–¹ã¯ãœã²ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¦ãã ã•ã„<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>ã€‚</p>
<h1 id="monoidã¨writerã®åˆ‡ã£ã¦ã‚‚åˆ‡ã‚Šé›¢ã›ãªã„é–¢ä¿‚"><span class="link-to-here-outer"><a href="#monoidã¨writerã®åˆ‡ã£ã¦ã‚‚åˆ‡ã‚Šé›¢ã›ãªã„é–¢ä¿‚" title="monoidã¨writerã®åˆ‡ã£ã¦ã‚‚åˆ‡ã‚Šé›¢ã›ãªã„é–¢ä¿‚"><span class="link-to-here">Link to<br />
here</span></a></span><code>Monoid</code>ã¨<code>Writer</code>ã®åˆ‡ã£ã¦ã‚‚åˆ‡ã‚Šé›¢ã›ãªã„é–¢ä¿‚</h1>
<p>å®Ÿã¯ãã‚“ãª<code>Monad</code>ã¨<code>Monoid</code>ã®å›ºã„çµ†ã‚’è±¡å¾´ã™ã‚‹ã‚ˆã†ãª<code>Monad</code>ãŒã€ã“ã®ä¸–ã«ã¯ã‚ã‚Šã¾ã™ã€‚ãã†ã€<code>Writer</code>ã§ã™ï¼<code>Writer</code>ã¯<code>Monoid</code>ã®å˜ä½å…ƒãƒ»çµåˆå‰‡ã‚’ãã®ã¾ã¾æ´»ã‹ã™ã“ã¨ã«ã‚ˆã£ã¦<code>Monad</code>ã®å˜ä½å…ƒãƒ»çµåˆå‰‡ã‚’æº€ãŸã—ãŸ<code>Monad</code>ã§ã‚ã‚Šã€<code>Writer</code>ãŒã©ã†ã‚„ã£ã¦<code>Monad</code>å‰‡ã‚’æº€ãŸã—ã¦ã„ã‚‹ã®ã‹çŸ¥ã‚Œã°ã€<code>Monad</code>å‰‡ãŒã©ã†ã‚„ã£ã¦æˆç«‹ã™ã‚‹ã‚‚ã®ãªã®ã‹ãŒã€ã™ã£ãã‚Šã‚¯ãƒªã‚¢ã«ãªã‚‹ã“ã¨ã§ã—ã‚‡ã†ã€‚</p>
<p>æ‰‹å§‹ã‚ã«<code>Writer</code>ã®å®šç¾©ã¨ã€<code>Writer</code>ãŒ<code>Monad</code>ã®å„ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã©ã®ã‚ˆã†ã«å®Ÿè£…ã—ã¦ã„ã‚‹ã‹è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚<a href="https://www.sampou.org/haskell/a-a-monads/html/writermonad.html">ã€Œãƒ¢ãƒŠãƒ‰ã®ã™ã¹ã¦ã€ã«ãŠã‘ã‚‹<code>Writer</code>ã®ç´¹ä»‹ãƒšãƒ¼ã‚¸</a>ã‹ã‚‰ã€å°‘ã—ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ã¤ã¤å¼•ç”¨ã—ã¾ã™<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>ã€‚</p>
<!-- ReadmeTest: AppendAsIs -->
<div class="sourceCode" id="cb13"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb13-1" title="1"><span class="co">-- Writerå‹ã®å®šç¾©</span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="kw">newtype</span> <span class="dt">Writer</span> w a <span class="ot">=</span> <span class="dt">Writer</span> {<span class="ot"> runWriter ::</span> (a, w) }</a></code></pre></div>
<p>ã‚¿ãƒ—ãƒ«ã«å¯¾ã—ã¦<code>newtype</code>ã—ã¦ã„ã‚‹ã“ã¨ã‹ã‚‰åˆ†ã‹ã‚‹ã¨ãŠã‚Šã€<code>Writer</code>ã®å®Ÿæ…‹ã¯ãŸã ã®ã‚¿ãƒ—ãƒ«ã§ã™ã€‚ãŸã ã®ã‚¿ãƒ—ãƒ«ãŒã©ã†ã‚„ã£ã¦<code>Monad</code>ã«ãªã‚‹ã®ã§ã—ã‚‡ã†ï¼Ÿãã®ç­”ãˆãŒã“ã¡ã‚‰ğŸ‘‡<span class="ascii">:</span></p>
<!--
```haskell
instance Functor (Writer w) where
  fmap f (Writer (x, w)) = Writer (f x, w)

instance Monoid w => Applicative (Writer w) where
  pure a = Writer (a, mempty)
  Writer (f, w1) <*> Writer (x, w2) = Writer (f x, w1 <> w2)
```
-->
<div class="sourceCode" id="cb14"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb14-1" title="1"><span class="co">-- Writerã®Monadå‹ã‚¯ãƒ©ã‚¹ã®å®Ÿè£…</span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="co">-- å®Ÿéš›ã®ã¨ã“ã‚Functor, Applicativeã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å®šç¾©ã‚‚å¿…è¦ã ã‘ã©ã“ã“ã§ã¯çœç•¥</span></a>
<a class="sourceLine" id="cb14-3" title="3"><span class="kw">instance</span> <span class="dt">Monoid</span> w <span class="ot">=&gt;</span> <span class="dt">Monad</span> (<span class="dt">Writer</span> w) <span class="kw">where</span></a>
<a class="sourceLine" id="cb14-4" title="4">  <span class="fu">return</span> a <span class="ot">=</span> <span class="dt">Writer</span> (a, <span class="fu">mempty</span>)</a>
<a class="sourceLine" id="cb14-5" title="5">  <span class="dt">Writer</span> (a, w1) <span class="op">&gt;&gt;=</span> f <span class="ot">=</span></a>
<a class="sourceLine" id="cb14-6" title="6">    <span class="kw">let</span> <span class="dt">Writer</span> (b, w2) <span class="ot">=</span> f a</a>
<a class="sourceLine" id="cb14-7" title="7">     <span class="kw">in</span> <span class="dt">Writer</span> (b, w1 <span class="op">&lt;&gt;</span> w2)</a></code></pre></div>
<p><code>return</code>ã®å®šç¾©ã¯æ¯”è¼ƒçš„ã‚·ãƒ³ãƒ—ãƒ«ã§ã™ã­ã€‚<code>mempty</code>ã‚’å—ã‘å–ã£ãŸå€¤<code>a</code>ã¨ä¸€ç·’ã«ã‚¿ãƒ—ãƒ«ã«å…¥ã‚Œã¦è¿”ã™ã ã‘ã§ã™ã€‚<code>Monad</code>ã®å˜ä½å…ƒã§ã‚ã‚‹<code>return</code>ã§ã¯ã€<code>Monoid</code>ã®å˜ä½å…ƒã§ã‚ã‚‹<code>mempty</code>ã‚’ä½¿ã†ã®ã§ã™ã€‚</p>
<p>ä¸€æ–¹ã€<code>&gt;&gt;=</code>ã¯ã©ã†èª­ã‚ã°ã„ã„ã§ã—ã‚‡ã†ï¼Ÿ<code>let ... in ...</code>ã®çµæœã«ã‚ãŸã‚‹<code>Writer (b, w1 &lt;&gt; w2)</code>ã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚</p>
<p>ã¾ãšã€<code>b</code>ã¯<code>&gt;&gt;=</code>ã®å³è¾ºã§ã‚ã‚‹<code>f</code>ãŒè¿”ã—ãŸçµæœã§ã™ã€‚<code>Writer</code>ã®<code>&gt;&gt;=</code>ãŒè¿”ã™ã€<code>Writer</code>ãŒãƒ©ãƒƒãƒ—ã—ãŸã‚¿ãƒ—ãƒ«ã®ä¸€ã¤ç›®ã®è¦ç´ ã¯ã€ã“ã“ã§<code>f</code>ãŒè¿”ã—ãŸå€¤ã®å‹ã¨ä¸€è‡´ã—ã¦ã„ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚<code>Writer</code>ã«ãŠã„ã¦<code>&gt;&gt;=</code>ã®å‹ã¯<code>Writer w a -&gt; (a -&gt; Writer w b) -&gt; Writer w b</code>ã§ã‚ã‚Šã€å³è¾ºã«ã‚ãŸã‚‹<code>f</code>ã¯<code>(a -&gt; Writer w b)</code>ã¨ã„ã†å‹ãªã®ã§ã€<code>&gt;&gt;=</code>å…¨ä½“ã®æˆ»ã‚Šå€¤<code>Writer w b</code>ã¨<code>f</code>ã®æˆ»ã‚Šå€¤ãŒä¸€è‡´ã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã‚ˆã­ï¼Ÿ</p>
<p>ã•ã‚‰ã«é‡è¦ãªã®ãŒ<code>w1 &lt;&gt; w2</code>ã§ã™ã€‚ã“ã“ã§ã‚ã®<code>Monoid</code>ã®æ¼”ç®—å­<code>&lt;&gt;</code>ãŒå‡ºã¦ãã¾ã—ãŸï¼<code>Writer</code>ã¯<code>&gt;&gt;=</code>ã®ä¸­ã§<code>&lt;&gt;</code>ã‚’ä½¿ã†<code>Monad</code>ãªã‚“ã§ã™ã­ï¼ä¸€ä½“ä½•ã¨ä½•ã‚’<code>&lt;&gt;</code>ã—ã¦ã„ã‚‹ã®ã§ã—ã‚‡ã†ï¼Ÿã¾ãšã€<code>&lt;&gt;</code>ã®å·¦è¾ºã§ã‚ã‚‹<code>w1</code>ã¯ã€å·¦è¾ºã«ã‚ãŸã‚‹<code>Writer</code>ãŒã‚¿ãƒ—ãƒ«ã«ä¿æŒã—ã¦ã„ãŸ<code>Monoid</code>å‹ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®å€¤ã§ã™ã€‚ãã—ã¦å³è¾ºã®<code>w2</code>ã¯ã€<code>&gt;&gt;=</code>ã®å³è¾ºã«æ¸¡ã—ãŸé–¢æ•°<code>f</code>ãŒ<code>b</code>ã¨ä¸€ç·’ã«è¿”ã—ãŸ<code>w2</code>ã§ã™ã€‚</p>
<p>ä»¥ä¸Šã®ã“ã¨ã‚’ã¾ã¨ã‚ã‚‹ã¨ã€<code>Writer</code>ã®<code>&gt;&gt;=</code>ã¯ã€</p>
<ol type="1">
<li>å·¦è¾ºã®<code>(a, w1)</code>ã«ãŠã‘ã‚‹<code>a</code>ã‚’<code>f</code>ã«æ¸¡ã—ã¦ã€</li>
<li><code>f</code>ãŒè¿”ã—ãŸ<code>(b, w2)</code>ã«ãŠã‘ã‚‹<code>b</code>ã‚’ã€</li>
<li><code>w1</code>ã¨<code>w2</code>ã¨ä¸€ç·’ã«<code>&lt;&gt;</code>ã§ãã£ã¤ã‘ã¤ã¤è¿”ã™ã€</li>
</ol>
<p>ã¨ã„ã†å‡¦ç†ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚<code>Writer</code>ã¯ã€ã€Œ<code>b</code>ã‚’è¿”ã™ã¤ã„ã§ã«<code>w1</code>ã¨<code>w2</code>ã‚’<code>&lt;&gt;</code>ã§ãã£ã¤ã‘ã‚‹ã€ã¨è¦šãˆã¦ãã ã•ã„ã€‚</p>
<p><code>Writer</code>ã¯ã€</p>
<ul>
<li><code>Monad</code>ã®å˜ä½å…ƒ<code>return</code>ã§<code>Monoid</code>ã®å˜ä½å…ƒ<code>mempty</code>ã‚’ä½¿ã£ã¦ã€</li>
<li><code>Monad</code>ã®çµåˆå‰‡ã‚’æº€ãŸã™<code>&gt;&gt;=</code>ã§ã€ã“ã‚Œã¾ãŸ<code>Monoid</code>ã®çµåˆå‰‡ã‚’æº€ãŸã™<code>&lt;&gt;</code>ã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ã™ã€‚</li>
</ul>
<p>ã‚„ã£ã±ã‚Š<code>Writer</code>ã¯<code>Monoid</code>ã‚ã£ã¦ã®<code>Monad</code>ã¨è¨€ãˆã¾ã™ã­ã€‚</p>
<h2 id="doã¨"><span class="link-to-here-outer"><a href="#doã¨" title="doã¨"><span class="link-to-here">Link to<br />
here</span></a></span><code>do</code>ã¨<code>&lt;&gt;</code></h2>
<p>ã•ã¦ã€ã“ã®ã€Œ<code>b</code>ã‚’è¿”ã™ã¤ã„ã§ã«<code>w1</code>ã¨<code>w2</code>ã‚’<code>&lt;&gt;</code>ã§ãã£ã¤ã‘ã‚‹ã€ã¨ã„ã†<code>Writer</code>ã®æŒ¯ã‚‹èˆã„ãŒè±¡å¾´ã™ã‚‹ã‚ˆã†ã«ã€å¤§æŠµã®<code>Monad</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ãŠã‘ã‚‹<code>&gt;&gt;=</code>ã¯ã€<strong>ä½•ã‹ã—ã‚‰å€¤ã‚’è¿”ã™ã¤ã„ã§ã«ã€ä½•ã‚‰ã‹ã®å‡¦ç†ã‚’è¡Œã†</strong>ã‚ˆã†å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®ã€Œã¤ã„ã§ã«è¡Œã‚ã‚Œã‚‹å‡¦ç†ã€ã¯<code>Monad</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’<code>do</code>è¨˜æ³•ã®ä¸­ã§æ‰±ã†ã¨ã€ã¾ã™ã¾ã™é™ã‹ã«èº«ã‚’éš ã™ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<p>ã“ã¡ã‚‰ã‚‚<code>Writer</code>ã‚’ä¾‹ã«èª¬æ˜ã—ã¾ã—ã‚‡ã†ã€‚ã¾ãšã€ä¾‹ç¤ºç”¨ã«<code>Writer</code>ã‚’ä½œã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’é©å½“ã«å®šç¾©ã—ã¾ã™ã€‚</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb15-1" title="1"><span class="ot">addLogging ::</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Writer</span> [<span class="dt">String</span>] <span class="dt">Int</span></a>
<a class="sourceLine" id="cb15-2" title="2">addLogging x y <span class="ot">=</span></a>
<a class="sourceLine" id="cb15-3" title="3">  <span class="dt">Writer</span> (x <span class="op">+</span> y, [<span class="st">&quot;Adding &quot;</span> <span class="op">++</span> <span class="fu">show</span> x <span class="op">++</span> <span class="st">&quot; to &quot;</span> <span class="op">++</span> <span class="fu">show</span> y <span class="op">++</span> <span class="st">&quot;.&quot;</span>])</a>
<a class="sourceLine" id="cb15-4" title="4"></a>
<a class="sourceLine" id="cb15-5" title="5"><span class="ot">multLogging ::</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Writer</span> [<span class="dt">String</span>] <span class="dt">Int</span></a>
<a class="sourceLine" id="cb15-6" title="6">multLogging x y <span class="ot">=</span></a>
<a class="sourceLine" id="cb15-7" title="7">  <span class="dt">Writer</span> (x <span class="op">*</span> y, [<span class="st">&quot;Multiplying &quot;</span> <span class="op">++</span> <span class="fu">show</span> x <span class="op">++</span> <span class="st">&quot; with &quot;</span> <span class="op">++</span> <span class="fu">show</span> y <span class="op">++</span> <span class="st">&quot;.&quot;</span>])</a></code></pre></div>
<p><code>addLogging</code>ã¨<code>multLogging</code>ã¯ãã‚Œãã‚Œã€å¼•æ•°ã¨ã—ã¦å—ã‘å–ã£ãŸæ•´æ•°ã‚’è¶³ã—ç®—ã—ãŸã‚Šã‹ã‘ç®—ã—ãŸã‚Šã—ã¤ã¤ã€ã€Œè¶³ã—ãŸã‚ˆã€ã€Œã‹ã‘ãŸã‚ˆã€ã¨ã„ã†å†…å®¹ã®æ–‡å­—åˆ—ã‚’ä¸€ç·’ã«è¿”ã—ã¾ã™ã€‚<code>Writer [String] Int</code>ã«ãŠã‘ã‚‹<code>[String]</code>ã«ãƒ­ã‚°ã¨ã—ã¦æ›¸ãè¾¼ã‚“ã§ã„ã‚‹ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§æ‰ãˆã¦ãã ã•ã„ã€‚</p>
<p>ã“ã‚Œã‚‰ã‚’<code>do</code>ã®ä¸­ã§ä½¿ã£ã¦ã¿ã‚‹ã¨ã€ã‚ˆã‚Š<code>addLogging</code>ã‚„<code>multLogging</code>ãŒã€Œè¶³ã—ç®—ã‚„ã‹ã‘ç®—ã‚’ã™ã‚‹ã¤ã„ã§ã«ã€ãƒ­ã‚°ã¨ã—ã¦æ›¸ãè¾¼ã‚“ã§ã„ã‚‹ã€ã£ã½ã„ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒä¼ã‚ã‚‹ã§ã—ã‚‡ã†<span class="ascii">:</span></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb16-1" title="1"><span class="ot">testDo ::</span> <span class="dt">Writer</span> [<span class="dt">String</span>] <span class="dt">Int</span></a>
<a class="sourceLine" id="cb16-2" title="2">testDo <span class="ot">=</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb16-3" title="3">  result1 <span class="ot">&lt;-</span> addLogging <span class="dv">3</span> <span class="dv">4</span></a>
<a class="sourceLine" id="cb16-4" title="4">  result2 <span class="ot">&lt;-</span> multLogging <span class="dv">5</span> <span class="dv">2</span></a>
<a class="sourceLine" id="cb16-5" title="5">  addLogging result1 result2</a></code></pre></div>
<p><small>âš ï¸ç”³ã—è¨³ãªãã‚‚<code>do</code>è¨˜æ³•è‡ªä½“ã®è§£èª¬ã€ã¤ã¾ã‚Š<code>&gt;&gt;=</code>ãŒã©ã®ã‚ˆã†ã«<code>do</code>è¨˜æ³•ã«å¯¾å¿œã™ã‚‹ã‹ã¯ã“ã“ã«ã¯æ›¸ãã¾ã›ã‚“ã€‚ãŠè¿‘ãã®<span class="ascii">Haskell</span>å…¥é–€æ›¸ã‚’ã”è¦§ãã ã•ã„ã€‚</small></p>
<p>ğŸ‘†ã§ã¯ã€<code>3 + 4</code>ã—ãŸçµæœ<code>result1</code>ã¨ã€<code>5 * 2</code>ã—ãŸçµæœ<code>result2</code>ã‚’è¶³ã™å‡¦ç†ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ãã‚Œã«åŠ ãˆã¦ã€ã€Œè¶³ã—ãŸã‚ˆã€ã€Œã‹ã‘ãŸã‚ˆã€ã¨ã„ã†ãƒ­ã‚°ã‚’è¡¨ã™æ–‡å­—åˆ—ã®ãƒªã‚¹ãƒˆ<code>[String]</code>ã‚‚ä¸€ç·’ã«è¿”ã—ã¦ã„ã¾ã™ã€‚<code>do</code>è¨˜æ³•ãŒ<code>&gt;&gt;=</code>ã«å¤‰æ›ã•ã‚Œã‚‹ã®ã«å¾“ã„ã€<code>Writer</code>ã®<code>&gt;&gt;=</code>ãŒå†…éƒ¨ã§<code>&lt;&gt;</code>ã‚’ä½¿ã„ã€<code>addLogging 3 4</code>ãƒ»<code>multLogging 5 2</code>ãƒ»<code>addLogging result1 result2</code>ãŒè¿”ã—ãŸæ–‡å­—åˆ—ã®ãƒªã‚¹ãƒˆ<code>[String]</code>ã‚’çµåˆã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€ã‚ãŸã‹ã‚‚<code>addLogging</code>ã‚„<code>multLogging</code>ãŒã€Œå€¤ã‚’è¿”ã—ã¤ã¤ã€ãƒ­ã‚°ã¨ã—ã¦æ›¸ãè¾¼ã‚€ã€ã‹ã®ã‚ˆã†ãªå‡¦ç†ã‚’å®Ÿç¾ã§ãã‚‹ã®ãŒ<code>Writer</code>ã«ãŠã‘ã‚‹<code>do</code>è¨˜æ³•ã®ç‰¹å¾´ã§ã™ã€‚</p>
<!-- ReadmeTest: CompareAfterPrompt ByExpression -->
<p>èƒ½æ›¸ãã¯ã“ã“ã¾ã§ã«ã—ã¦ã€å®Ÿéš›ã«ã©ã®ã‚ˆã†ãªçµæœã«ãªã‚‹ã‹è¦‹ã¦ã¿ã¾ã—ã‚‡ã†<span class="ascii">:</span></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb17-1" title="1"><span class="op">&gt;</span> runWriter testDo</a>
<a class="sourceLine" id="cb17-2" title="2">(<span class="dv">17</span>,[<span class="st">&quot;Adding 3 to 4.&quot;</span>,<span class="st">&quot;Multiplying 5 with 2.&quot;</span>,<span class="st">&quot;Adding 7 to 10.&quot;</span>])</a></code></pre></div>
<p>ã¯ã„ã€<code>3 + 4</code>ã¨<code>5 * 2</code>ã®çµæœã‚’è¶³ã—ç®—ã—ãŸçµæœ<code>17</code>ã¨ã€<code>addLogging 3 4</code>ãƒ»<code>multLogging 5 2</code>ãƒ»<code>addLogging result1 result2</code>ãŒä¸€ç·’ã«è¿”ã—ã¦ã„ãŸæ–‡å­—åˆ—ã®ãƒªã‚¹ãƒˆ<code>[String]</code>ãŒã€æ›¸ã„ãŸé †ç•ªã©ãŠã‚Šã«çµåˆã•ã‚Œã¦è¿”ã£ã¦ãã¾ã—ãŸã€‚<code>Writer</code>ã¯<code>do</code>è¨˜æ³•ã®ä¸­ã«æ›¸ã„ãŸ<code>Writer</code>ã®å€¤<code>(a, w)</code>ã®ã†ã¡ã€<code>Monoid</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ã‚ã‚‹<code>w</code>ã‚’<code>&lt;&gt;</code>ã§éƒ½åº¦çµåˆã•ã›ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ãŒä¼ã‚ã£ãŸã§ã—ã‚‡ã†ã‹ï¼Ÿ</p>
<h2 id="writer-monadã®çµåˆå‰‡ã¨monoidã®çµåˆå‰‡"><span class="link-to-here-outer"><a href="#writer-monadã®çµåˆå‰‡ã¨monoidã®çµåˆå‰‡" title="writer-monadã®çµåˆå‰‡ã¨monoidã®çµåˆå‰‡"><span class="link-to-here">Link to<br />
here</span></a></span><code>Writer</code> <code>Monad</code>ã®çµåˆå‰‡ã¨<code>Monoid</code>ã®çµåˆå‰‡</h2>
<p>ã“ã“ã¾ã§ã§ã€<code>Writer</code> <code>Monad</code>ãŒã©ã®ã‚ˆã†ã«<code>&lt;&gt;</code>ã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã‹ã€ãã‚Œã«ã‚ˆã£ã¦<code>&gt;&gt;=</code>ã‚„<code>do</code>è¨˜æ³•ãŒã©ã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã£ã¦ã„ã‚‹ã®ã‹ã€å…·ä½“ä¾‹ã‚’ç¤ºã—ã¦èª¬æ˜ã„ãŸã—ã¾ã—ãŸã€‚ã“ã“ã‹ã‚‰ã¯ã€<code>Writer</code>ãŒ<code>Monoid</code>ã®<code>&lt;&gt;</code>ã®çµåˆå‰‡ã‚’ã©ã†åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€<code>Monad</code>ã¨ã—ã¦ã®<code>&gt;&gt;=</code>ã®çµåˆå‰‡ã‚’æº€ãŸã—ã¦ã„ã‚‹ã®ã‹ã‚’ç¤ºã—ã¾ã—ã‚‡ã†ã€‚é•·ã„ã®ã§ã€Œã‚ã‚“ã©ã„ï¼ã€ã¨ã„ã†æ–¹ã¯<a href="#associative-law-qed">ã“ã¡ã‚‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚¹ã‚­ãƒƒãƒ—</a>ã—ã¦ãã ã•ã„ã€‚</p>
<p>ãã®ãŸã‚ã«ã€<code>Monad</code>ã®çµåˆå‰‡ã«ãŠã‘ã‚‹<code>&gt;&gt;=</code>ã‚’ã€<code>Writer</code>ã®<code>&gt;&gt;=</code>ã¨ã—ã¦å±•é–‹ã—ã¦ã¿ã¾ã™ã€‚</p>
<!-- ReadmeTest: Ignore -->
<p><span class="ascii">(0)</span> <code>Monad</code>ã®çµåˆå‰‡<span class="ascii">:</span></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb18-1" title="1">m <span class="op">&gt;&gt;=</span> (\x <span class="ot">-&gt;</span> k x <span class="op">&gt;&gt;=</span> h) <span class="ot">=</span> (m <span class="op">&gt;&gt;=</span> (\x <span class="ot">-&gt;</span> k x)) <span class="op">&gt;&gt;=</span> h</a></code></pre></div>
<p><span class="ascii">(1)</span> <code>m</code>ã¯<code>&gt;&gt;=</code>ã®å·¦è¾ºãªã®ã§<code>Writer (a, w1)</code>ã«ç½®ãæ›ãˆã‚‹<span class="ascii">:</span></p>
<p><small>â€»ã“ã“ã‹ã‚‰ã¯ã€æ¯”è¼ƒã—ã‚„ã™ãã™ã‚‹ãŸã‚ã«ç­‰å¼<code>=</code>ã®å·¦è¾ºã¨å³è¾ºã‚’åˆ¥ã€…ã®è¡Œã«æ›¸ãã¾ã™ã€‚</small></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb19-1" title="1"><span class="kw">let</span> <span class="dt">Writer</span> (a, w1) <span class="ot">=</span> m <span class="kw">in</span> <span class="dt">Writer</span> (a, w1) <span class="op">&gt;&gt;=</span> (\x <span class="ot">-&gt;</span> k x <span class="op">&gt;&gt;=</span> h)</a>
<a class="sourceLine" id="cb19-2" title="2">  <span class="ot">=</span></a>
<a class="sourceLine" id="cb19-3" title="3"><span class="kw">let</span> <span class="dt">Writer</span> (a, w1) <span class="ot">=</span> m <span class="kw">in</span> <span class="dt">Writer</span> (a, w1) <span class="op">&gt;&gt;=</span> (\x <span class="ot">-&gt;</span> k x) <span class="op">&gt;&gt;=</span> h</a></code></pre></div>
<p><span class="ascii">(2)</span> ä¸€ã¤ç›®ã®<code>&gt;&gt;=</code>ã‚’<code>Writer</code>ã«ãŠã‘ã‚‹<code>&gt;&gt;=</code>ã®å®šç¾©ã§ç½®ãæ›ãˆã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb20-1" title="1"><span class="kw">let</span> <span class="dt">Writer</span> (a, w1) <span class="ot">=</span> m</a>
<a class="sourceLine" id="cb20-2" title="2">    <span class="dt">Writer</span> (b, w2) <span class="ot">=</span> (\x <span class="ot">-&gt;</span> k x <span class="op">&gt;&gt;=</span> h) a</a>
<a class="sourceLine" id="cb20-3" title="3"> <span class="kw">in</span> <span class="dt">Writer</span> (b, w1 <span class="op">&lt;&gt;</span> w2)</a>
<a class="sourceLine" id="cb20-4" title="4">  <span class="ot">=</span></a>
<a class="sourceLine" id="cb20-5" title="5"><span class="kw">let</span> <span class="dt">Writer</span> (a, w1) <span class="ot">=</span> m <span class="kw">in</span> <span class="dt">Writer</span> (a, w1) <span class="op">&gt;&gt;=</span> (\x <span class="ot">-&gt;</span> k x) <span class="op">&gt;&gt;=</span> h</a></code></pre></div>
<p><span class="ascii">(3)</span> ç­‰å¼<code>=</code>ã®å³è¾ºã«ãŠã‘ã‚‹ä¸€ã¤ç›®ã®<code>&gt;&gt;=</code>ã‚‚åŒæ§˜ã«å¤‰æ›ã™ã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb21-1" title="1"><span class="kw">let</span> <span class="dt">Writer</span> (a, w1) <span class="ot">=</span> m</a>
<a class="sourceLine" id="cb21-2" title="2">    <span class="dt">Writer</span> (b, w2) <span class="ot">=</span> (\x <span class="ot">-&gt;</span> k x <span class="op">&gt;&gt;=</span> h) a</a>
<a class="sourceLine" id="cb21-3" title="3"> <span class="kw">in</span> <span class="dt">Writer</span> (b, w1 <span class="op">&lt;&gt;</span> w2)</a>
<a class="sourceLine" id="cb21-4" title="4">  <span class="ot">=</span></a>
<a class="sourceLine" id="cb21-5" title="5"><span class="kw">let</span> <span class="dt">Writer</span> (a, w1) <span class="ot">=</span> m</a>
<a class="sourceLine" id="cb21-6" title="6">    <span class="dt">Writer</span> (b, w2) <span class="ot">=</span> (\x <span class="ot">-&gt;</span> k x) a</a>
<a class="sourceLine" id="cb21-7" title="7"> <span class="kw">in</span> <span class="dt">Writer</span> (b, w1 <span class="op">&lt;&gt;</span> w2) <span class="op">&gt;&gt;=</span> h</a></code></pre></div>
<p><span class="ascii">(4)</span> ç„¡åé–¢æ•°ã§ã‚ã‚‹<code>(\x -&gt; k x &gt;&gt;= h)</code>ã¨<code>(\x -&gt; k x)</code>ã«ã€<code>a</code>ã‚’é©ç”¨ã™ã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb22-1" title="1"><span class="kw">let</span> <span class="dt">Writer</span> (a, w1) <span class="ot">=</span> m</a>
<a class="sourceLine" id="cb22-2" title="2">    <span class="dt">Writer</span> (b, w2) <span class="ot">=</span> k a <span class="op">&gt;&gt;=</span> h</a>
<a class="sourceLine" id="cb22-3" title="3"> <span class="kw">in</span> <span class="dt">Writer</span> (b, w1 <span class="op">&lt;&gt;</span> w2)</a>
<a class="sourceLine" id="cb22-4" title="4">  <span class="ot">=</span></a>
<a class="sourceLine" id="cb22-5" title="5"><span class="kw">let</span> <span class="dt">Writer</span> (a, w1) <span class="ot">=</span> m</a>
<a class="sourceLine" id="cb22-6" title="6">    <span class="dt">Writer</span> (b, w2) <span class="ot">=</span> k a</a>
<a class="sourceLine" id="cb22-7" title="7"> <span class="kw">in</span> <span class="dt">Writer</span> (b, w1 <span class="op">&lt;&gt;</span> w2) <span class="op">&gt;&gt;=</span> h</a></code></pre></div>
<p><span class="ascii">(5)</span> ç­‰å¼<code>=</code>ã®å·¦è¾ºã«ãŠã‘ã‚‹äºŒã¤ç›®ã®<code>&gt;&gt;=</code>ã‚’<code>Writer</code>ã«ãŠã‘ã‚‹<code>&gt;&gt;=</code>ã®å®šç¾©ã§ç½®ãæ›ãˆã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb23-1" title="1"><span class="kw">let</span> <span class="dt">Writer</span> (a, w1) <span class="ot">=</span> m</a>
<a class="sourceLine" id="cb23-2" title="2">    <span class="dt">Writer</span> (b, w2) <span class="ot">=</span></a>
<a class="sourceLine" id="cb23-3" title="3">      <span class="kw">let</span> <span class="dt">Writer</span> (c, w3) <span class="ot">=</span> k a</a>
<a class="sourceLine" id="cb23-4" title="4">          <span class="dt">Writer</span> (d, w4) <span class="ot">=</span> h c</a>
<a class="sourceLine" id="cb23-5" title="5">       <span class="kw">in</span> <span class="dt">Writer</span> (d, w3 <span class="op">&lt;&gt;</span> w4)</a>
<a class="sourceLine" id="cb23-6" title="6"> <span class="kw">in</span> <span class="dt">Writer</span> (b, w1 <span class="op">&lt;&gt;</span> w2)</a>
<a class="sourceLine" id="cb23-7" title="7">  <span class="ot">=</span></a>
<a class="sourceLine" id="cb23-8" title="8"><span class="kw">let</span> <span class="dt">Writer</span> (a, w1) <span class="ot">=</span> m</a>
<a class="sourceLine" id="cb23-9" title="9">    <span class="dt">Writer</span> (b, w2) <span class="ot">=</span> k a</a>
<a class="sourceLine" id="cb23-10" title="10"> <span class="kw">in</span> <span class="dt">Writer</span> (b, w1 <span class="op">&lt;&gt;</span> w2)) <span class="op">&gt;&gt;=</span> h</a></code></pre></div>
<p><span class="ascii">(6)</span> ç­‰å¼<code>=</code>ã®å³è¾ºã«ãŠã‘ã‚‹äºŒã¤ç›®ã®<code>&gt;&gt;=</code>ã‚‚åŒæ§˜ã«å¤‰æ›ã™ã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb24-1" title="1"><span class="kw">let</span> <span class="dt">Writer</span> (a, w1) <span class="ot">=</span> m</a>
<a class="sourceLine" id="cb24-2" title="2">    <span class="dt">Writer</span> (b, w2) <span class="ot">=</span></a>
<a class="sourceLine" id="cb24-3" title="3">      <span class="kw">let</span> <span class="dt">Writer</span> (c, w3) <span class="ot">=</span> k a</a>
<a class="sourceLine" id="cb24-4" title="4">          <span class="dt">Writer</span> (d, w4) <span class="ot">=</span> h c</a>
<a class="sourceLine" id="cb24-5" title="5">       <span class="kw">in</span> <span class="dt">Writer</span> (d, w3 <span class="op">&lt;&gt;</span> w4)</a>
<a class="sourceLine" id="cb24-6" title="6"> <span class="kw">in</span> <span class="dt">Writer</span> (b, w1 <span class="op">&lt;&gt;</span> w2)</a>
<a class="sourceLine" id="cb24-7" title="7">  <span class="ot">=</span></a>
<a class="sourceLine" id="cb24-8" title="8"><span class="kw">let</span> <span class="dt">Writer</span> (a, w1) <span class="ot">=</span> m</a>
<a class="sourceLine" id="cb24-9" title="9">    <span class="dt">Writer</span> (b, w2) <span class="ot">=</span> k a</a>
<a class="sourceLine" id="cb24-10" title="10"> <span class="kw">in</span> <span class="kw">let</span> <span class="dt">Writer</span> (c, w3) <span class="ot">=</span> <span class="dt">Writer</span> (b, w1 <span class="op">&lt;&gt;</span> w2)</a>
<a class="sourceLine" id="cb24-11" title="11">        <span class="dt">Writer</span> (d, w4) <span class="ot">=</span> h c</a>
<a class="sourceLine" id="cb24-12" title="12">     <span class="kw">in</span> <span class="dt">Writer</span> (d, w3 <span class="op">&lt;&gt;</span> w4)</a></code></pre></div>
<p><span class="ascii">(7)</span> <code>Writer</code>ã¯ã€<code>Writer</code>ã¨<code>(a, w)</code>ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã ã‘ã§å®Ÿè³ªä½•ã‚‚ã—ã¦ã„ãªã„ã®ã§å‰Šé™¤ã™ã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb25-1" title="1"><span class="kw">let</span> (a, w1) <span class="ot">=</span> m</a>
<a class="sourceLine" id="cb25-2" title="2">    (b, w2) <span class="ot">=</span></a>
<a class="sourceLine" id="cb25-3" title="3">      <span class="kw">let</span> (c, w3) <span class="ot">=</span> k a</a>
<a class="sourceLine" id="cb25-4" title="4">          (d, w4) <span class="ot">=</span> h c</a>
<a class="sourceLine" id="cb25-5" title="5">       <span class="kw">in</span> (d, w3 <span class="op">&lt;&gt;</span> w4)</a>
<a class="sourceLine" id="cb25-6" title="6"> <span class="kw">in</span> (b, w1 <span class="op">&lt;&gt;</span> w2)</a>
<a class="sourceLine" id="cb25-7" title="7">  <span class="ot">=</span></a>
<a class="sourceLine" id="cb25-8" title="8"><span class="kw">let</span> (a, w1) <span class="ot">=</span> m</a>
<a class="sourceLine" id="cb25-9" title="9">    (b, w2) <span class="ot">=</span> k a</a>
<a class="sourceLine" id="cb25-10" title="10"> <span class="kw">in</span> <span class="kw">let</span> (c, w3) <span class="ot">=</span> (b, w1 <span class="op">&lt;&gt;</span> w2)</a>
<a class="sourceLine" id="cb25-11" title="11">        (d, w4) <span class="ot">=</span> h c</a>
<a class="sourceLine" id="cb25-12" title="12">     <span class="kw">in</span> (d, w3 <span class="op">&lt;&gt;</span> w4)</a></code></pre></div>
<p><span class="ascii">(7.5) (7)</span>ã®ç­‰å¼ã‚’ã‚ˆãè¦‹ã‚‹ã¨ã€<code>=</code>ã®å·¦è¾ºã«ãŠã„ã¦ã¯<code>(b, w2)</code>ã¨<code>(d, w3 &lt;&gt; w4)</code>ãŒã€<code>=</code>ã®å³è¾ºã«ãŠã„ã¦ã¯<code>(c, w3)</code>ã¨<code>(b, w1 &lt;&gt; w2)</code>ãŒç­‰ã—ã„ã€‚</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb26-1" title="1"><span class="kw">let</span> (a, w1) <span class="ot">=</span> m</a>
<a class="sourceLine" id="cb26-2" title="2">    (b, w2) <span class="ot">=</span> <span class="co">--           ã“ã“ã®(b, w2)ã¯ã€</span></a>
<a class="sourceLine" id="cb26-3" title="3">      <span class="kw">let</span> (c, w3) <span class="ot">=</span> k a</a>
<a class="sourceLine" id="cb26-4" title="4">          (d, w4) <span class="ot">=</span> h c</a>
<a class="sourceLine" id="cb26-5" title="5">       <span class="kw">in</span> (d, w3 <span class="op">&lt;&gt;</span> w4) <span class="co">-- ã“ã“ã®(d, w3 &lt;&gt; w4)ã‚’ä»£å…¥ã—ãŸã‚‚ã®ï¼</span></a>
<a class="sourceLine" id="cb26-6" title="6"> <span class="kw">in</span> (b, w1 <span class="op">&lt;&gt;</span> w2)</a>
<a class="sourceLine" id="cb26-7" title="7">  <span class="ot">=</span></a>
<a class="sourceLine" id="cb26-8" title="8"><span class="kw">let</span> (a, w1) <span class="ot">=</span> m</a>
<a class="sourceLine" id="cb26-9" title="9">    (b, w2) <span class="ot">=</span> k a</a>
<a class="sourceLine" id="cb26-10" title="10"> <span class="kw">in</span> <span class="kw">let</span> (c, w3) <span class="ot">=</span> (b, w1 <span class="op">&lt;&gt;</span> w2) <span class="co">-- ã“ã“ã§ä»£å…¥ã—ã¦ã„ã‚‹ï¼</span></a>
<a class="sourceLine" id="cb26-11" title="11">        (d, w4) <span class="ot">=</span> h c</a>
<a class="sourceLine" id="cb26-12" title="12">     <span class="kw">in</span> (d, w3 <span class="op">&lt;&gt;</span> w4)</a></code></pre></div>
<p><span class="ascii">(8) (7.5)</span>ã‹ã‚‰ã€<code>=</code>ã®å·¦è¾ºã§ã¯<code>b = d</code>ã§<code>w2 = w3 &lt;&gt; w4</code>ã€<code>=</code>ã®å³è¾ºã§ã¯<code>c = d</code>ã§<code>w3 = w1 &lt;&gt; w2</code>ã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ã€‚ãªã®ã§ãã‚Œãã‚Œç½®ãæ›ãˆã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb27-1" title="1"><span class="kw">let</span> (a, w1) <span class="ot">=</span> m</a>
<a class="sourceLine" id="cb27-2" title="2">    (c, w3) <span class="ot">=</span> k a</a>
<a class="sourceLine" id="cb27-3" title="3">    (d, w4) <span class="ot">=</span> h c</a>
<a class="sourceLine" id="cb27-4" title="4"> <span class="kw">in</span> (d, w1 <span class="op">&lt;&gt;</span> (w3 <span class="op">&lt;&gt;</span> w4))</a>
<a class="sourceLine" id="cb27-5" title="5">  <span class="ot">=</span></a>
<a class="sourceLine" id="cb27-6" title="6"><span class="kw">let</span> (a, w1) <span class="ot">=</span> m</a>
<a class="sourceLine" id="cb27-7" title="7">    (b, w2) <span class="ot">=</span> k a</a>
<a class="sourceLine" id="cb27-8" title="8">    (d, w4) <span class="ot">=</span> h b</a>
<a class="sourceLine" id="cb27-9" title="9"> <span class="kw">in</span> (d, (w1 <span class="op">&lt;&gt;</span> w2) <span class="op">&lt;&gt;</span> w4)</a></code></pre></div>
<div id="associative-law-qed">

</div>
<p><span class="ascii">(9)</span> <code>a</code>ï½<code>d</code>ãƒ»<code>w1</code>ï½<code>w4</code>ã®å¤‰æ•°åã‚’ã€ç™»å ´ã—ãŸé †ç•ªã«æŒ¯ã‚Šç›´ã™<span class="ascii">:</span></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb28-1" title="1"><span class="kw">let</span> (a, w1) <span class="ot">=</span> m</a>
<a class="sourceLine" id="cb28-2" title="2">    (b, w2) <span class="ot">=</span> k a</a>
<a class="sourceLine" id="cb28-3" title="3">    (c, w3) <span class="ot">=</span> h b</a>
<a class="sourceLine" id="cb28-4" title="4"> <span class="kw">in</span> (c, w1 <span class="op">&lt;&gt;</span> (w2 <span class="op">&lt;&gt;</span> w3))</a>
<a class="sourceLine" id="cb28-5" title="5">  <span class="ot">=</span></a>
<a class="sourceLine" id="cb28-6" title="6"><span class="kw">let</span> (a, w1) <span class="ot">=</span> m</a>
<a class="sourceLine" id="cb28-7" title="7">    (b, w2) <span class="ot">=</span> k a</a>
<a class="sourceLine" id="cb28-8" title="8">    (c, w3) <span class="ot">=</span> h b</a>
<a class="sourceLine" id="cb28-9" title="9"> <span class="kw">in</span> (c, (w1 <span class="op">&lt;&gt;</span> w2) <span class="op">&lt;&gt;</span> w3)</a></code></pre></div>
<p>ç­‰å¼<code>=</code>ã®å·¦è¾ºã¨å³è¾ºãŒãã£ãã‚Šãªå¼ã«ãªã‚Šã¾ã—ãŸã­ï¼</p>
<p>ã“ã“ã§ã€<code>Monoid</code>ã®çµåˆå‰‡ã‚’æ€ã„å‡ºã—ã¦ã¿ã¾ã—ã‚‡ã†<span class="ascii">:</span></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb29-1" title="1">x <span class="op">&lt;&gt;</span> (y <span class="op">&lt;&gt;</span> z) <span class="ot">=</span> (x <span class="op">&lt;&gt;</span> y) <span class="op">&lt;&gt;</span> z</a></code></pre></div>
<p>ãã†ã€<code>x &lt;&gt; y &lt;&gt; z</code>ãªã©ã¨æ›¸ã„ã¦<span class="ascii">3</span>ã¤ã®<code>Monoid</code>å‹ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®å€¤ã‚’<code>&lt;&gt;</code>ã§ãã£ã¤ã‘ã‚‹ã¨ãã¯ã€ã‚«ãƒƒã‚³ã§å›²ã£ã¦<code>(y &lt;&gt; z)</code>ã‚’å…ˆã«è¨ˆç®—ã—ã‚ˆã†ã¨ã€<code>(x &lt;&gt; y)</code>ã‚’å…ˆã«è¨ˆç®—ã—ã‚ˆã†ã¨ã€çµæœãŒå¤‰ã‚ã‚‰ãªã„ã€ã¨ã„ã†ã‚‚ã®ã§ã—ãŸï¼</p>
<p>ãã‚Œã‚’è¸ã¾ãˆã¦ã€<span class="ascii">(9)</span>ã®ç­‰å¼<code>=</code>ã®ä¸¡è¾ºã‚’ã‚ˆãè¦‹æ¯”ã¹ã¦ã¿ã¦ãã ã•ã„ã€‚ç•°ãªã£ã¦ã„ã‚‹ã®ã¯<code>w1 &lt;&gt; (w2 &lt;&gt; w3)</code>ã¨<code>(w1 &lt;&gt; w2) &lt;&gt; w3)</code>ã®ç®‡æ‰€ã ã‘ã§ã™ã­ï¼ã¤ã¾ã‚Šã€<code>Writer</code> <code>Monad</code>ã«ãŠã‘ã‚‹<code>&gt;&gt;=</code>ã®çµåˆå‰‡ã¯ã€<code>w1 &lt;&gt; (w2 &lt;&gt; w3)</code>ã¨<code>(w1 &lt;&gt; w2) &lt;&gt; w3)</code>ãŒç­‰ã—ã„ã‹ã‚‰ã€ã™ãªã‚ã¡<code>Monoid</code>ã«ãŠã‘ã‚‹<code>&lt;&gt;</code>ã®çµåˆå‰‡ãŒæˆã‚Šç«‹ã¤ã‹ã‚‰ã“ãæˆç«‹ã™ã‚‹ã®ã§ã™ã€‚ã“ã‚ŒãŒã¾ã•ã—ãã€Œ<code>Monoid</code>ã¨<code>Writer</code>ã®åˆ‡ã£ã¦ã‚‚åˆ‡ã‚Šé›¢ã›ãªã„é–¢ä¿‚ã€ãªã®ã§ã™ï¼</p>
<h1 id="é–¢ä¿‚ã‚’å£Šã—ã¦ã¿ã‚‹"><span class="link-to-here-outer"><a href="#é–¢ä¿‚ã‚’å£Šã—ã¦ã¿ã‚‹" title="é–¢ä¿‚ã‚’å£Šã—ã¦ã¿ã‚‹"><span class="link-to-here">Link to<br />
here</span></a></span>é–¢ä¿‚ã‚’å£Šã—ã¦ã¿ã‚‹</h1>
<p>ãã‚Œã§ã¯ã„ã‚ˆã„ã‚ˆã€ã€Œ<code>Monoid</code>ã¨<code>Writer</code>ã®åˆ‡ã£ã¦ã‚‚åˆ‡ã‚Šé›¢ã›ãªã„é–¢ä¿‚ã€ã‚’åˆ©ç”¨ã—ã¦ã€<code>Monad</code>å‰‡ã‚’ç ´ã£ã¦ã¿ã¾ã—ã‚‡ã†ğŸ’£</p>
<h2 id="ã¨monoidã®çµåˆå‰‡"><span class="link-to-here-outer"><a href="#ã¨monoidã®çµåˆå‰‡" title="ã¨monoidã®çµåˆå‰‡"><span class="link-to-here">Link to<br />
here</span></a></span><code>&lt;&gt;</code>ã¨<code>Monoid</code>ã®çµåˆå‰‡</h2>
<p>å‰è¿°ã®ã¨ãŠã‚Šã€<code>Writer</code>ã«ãŠã‘ã‚‹<code>&gt;&gt;=</code>ãŒçµåˆå‰‡ã‚’æº€ãŸã™ã®ã¯ã€<code>Writer</code>ãŒãƒ©ãƒƒãƒ—ã—ã¦ã„ã‚‹<code>Monoid</code>ãªå€¤ã®<code>&lt;&gt;</code>ãŒçµåˆå‰‡ã‚’æº€ãŸã—ã¦ã“ãã€ãªã®ã§ã—ãŸã€‚ã“ã‚Œã¯è¨€ã„æ›ãˆã‚Œã°ã€ãã®ã€ãƒ©ãƒƒãƒ—ã—ã¦ã„ã‚‹<code>Monoid</code>ãªå€¤ã®<code>&lt;&gt;</code>ãŒçµåˆå‰‡ã‚’ç ´ã‚Œã°ã€è‡ªç„¶ã«<code>Writer</code>ã®<code>&gt;&gt;=</code>ã‚‚çµåˆå‰‡ã‚’ç ´ã‚‹ã¯ãšã§ã™ã€‚ã“ã®æ–¹æ³•ã¯ã€çµåˆå‰‡ã‚’æº€ãŸã•ãªã„<code>&gt;&gt;=</code>ã£ã½ã„å‡¦ç†ã‚’ã‚¼ãƒ­ã‹ã‚‰æ¢ã™ã‚ˆã‚Šé¥ã‹ã«ç°¡å˜ã§ã™ã€‚<code>&gt;&gt;=</code>ã®ã‚ˆã†ãª<code>m a -&gt; (a -&gt; m b) -&gt; m b</code>ã¨ã„ã†ã‚„ã‚„ã“ã—ã„å‹ã®é–¢æ•°ã‚ˆã‚Šã‚‚ã€<code>&lt;&gt;</code>ã®ã‚ˆã†ãª<code>a -&gt; a -&gt; a</code>ã¨ã„ã†å‹ã®é–¢æ•°ã®æ–¹ãŒãšã£ã¨èº«è¿‘ã§ã™ã—ã­ï¼</p>
<p><code>Monoid</code>ã®<code>&lt;&gt;</code>ã®ã‚ˆã†ãª<code>a -&gt; a -&gt; a</code>ã¨ã„ã†å‹ã®é–¢æ•°ã§ã€çµåˆå‰‡ã‚’æº€ãŸã•ãªã„å‡¦ç† â€” ã¨ã„ãˆã°ã€å¼•ãç®—<code>-</code>ã‚„å‰²ã‚Šç®—<code>/</code>ã‚’æ€ã„æµ®ã‹ã¹ã‚‹æ–¹ãŒå¤šã„ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚ã¨ã€ã„ã†ã‚ã‘ã§<a href="#monoid-examples"><code>Monoid</code>ã®ä¾‹</a>ã§ç´¹ä»‹ã—ãŸ<code>Sum</code>ã‚„<code>Product</code>ã®ã‚ˆã†ã«ã€æ•°å€¤ã«å¯¾ã™ã‚‹å¼•ãç®—ã‚’è¡¨ã™<code>newtype</code>ã€<code>Difference</code>ã‚’å®šç¾©ã—ã¦ã¿ã¾ã—ã‚‡ã†<span class="ascii">:</span></p>
<!-- ReadmeTest: AppendAsIs -->
<div class="sourceCode" id="cb30"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb30-1" title="1"><span class="kw">newtype</span> <span class="dt">Difference</span> a <span class="ot">=</span> <span class="dt">Difference</span> {<span class="ot"> getDifference ::</span> a }</a></code></pre></div>
<p>ãã‚Œã‹ã‚‰ã€<code>Difference</code>ã‚’<small>ï¼ˆå®Ÿéš›ã«ã¯é–“é•ã„ã§ã™ãŒï¼‰</small><code>Monoid</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã—ã¾ã™ã€‚æœ€è¿‘ã®<span class="ascii">GHC</span>ã§ã¯ã€<code>Monoid</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å®šç¾©ã™ã‚‹å‰ã«<code>Semigroup</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã”æ³¨æ„ãã ã•ã„ã€‚èª¬æ˜ã—ã‚„ã™ã•ã®ãŸã‚ã«æ•¢ãˆã¦ã“ã‚Œã¾ã§è§¦ã‚Œã¦ãã¾ã›ã‚“ã§ã—ãŸãŒã€ã“ã‚Œã¾ã§ä½•åº¦ã‚‚ä½¿ã£ãŸ<code>&lt;&gt;</code>ã¯å®Ÿéš›ã®ã¨ã“ã‚<code>Monoid</code>ã®é–¢æ•°ã§ã¯ãªã<code>Semigroup</code>ã®é–¢æ•°ãªã‚“ã§ã™ã­ã€‚<code>Monoid</code>ã¯ã€Œ<code>&lt;&gt;</code>ã§ï¼ˆçµåˆå‰‡ã‚’å‚™ãˆãŸï¼‰äºŒé …æ¼”ç®—ãŒã§ãã‚‹ã ã‘ã§ãªãã€<code>mempty</code>ã¨ã„ã†å˜ä½å…ƒã‚‚ã‚ã‚‹ã€ã¨ã„ã†æ€§è³ªã®å‹ã‚¯ãƒ©ã‚¹ãªã®ã§ã€ã€Œå˜ã«ã€<code>&lt;&gt;</code>ã§ï¼ˆçµåˆå‰‡ã‚’å‚™ãˆãŸï¼‰äºŒé …æ¼”ç®—ãŒã§ãã‚‹ã€ã ã‘ã®å‹ã‚¯ãƒ©ã‚¹ã‚‚æ¬²ã—ã„ï¼ã€ã¨ã„ã†ãƒ‹ãƒ¼ã‚ºã‹ã‚‰ã€<code>Monoid</code>ã®<code>&lt;&gt;</code>ã¯<code>Semigroup</code>ã®é–¢æ•°ã¨ãªã‚Šã€<code>Monoid</code>ã¯<code>Semigroup</code>ã®ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã¨ã„ã†é–¢ä¿‚ã«å¤‰ã‚ã£ãŸã®ã§ã—ãŸã€‚</p>
<p>ä½•ã¯ã¨ã‚‚ã‚ã‚Œã€<code>Difference</code>ã‚’<code>Semigroup</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã—ã¾ã—ã‚‡ã†<span class="ascii">:</span></p>
<div class="sourceCode" id="cb31"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb31-1" title="1"><span class="kw">instance</span> <span class="dt">Num</span> a <span class="ot">=&gt;</span> <span class="dt">Semigroup</span> (<span class="dt">Difference</span> a) <span class="kw">where</span></a>
<a class="sourceLine" id="cb31-2" title="2">  <span class="dt">Difference</span> a <span class="op">&lt;&gt;</span> <span class="dt">Difference</span> b <span class="ot">=</span> <span class="dt">Difference</span> (a <span class="op">-</span> b)</a></code></pre></div>
<p>ã¯ã„ã€å˜ã«ä¸¡è¾ºã‚’<code>-</code>ã§å¼•ãç®—ã™ã‚‹ã ã‘ã§ã™ã­ã€‚</p>
<p>ä»Šåº¦ã“ã<code>Difference</code>ã‚’<code>Monoid</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã—ã¾ã™ã€‚æœ¬è¨˜äº‹ã§ã¯<code>mempty</code>ã‚’ç›´æ¥ä½¿ã†ã“ã¨ã¯ãªã„ã®ã§ä½•ã§ã‚‚ã„ã„ã¯ãšã§ã™ãŒã€ã¨ã‚Šã‚ãˆãš<code>Sum</code>ã¨åŒæ§˜ã«<code>0</code>ã¨ã„ã†ã“ã¨ã«ã—ã¦ãŠãã¾ã™<span class="ascii">:</span></p>
<div class="sourceCode" id="cb32"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb32-1" title="1"><span class="kw">instance</span> <span class="dt">Num</span> a <span class="ot">=&gt;</span> <span class="dt">Monoid</span> (<span class="dt">Difference</span> a) <span class="kw">where</span></a>
<a class="sourceLine" id="cb32-2" title="2">  <span class="fu">mempty</span> <span class="ot">=</span> <span class="dt">Difference</span> <span class="dv">0</span></a></code></pre></div>
<p>ğŸ˜ˆã“ã‚Œã§<code>&lt;&gt;</code>ãŒçµåˆå‰‡ã‚’æº€ãŸã•ãªã„ãŠã‹ã—ãª<code>Monoid</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã€<code>Difference</code>ãŒã§ãã¾ã—ãŸï¼æ—©é€Ÿè©¦ã—ã¦çµåˆå‰‡ã‚’ç ´ã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†<span class="ascii">:</span></p>
<!-- ReadmeTest: CompareAfterPrompt ByExpression -->
<div class="sourceCode" id="cb33"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb33-1" title="1"><span class="co">-- ã“ã¡ã‚‰ã¯ 1 - (2 - 3) ã¨åŒã˜</span></a>
<a class="sourceLine" id="cb33-2" title="2"><span class="op">&gt;</span> getDifference <span class="op">$</span> <span class="dt">Difference</span> <span class="dv">1</span> <span class="op">&lt;&gt;</span> (<span class="dt">Difference</span> <span class="dv">2</span> <span class="op">&lt;&gt;</span> <span class="dt">Difference</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb33-3" title="3"><span class="dv">2</span></a>
<a class="sourceLine" id="cb33-4" title="4"></a>
<a class="sourceLine" id="cb33-5" title="5"><span class="co">-- ã“ã¡ã‚‰ã¯ (1 - 2) - 3 ã¨åŒã˜ãªã®ã§...</span></a>
<a class="sourceLine" id="cb33-6" title="6"><span class="op">&gt;</span> getDifference <span class="op">$</span> (<span class="dt">Difference</span> <span class="dv">1</span> <span class="op">&lt;&gt;</span> <span class="dt">Difference</span> <span class="dv">2</span>) <span class="op">&lt;&gt;</span> <span class="dt">Difference</span> <span class="dv">3</span></a>
<a class="sourceLine" id="cb33-7" title="7"><span class="op">-</span><span class="dv">4</span> <span class="co">-- &lt;- å½“ç„¶ 1 - (2 - 3) ã¨ã¯ç•°ãªã‚‹çµæœã«ï¼</span></a></code></pre></div>
<p>ãƒãƒƒãƒãƒªç ´ã‚Œã¦ã¾ã™ã­ï¼ã“ã®ã‚ˆã†ã«<code>&lt;&gt;</code>ã«ãŠã‘ã‚‹çµåˆå‰‡ã¯ã€å¼•ãç®—ãªã©ãŠãªã˜ã¿ã®æ¼”ç®—ã§ã€ç°¡å˜ã«ç ´ã‚‹ã“ã¨ãŒã§ãã¾ã™ğŸ’ª</p>
<h2 id="ã¨monadã®çµåˆå‰‡"><span class="link-to-here-outer"><a href="#ã¨monadã®çµåˆå‰‡" title="ã¨monadã®çµåˆå‰‡"><span class="link-to-here">Link to<br />
here</span></a></span><code>&gt;&gt;=</code>ã¨<code>Monad</code>ã®çµåˆå‰‡</h2>
<p><code>&lt;&gt;</code>ã«ãŠã‘ã‚‹çµåˆå‰‡ã‚’ç ´ã‚‹ã“ã¨ãŒã§ããŸã¨è¨€ã†ã“ã¨ã¯ã€<code>Writer</code>ã®<code>&gt;&gt;=</code>ã«ã‚ˆã‚‹çµåˆå‰‡ã‚‚ã€ã‚‚ã¯ã‚„ç ´ã‚ŒãŸã‚‚åŒç„¶ã§ã™ã€‚å…ˆã»ã©å®šç¾©ã—ãŸ<code>Difference</code>å‹ã‚’ä½¿ãˆã°ã€<code>&gt;&gt;=</code>ã¯é€”ç«¯ã«çµåˆå‰‡ã‚’æº€ãŸã•ãªããªã‚‹ã§ã—ã‚‡ã†ã€‚</p>
<p>ä¾‹ã‚’ç¤ºã™å‰ã«ã€<code>Writer</code>ã‚’ä½¿ã†éš›ã—ã°ã—ã°ç”¨ã„ã‚‰ã‚Œã‚‹ã€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ¼é–¢æ•°ã‚’å®šç¾©ã—ã¦ãŠãã¾ã™ã€‚å®Ÿè·µã§<code>Writer</code>ã‚’ä½¿ã„ãŸããªã£ãŸã¨ãã«ã‚‚å¤§å¤‰ä¾¿åˆ©ãªã®ã§ã€æ˜¯éè¦šãˆã¦ãŠã„ã¦ãã ã•ã„<span class="ascii">:</span></p>
<!-- ReadmeTest: AppendAsIs -->
<div class="sourceCode" id="cb34"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb34-1" title="1"><span class="ot">tell ::</span> <span class="dt">Monoid</span> w <span class="ot">=&gt;</span> w <span class="ot">-&gt;</span> <span class="dt">Writer</span> w ()</a>
<a class="sourceLine" id="cb34-2" title="2">tell w <span class="ot">=</span> <span class="dt">Writer</span> ((), w)</a></code></pre></div>
<p>ã“ã®<code>tell</code>é–¢æ•°ã¯ã€å—ã‘å–ã£ãŸ<code>Monoid</code>ãªå€¤ã‚’ãã®ã¾ã¾ã€Œãƒ­ã‚°ã¨ã—ã¦æ›¸ãè¾¼ã‚€ã€é–¢æ•°ã§ã™ã€‚çµæœã¨ã—ã¦è¿”ã™å€¤ã¯ãŸã ã®ãƒ¦ãƒ‹ãƒƒãƒˆ<code>()</code>ãªã®ã§ã€æ°—ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ã€‚<code>tell</code>ã®ã¿ã‚’ä½¿ã£ã¦<code>Writer</code>ã‚’çµ„ã¿ç«‹ã¦ã‚Œã°ã€ã€Œãƒ­ã‚°ã¨ã—ã¦æ›¸ãè¾¼ã‚€ã€å€¤ã®ã¿ã«é›†ä¸­ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã‹ã‚‰ç´¹ä»‹ã™ã‚‹ä¾‹ã§ã‚‚ã‚„ã¯ã‚Šé–¢å¿ƒãŒã‚ã‚‹ã®ã¯ã€Œãƒ­ã‚°ã¨ã—ã¦æ›¸ãè¾¼ã‚€ã€å€¤ã ã‘ãªã®ã§ã€ã“ã“ã§<code>tell</code>ã‚’å®šç¾©ã—ã¾ã—ãŸã€‚</p>
<p>ãã‚Œã§ã¯<code>tell</code>ã‚’ä½¿ã£ã¦ã€<code>Writer</code>ã®<code>&gt;&gt;=</code>ã«ãŠã‘ã‚‹çµåˆå‰‡ã‚‚ç ´ã£ã¦ã¿ã¾ã—ã‚‡ã†<span class="ascii">:</span></p>
<!-- ReadmeTest: CompareAfterPrompt ByExpression -->
<div class="sourceCode" id="cb35"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb35-1" title="1"><span class="co">-- ã“ã¡ã‚‰ã¯ Difference 1 &lt;&gt; (Difference 2 &lt;&gt; Difference 3) ã¨åŒã˜</span></a>
<a class="sourceLine" id="cb35-2" title="2"><span class="op">&gt;</span> getDifference <span class="op">.</span> <span class="fu">snd</span> <span class="op">.</span> runWriter <span class="op">$</span> tell (<span class="dt">Difference</span> <span class="dv">1</span>) <span class="op">&gt;&gt;=</span> (\_ <span class="ot">-&gt;</span> tell (<span class="dt">Difference</span> <span class="dv">2</span>) <span class="op">&gt;&gt;=</span> (\_ <span class="ot">-&gt;</span> tell (<span class="dt">Difference</span> <span class="dv">3</span>)))</a>
<a class="sourceLine" id="cb35-3" title="3"><span class="dv">2</span></a>
<a class="sourceLine" id="cb35-4" title="4"></a>
<a class="sourceLine" id="cb35-5" title="5"><span class="co">-- ã“ã¡ã‚‰ã¯ (Difference 1 &lt;&gt; Difference 2) &lt;&gt; Difference 3 ã¨åŒã˜ãªã®ã§...</span></a>
<a class="sourceLine" id="cb35-6" title="6"><span class="op">&gt;</span> getDifference <span class="op">.</span> <span class="fu">snd</span> <span class="op">.</span> runWriter <span class="op">$</span> (tell (<span class="dt">Difference</span> <span class="dv">1</span>) <span class="op">&gt;&gt;=</span> (\_ <span class="ot">-&gt;</span> tell (<span class="dt">Difference</span> <span class="dv">2</span>))) <span class="op">&gt;&gt;=</span> (\_ <span class="ot">-&gt;</span> tell (<span class="dt">Difference</span> <span class="dv">3</span>))</a>
<a class="sourceLine" id="cb35-7" title="7"><span class="op">-</span><span class="dv">4</span> <span class="co">-- &lt;- å½“ç„¶ 1 - (2 - 3) ã¨ã¯ç•°ãªã‚‹çµæœã«ï¼</span></a></code></pre></div>
<p>äºˆæƒ³ã©ãŠã‚Šä¸€ã¤ç›®ã®<code>Writer</code>ã¨äºŒã¤ç›®ã®<code>Writer</code>ã¨ã§ç•°ãªã‚‹çµæœã¨ãªã‚Šã¾ã—ãŸã€‚<code>1 - (2 - 3)</code>ã¨<code>(1 - 2) - 3</code>ã‚’<code>Writer</code>ã‚’ä½¿ã£ã¦é å›ã—ã«è¨€ã„æ›ãˆã¦ã„ã‚‹ã ã‘ãªã®ã§ã€å½“ç„¶ã¨è¨€ãˆã°å½“ç„¶ã§ã™ã€‚</p>
<p>ã—ã‹ã—<code>tell (Difference 1) &gt;&gt;= (\_ -&gt; tell (Difference 2) &gt;&gt;= \_ -&gt; tell (Difference 3))</code>ãªã©ã®<code>Writer</code>å‹ã®å¼ãŒ<code>Monad</code>ã®çµåˆå‰‡<code>m &gt;&gt;= (\x -&gt; k x &gt;&gt;= h) = (m &gt;&gt;= (\x -&gt; k x)) &gt;&gt;= h</code>ã«ã©ã†å¯¾å¿œã™ã‚‹ã®ã‹ã€ã¡ã‚‡ã£ã¨åˆ†ã‹ã‚Šã¥ã‚‰ã„ã§ã™ã‹ã­ï¼Ÿ<small>ï¼ˆå¼ã‚‚é•·ã„ã—ï¼‰</small>ä¸€ã¤ãšã¤æ³¨é‡ˆã‚’åŠ ãˆã¾ã™<span class="ascii">:</span></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb36-1" title="1"><span class="co">-- ã“ã¡ã‚‰ã¯ m &gt;&gt;= (\x -&gt; k x &gt;&gt;= h) = (m &gt;&gt;= (\x -&gt; k x)) &gt;&gt;= h ã®å‰åŠã€</span></a>
<a class="sourceLine" id="cb36-2" title="2"><span class="co">--   m &gt;&gt;= (\x -&gt; k x &gt;&gt;= h) ã«ç›¸å½“ã™ã‚‹</span></a>
<a class="sourceLine" id="cb36-3" title="3"><span class="op">&gt;</span>  tell (<span class="dt">Difference</span> <span class="dv">1</span>) <span class="op">&gt;&gt;=</span> (\_ <span class="ot">-&gt;</span> tell (<span class="dt">Difference</span> <span class="dv">2</span>) <span class="op">&gt;&gt;=</span> (\_ <span class="ot">-&gt;</span> tell (<span class="dt">Difference</span> <span class="dv">3</span>)))</a>
<a class="sourceLine" id="cb36-4" title="4"><span class="co">-- ^^^^^^^^^^^^^^^^^^^       ^    ^^^^^^^^^^^^^^^^^^^     ^^^^^^^^^^^^^^^^^^^^^^^^^^^</span></a>
<a class="sourceLine" id="cb36-5" title="5"><span class="co">--          m                x             k                             h</span></a>
<a class="sourceLine" id="cb36-6" title="6"><span class="co">--</span></a>
<a class="sourceLine" id="cb36-7" title="7"></a>
<a class="sourceLine" id="cb36-8" title="8"><span class="co">-- ã“ã¡ã‚‰ã¯ m &gt;&gt;= (\x -&gt; k x &gt;&gt;= h) = (m &gt;&gt;= (\x -&gt; k x)) &gt;&gt;= h ã®å¾ŒåŠã€</span></a>
<a class="sourceLine" id="cb36-9" title="9"><span class="co">--   (m &gt;&gt;= (\x -&gt; k x)) &gt;&gt;= h ã«ç›¸å½“ã™ã‚‹</span></a>
<a class="sourceLine" id="cb36-10" title="10"><span class="op">&gt;</span>  (tell (<span class="dt">Difference</span> <span class="dv">1</span>) <span class="op">&gt;&gt;=</span> (\_ <span class="ot">-&gt;</span> tell (<span class="dt">Difference</span> <span class="dv">2</span>))) <span class="op">&gt;&gt;=</span> (\_ <span class="ot">-&gt;</span> tell (<span class="dt">Difference</span> <span class="dv">3</span>))</a>
<a class="sourceLine" id="cb36-11" title="11"><span class="co">--  ^^^^^^^^^^^^^^^^^^^       ^    ^^^^^^^^^^^^^^^^^^^       ^^^^^^^^^^^^^^^^^^^^^^^^^^^</span></a>
<a class="sourceLine" id="cb36-12" title="12"><span class="co">--           m                x             k                             h</span></a></code></pre></div>
<p>ãƒ©ãƒ ãƒ€å¼ã®å¼•æ•°<code>x</code>ã¯å®Ÿéš›ã«ã¯ä½¿ã‚ã‚Œã¦ã„ãªã„ç‚¹ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚ã“ã‚Œã§ã‚‚<code>const</code>ã‚’ä½¿ã£ã¦<code>\x -&gt; const (tell (Difference 2)) x</code>ã¨æ›¸ãæ›ãˆã‚Œã°ã€<code>const (tell (Difference 2))</code>ãŒ<code>k</code>ã«å³å¯†ã«å¯¾å¿œã™ã‚‹ã®ã§ã€ä¸Šè¨˜ã®äºŒçµ„ã®å¼ã¯<code>&gt;&gt;=</code>ã®çµåˆå‰‡ã‚’ç ´ã‚‹ãƒšã‚¢ã ã¨è¨€ãˆã¾ã™ã€‚</p>
<h2 id="doè¨˜æ³•ã¨monadã®çµåˆå‰‡"><span class="link-to-here-outer"><a href="#doè¨˜æ³•ã¨monadã®çµåˆå‰‡" title="doè¨˜æ³•ã¨monadã®çµåˆå‰‡"><span class="link-to-here">Link to<br />
here</span></a></span><code>do</code>è¨˜æ³•ã¨<code>Monad</code>ã®çµåˆå‰‡</h2>
<p>å‰ã®ç¯€ã§ã¯ã€<code>Monoid</code>ã®çµåˆå‰‡ã‚’å®ˆã£ã¦ã„ãªã„å€¤ã‚’ãƒ©ãƒƒãƒ—ã—ã¦ã„ã‚‹<code>Writer</code>ã‚’ä½œã‚‹ã“ã¨ã§ã€<code>&gt;&gt;=</code>ã®çµåˆå‰‡ã‚’ç ´ã‚‹ä¾‹ã‚’ç°¡å˜ã«ä½œã‚Šå‡ºã›ã‚‹ã“ã¨ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚ã“ã“ã§ã¯æœ¬è¨˜äº‹ã®æœ€å¾Œã¨ã—ã¦ã€<code>&gt;&gt;=</code>ã®çµåˆå‰‡ã‚’ç ´ã£ãŸçµæœã€<code>do</code>è¨˜æ³•ãŒã„ã‹ã«ç›´æ„Ÿã«åã™ã‚‹æŒ™å‹•ã¨ãªã‚‹ã‹ç´¹ä»‹ã—ã¦ã€<code>&gt;&gt;=</code>ã®çµåˆå‰‡ã‚’å®ˆã‚‹ã“ã¨ãŒç§ãŸã¡ã«ã©ã®ã‚ˆã†ãªãƒ¡ãƒªãƒƒãƒˆã‚’ã‚‚ãŸã‚‰ã™ã®ã‹è§£èª¬ã—ã¾ã™ã€‚</p>
<p>ä¾‹ã¨ã—ã¦ã€å…ˆã»ã©<code>&gt;&gt;=</code>ã®çµåˆå‰‡ã‚’ç ´ã‚‹ã®ã«ä½¿ã£ãŸ<code>1 - 2 - 3</code>ã‚’å†åˆ©ç”¨ã—ã¾ã—ã‚‡ã†ã€‚<code>Difference</code>ã‚’ãƒ©ãƒƒãƒ—ã—ãŸ<code>Writer</code>ã§<code>1 - 2 - 3</code>ã‚’è¨ˆç®—ã•ã›ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªå¼ã«ãªã‚Šã¾ã™<span class="ascii">:</span></p>
<!-- ReadmeTest: ValidateAsExpression -->
<div class="sourceCode" id="cb37"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb37-1" title="1">tell (<span class="dt">Difference</span> <span class="dv">1</span>) <span class="op">&gt;&gt;=</span> (\_ <span class="ot">-&gt;</span> tell (<span class="dt">Difference</span> <span class="dv">2</span>)) <span class="op">&gt;&gt;=</span> (\_ <span class="ot">-&gt;</span> tell (<span class="dt">Difference</span> <span class="dv">3</span>))</a></code></pre></div>
<p>ã“ã‚Œã‚’<code>do</code>è¨˜æ³•ã«å¤‰æ›ã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™<span class="ascii">:</span></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb38-1" title="1"><span class="kw">do</span></a>
<a class="sourceLine" id="cb38-2" title="2">  tell (<span class="dt">Difference</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb38-3" title="3">  tell (<span class="dt">Difference</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb38-4" title="4">  tell (<span class="dt">Difference</span> <span class="dv">3</span>)</a></code></pre></div>
<p><code>do</code>è¨˜æ³•ã«ãŠã‘ã‚‹å„è¡Œã®é–“ã«<code>&gt;&gt;=</code>ãŒéš ã‚ŒãŸã“ã¨ã§ã€ã™ã£ãã‚Šã—ã¾ã—ãŸã­ï¼</p>
<p>ã“ã®çŠ¶æ…‹ã‹ã‚‰ã€<code>do</code>è¨˜æ³•ã‚’ä½¿ã£ã¦<code>1 - (2 - 3)</code>ã¨<code>(1 - 2) - 3</code>ã‚’è¡¨ã™<code>Writer</code>ã®å¼ã«ã™ã‚‹ã«ã¯ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã¾ã™<span class="ascii">:</span></p>
<!-- ReadmeTest: AppendAsIs -->
<div class="sourceCode" id="cb39"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb39-1" title="1"><span class="co">-- ã“ã¡ã‚‰ãŒ 1 - (2 - 3) ã‚’è¡¨ã™</span></a>
<a class="sourceLine" id="cb39-2" title="2">do_1minus&#39;2minus3&#39; <span class="ot">=</span></a>
<a class="sourceLine" id="cb39-3" title="3">  <span class="kw">do</span></a>
<a class="sourceLine" id="cb39-4" title="4">    tell (<span class="dt">Difference</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb39-5" title="5">    <span class="kw">do</span></a>
<a class="sourceLine" id="cb39-6" title="6">      tell (<span class="dt">Difference</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb39-7" title="7">      tell (<span class="dt">Difference</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb39-8" title="8"></a>
<a class="sourceLine" id="cb39-9" title="9"><span class="co">-- ã“ã¡ã‚‰ãŒ (1 - 2) - 3 ã‚’è¡¨ã™</span></a>
<a class="sourceLine" id="cb39-10" title="10">do_&#39;1minus2&#39;minus3 <span class="ot">=</span></a>
<a class="sourceLine" id="cb39-11" title="11">  <span class="kw">do</span></a>
<a class="sourceLine" id="cb39-12" title="12">    <span class="kw">do</span></a>
<a class="sourceLine" id="cb39-13" title="13">      tell (<span class="dt">Difference</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb39-14" title="14">      tell (<span class="dt">Difference</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb39-15" title="15">    tell (<span class="dt">Difference</span> <span class="dv">3</span>)</a></code></pre></div>
<p>ã‚³ãƒ¡ãƒ³ãƒˆã«æ›¸ã„ãŸã¨ãŠã‚Šã€<code>do_1minus'2minus3'</code>ãŒ<code>1 - (2 - 3)</code>ã€<code>do_'1minus2'minus3</code>ãŒ<code>(1 - 2) - 3</code>ã¨åŒç­‰ãª<code>Writer</code>ã§ã™ã€‚<span class="ascii">Haskell</span>ã¯ã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆã‚’å¤‰æ•°ã®åå‰ã«å«ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆã§ã‚«ãƒƒã‚³ã‚’è¡¨ã™ã“ã¨ã«ã—ã¾ã—ãŸ<small>ï¼ˆã¾ã•ã‹ã“ã‚“ãªã¨ã“ã‚ã§å½¹ã«ç«‹ã¤ã¨ã¯ã­ï¼ï¼‰</small>ã€‚</p>
<p>ä¸Šè¨˜ã®äºŒã¤ã®å¼ã§ã¯ã€ã‚«ãƒƒã‚³<code>()</code>ã§å›²ã†ä»£ã‚ã‚Šã«ã‚‚ã†ä¸€ã¤ã®<code>do</code>è¨˜æ³•ã«åã‚ã‚‹ã“ã¨ã§ã€<code>do</code>è¨˜æ³•ã«ãŠã‘ã‚‹å„è¡Œã‚’å®Ÿè¡Œã™ã‚‹é †ç•ªã‚’ã„ã˜ã£ã¦ã„ã¾ã™ã€‚</p>
<p>æœ¬å½“ã«ã“ã‚Œã§<code>1 - (2 - 3)</code>ã‚„<code>(1 - 2) - 3</code>ã¨åŒç­‰ãªå¼ã«ãªã£ã¦ã„ã‚‹ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿè©¦ã—ã«<code>runWriter</code>ã—ã¦çµæœã‚’ç¢ºã‹ã‚ã¦ã¿ã¾ã—ã‚‡ã†<span class="ascii">:</span></p>
<!-- ReadmeTest: CompareAfterPrompt ByExpression -->
<div class="sourceCode" id="cb40"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb40-1" title="1"><span class="co">-- ã“ã¡ã‚‰ãŒ 1 - (2 - 3) ã‚’è¡¨ã™</span></a>
<a class="sourceLine" id="cb40-2" title="2"><span class="op">&gt;</span> getDifference <span class="op">.</span> <span class="fu">snd</span> <span class="op">$</span> runWriter do_1minus&#39;2minus3&#39;</a>
<a class="sourceLine" id="cb40-3" title="3"><span class="dv">2</span></a>
<a class="sourceLine" id="cb40-4" title="4"></a>
<a class="sourceLine" id="cb40-5" title="5"><span class="co">-- ã“ã¡ã‚‰ãŒ (1 - 2) - 3 ã‚’è¡¨ã™</span></a>
<a class="sourceLine" id="cb40-6" title="6"><span class="op">&gt;</span> getDifference <span class="op">.</span> <span class="fu">snd</span> <span class="op">$</span> runWriter do_&#39;1minus2&#39;minus3</a>
<a class="sourceLine" id="cb40-7" title="7"><span class="op">-</span><span class="dv">4</span></a></code></pre></div>
<p>ãƒãƒƒãƒãƒªğŸ‘Œæƒ³å®šã©ãŠã‚Šã€<code>do_1minus'2minus3'</code>ãŒ<code>1 - (2 - 3) = 2</code>ã‚’è¨ˆç®—ã—ã€<code>do_'1minus2'minus3</code>ãŒ<code>(1 - 2) - 3 = -4</code>ã‚’è¨ˆç®—ã—ã¦ã„ã¾ã™ã­ï¼</p>
<p>ã•ã¦ã“ã‚Œã¾ã§ã§ã€<code>Writer</code> <code>Monad</code>ã¯<code>Monoid</code>ã®çµåˆå‰‡ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§<code>&gt;&gt;=</code>ã®çµåˆå‰‡ã‚’æº€ãŸã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºã—ã€ãƒ©ãƒƒãƒ—ã—ã¦ã„ã‚‹<code>Monoid</code>ãªå€¤ãŒçµåˆå‰‡ã‚’æº€ãŸã—ã¦ã„ãªã‘ã‚Œã°ã€å¿…ç„¶çš„ã«<code>Writer</code>ã‚‚çµåˆå‰‡ã‚’ç ´ã£ã¦ã—ã¾ã†ã“ã¨ã‚’ã€<code>&gt;&gt;=</code>ã‚„<code>do</code>è¨˜æ³•ã‚’ä½¿ã£ã¦å…·ä½“çš„ã«ç¤ºã—ã¾ã—ãŸã€‚ãã‚Œã§ã¯ä»ŠæŒ™ã’ãŸã€<code>do</code>è¨˜æ³•ã§çµåˆå‰‡ã‚’ç ´ã£ãŸä¾‹ã¯ã€ä¸€ä½“ä½•ã‚’ç¤ºå”†ã—ã¦ã„ã‚‹ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿæ™®é€šã«<span class="ascii">Haskell</span>ã§ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ã¦ã€å‰è¿°ã®ã‚ˆã†ãªæ›¸ãæ›ãˆã€ã™ãªã‚ã¡ã€</p>
<!-- ReadmeTest: ValidateAsExpression -->
<div class="sourceCode" id="cb41"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb41-1" title="1"><span class="kw">do</span></a>
<a class="sourceLine" id="cb41-2" title="2">  tell (<span class="dt">Difference</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb41-3" title="3">  <span class="kw">do</span></a>
<a class="sourceLine" id="cb41-4" title="4">    tell (<span class="dt">Difference</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb41-5" title="5">    tell (<span class="dt">Difference</span> <span class="dv">3</span>)</a></code></pre></div>
<p>ã‹ã‚‰ã€</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb42-1" title="1"><span class="kw">do</span></a>
<a class="sourceLine" id="cb42-2" title="2">  <span class="kw">do</span></a>
<a class="sourceLine" id="cb42-3" title="3">    tell (<span class="dt">Difference</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb42-4" title="4">    tell (<span class="dt">Difference</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb42-5" title="5">  tell (<span class="dt">Difference</span> <span class="dv">3</span>)</a></code></pre></div>
<p>ã¸ã®æ›¸ãæ›ãˆ<small>ï¼ˆã‚ã‚‹ã„ã¯ãã®é€†ï¼‰</small>ã¯ã€ä¸€è¦‹ã™ã‚‹ã¨ãã‚“ãªæ©Ÿä¼šãªã„ã‚ˆã†ã«æ€ãˆã¾ã™ã€‚ã—ã‹ã—ã“ã‚ŒãŒã€<code>do</code>è¨˜æ³•ã‚’ã‚«ãƒƒã‚³ä»£ã‚ã‚Šã«ä½¿ã†ã¨ã„ã†å¤‰ãªæ–¹æ³•ã§ã¯ãªãã€æ¬¡ã®ã‚ˆã†ã«å¤‰æ•°ã«ä»£å…¥ã™ã‚‹ã“ã¨ã§åˆ‡ã‚Šå‡ºã—ã¦ã„ãŸå ´åˆã€ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ï¼Ÿ</p>
<!-- ReadmeTest: AppendAsIs -->
<div class="sourceCode" id="cb43"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb43-1" title="1">someSingleAction <span class="ot">=</span> tell (<span class="dt">Difference</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb43-2" title="2"></a>
<a class="sourceLine" id="cb43-3" title="3">someSequence <span class="ot">=</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb43-4" title="4">  tell (<span class="dt">Difference</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb43-5" title="5">  tell (<span class="dt">Difference</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb43-6" title="6"></a>
<a class="sourceLine" id="cb43-7" title="7">someCompositeAction <span class="ot">=</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb43-8" title="8">  someSingleAction</a>
<a class="sourceLine" id="cb43-9" title="9">  someSequence</a></code></pre></div>
<p>ä¸Šè¨˜ğŸ‘†ã®ã‚ˆã†ãªä¸‰ã¤ã®<code>Writer</code>ã®å€¤ã‚’ã€ä¸‹è¨˜ğŸ‘‡ã®ä¸‰ã¤ã®å€¤ã«ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹å ´åˆã§ã™ã€‚</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb44-1" title="1">refactoredSequence <span class="ot">=</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb44-2" title="2">  tell (<span class="dt">Difference</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb44-3" title="3">  tell (<span class="dt">Difference</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb44-4" title="4"></a>
<a class="sourceLine" id="cb44-5" title="5">splitOutSingleAction <span class="ot">=</span> tell (<span class="dt">Difference</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb44-6" title="6"></a>
<a class="sourceLine" id="cb44-7" title="7">refactoredCompositeAction <span class="ot">=</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb44-8" title="8">  refactoredSequence</a>
<a class="sourceLine" id="cb44-9" title="9">  splitOutSingleAction</a></code></pre></div>
<p>ã‚ã‚‹ã„ã¯ã€ãŸã£ãŸ<span class="ascii">3</span>è¡Œã—ã‹ã‚ã‚Šã¾ã›ã‚“ã—ã€ä¸€ã¤ã®å€¤ã«çµ±åˆã™ã‚‹æ–¹ãŒã„ã„ã‹ã‚‚çŸ¥ã‚Œã¾ã›ã‚“<span class="ascii">:</span></p>
<div class="sourceCode" id="cb45"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb45-1" title="1">flattenedAction <span class="ot">=</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb45-2" title="2">  tell (<span class="dt">Difference</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb45-3" title="3">  tell (<span class="dt">Difference</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb45-4" title="4">  tell (<span class="dt">Difference</span> <span class="dv">3</span>)</a></code></pre></div>
<p>ã“ã‚Œã‚‰ã®æ›¸ãæ›ãˆã¯ã€ã„ãšã‚Œã‚‚<code>do</code>è¨˜æ³•ãŒå†…éƒ¨ã§ä½¿ã£ã¦ã„ã‚‹<code>&gt;&gt;=</code>ã®çµåˆå‰‡ã‚’å‰æã¨ã™ã‚Œã°ã€å¯èƒ½ã§ã‚ã£ã¦ã—ã‹ã‚‹ã¹ãã§ã™ã€‚<code>do</code>è¨˜æ³•ã¯ã€é©å½“ã«<code>Monad</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®å€¤ï¼ˆã€Œã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã€ãªã©ã¨ã‚‚å‘¼ã°ã‚Œã¾ã™ï¼‰ã‚’ä¸Šã‹ã‚‰ä¸‹ã¾ã§åˆ—æŒ™ã™ã‚Œã°ã€è‡ªå‹•ã§<code>&gt;&gt;=</code>ã‚’ä½¿ã£ã¦ã¤ãªã’ã¦ãã‚Œã‚‹ã€ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚ãªã®ã§ã€é©å½“ã«ä¸¦ã¹ãŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒã©ã†ã„ã†å½¢ã«çµåˆã•ã‚Œã‚‹ã®ã‹æ°—ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã¯ã€å®‰å¿ƒã—ã¦ä½¿ãˆã¾ã›ã‚“ã€‚ä¸€æ–¹ã€ä¸Šè¨˜ã®<span class="ascii">3</span>çµ„ã®å¼ã¯ã€<code>Writer Difference</code>ã€ã™ãªã‚ã¡å¼•ãç®—ã‚’è¡¨ã™ã€Œå½<code>Monoid</code>ã€ã‚’ãƒ©ãƒƒãƒ—ã—ã¦ã„ã‚‹ãŒæ•…ã«ã€<code>&gt;&gt;=</code>ã®çµåˆå‰‡ã‚’æº€ãŸã—ã¦ãŠã‚Šã¾ã›ã‚“ã€‚çµæœã€<code>do</code>è¨˜æ³•ã«å¤‰ãˆãŸã¨ãã«ä¸¦ã¹ãŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã©ã“ã§åˆ‡ã‚Šå‡ºã™ã‹ã§ã€çµæœãŒå¤‰ã‚ã£ã¦ã—ã¾ã„ã¾ã™ã€‚ã“ã‚Œã§ã¯å®‰å¿ƒã—ã¦åˆ—æŒ™ã§ãã¾ã›ã‚“ï¼</p>
<!-- ReadmeTest: CompareAfterPrompt ByExpression -->
<!--
```haskell
> getDifference . snd $ runWriter someCompositeAction
2
> getDifference . snd $ runWriter refactoredCompositeAction
-4
> getDifference . snd $ runWriter flattenedAction
2
```
-->
<h1 id="ã¾ã¨ã‚"><span class="link-to-here-outer"><a href="#ã¾ã¨ã‚" title="ã¾ã¨ã‚"><span class="link-to-here">Link to<br />
here</span></a></span>ã¾ã¨ã‚</h1>
<p>ä»¥ä¸Šã§ã™ã€‚ã“ã‚Œã¾ã§ã§ã€<code>Monad</code>å‰‡ã®ã†ã¡çµåˆå‰‡ãŒãªãœé‡è¦ãªã®ã‹ã€çµåˆå‰‡ã‚’å®Ÿéš›ã«ç ´ã£ã¦ã¿ã‚‹ã“ã¨ã‚’é€šã˜ã¦èª¬æ˜ã—ã¾ã—ãŸã€‚<code>Monad</code>ã¨åŒæ§˜ã«çµåˆå‰‡ã‚’æŒã£ãŸ<code>Monoid</code>ã¯ã€<code>Monad</code>ä»¥ä¸Šã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’è¦‹ã¤ã‘ã‚‹ã®ãŒç°¡å˜ã§ã€ãªãŠã‹ã¤ã€ä¾‹ãˆã°å¼•ãç®—ã®ã‚ˆã†ã«ã€ŒäºŒé …æ¼”ç®—ã ã‘ã©çµåˆå‰‡ã‚’æº€ãŸã—ã¦ã„ãªã„ã€å‡¦ç†ã‚’è¦‹ã¤ã‘ã‚‹ã®ãŒç°¡å˜ã§ã™ã€‚æœ¬è¨˜äº‹ã§ã¯<code>Monoid</code>ã®ãã†ã—ãŸæ€§è³ªã¨ã€<code>Monoid</code>ã®æ€§è³ªã§ã‚‚ã£ã¦<code>Monad</code>å‰‡ã‚’æº€ãŸã—ã¦ã„ã‚‹<code>Writer</code> <code>Monad</code>ã«æ³¨ç›®ã™ã‚‹ã“ã¨ã§ã€ç°¡å˜ã«<code>Monad</code>å‰‡ã‚’ç ´ã‚‹ä¾‹ã‚’æç¤ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ãã‚Œã‹ã‚‰ã€<code>Monad</code>ã®çµåˆå‰‡ã‚’å®Ÿéš›ã«ç ´ã£ãŸä¾‹ã‚’ä½¿ã£ã¦ã€<code>Monad</code>ã®çµåˆå‰‡ãŒ<code>do</code>è¨˜æ³•ã‚’è‡ªç„¶ã«æ›¸ã‘ã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«å¿…è¦ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã—ãŸã€‚ã“ã‚Œã‚‰ã®å®Ÿä¾‹ã‹ã‚‰ä¸»å¼µã—ãŸã„ã“ã¨ã‚’ä¸€èˆ¬åŒ–ã™ã‚‹ã¨ã€æ¬¡ã®ã¨ãŠã‚Šã§ã™<span class="ascii">:</span></p>
<ul>
<li><code>do</code>è¨˜æ³•ã®å„è¡Œã®é–“ã§ã€å€¤ã‚’è¿”ã™ã¤ã„ã§ã«ä½•ã‹ã‚’è¡Œã†ã®ãŒ<code>Monad</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹</li>
<li><code>do</code>è¨˜æ³•ã®å„è¡Œã®é–“ã§ã€å€¤ã‚’è¿”ã™ã¤ã„ã§ã«è¡Œã£ã¦ã„ã‚‹å‡¦ç†ãŒçµåˆå‰‡ã‚’æº€ãŸã™å‹ãŒã€<code>Monad</code>å‰‡ã‚’æº€ãŸã™ã¨è¨€ãˆã‚‹</li>
<li><code>Monad</code>å‰‡ã‚’å®ˆã‚‰ãªã„å‹ã‚’<code>do</code>è¨˜æ³•ã§ä½¿ã†ã¨ã€<code>do</code>è¨˜æ³•ã®çµåˆã‚’æ°—ã«ã—ã¦æ›¸ã‹ãªã‘ã‚Œã°ãªã‚‰ãªããªã‚‹</li>
</ul>
<p>ãã‚Œã§ã¯ã€<span class="ascii">2021</span>å¹´ã‚‚ğŸ<span class="ascii">Happy Haskell Hacking with Monad</span>ğŸ<span class="ascii">!</span></p>
<section class="footnotes">
<hr />
<ol>
<li id="fn1"><p>ä¸€å¿œã€<code>Monad</code>ã«ã¤ã„ã¦ã¯ãã®ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã§ã‚ã‚‹<code>Applicative</code>ã®å‰‡ã€<code>Functor</code>ã®å‰‡ãŒã‚ã‚Šã¾ã™ãŒã€<code>Monad</code>å‰‡ã‚’æº€ãŸã—ã¦ã„ã‚Œã°ãã‚Œã‚‰ã¯è‡ªå‹•çš„ã«æº€ãŸã›ã‚‹ã®ã§ã€ã“ã“ã§ã¯çœç•¥ã—ã¾ã™ã€‚<a href="#fnref1" class="footnote-back">â†©</a></p></li>
<li id="fn2"><p>æ®‹å¿µãªãŒã‚‰å®Ÿéš›ã®ã¨ã“ã‚ã€<code>Float</code>å‹ãƒ»<code>Double</code>å‹ãªã©ã®æµ®å‹•å°æ•°ç‚¹æ•°ã«å¯¾ã™ã‚‹<code>Sum</code>ã‚„<code>Product</code>ã¯çµåˆå‰‡ã‚’æº€ãŸã•ãªã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ä»–ã®å¤šãã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã«ã‚‚ã‚ã‚‹ã€æµ®å‹•å°æ•°ç‚¹æ•°ã®æ‚©ã¾ã—ã„å•é¡Œã§ã™ã€‚è©³ã—ãã¯ã€Œæƒ…å ±è½ã¡ã€ã§æ¤œç´¢ã—ã¦ã¿ã¦ãã ã•ã„ã€‚<a href="#fnref2" class="footnote-back">â†©</a></p></li>
<li id="fn3"><p>ã“ã“ã§ã®å®šç¾©ã¯ã€å®Ÿéš›ã«ä½¿ã‚ã‚Œã¦ã„ã‚‹<a href="http://hackage.haskell.org/package/transformers"><span class="ascii">transformers</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸</a>ã®<code>Writer</code>ã®å®šç¾©ã¨ã¯å¤§ããç•°ãªã£ã¦ã„ã‚‹ã®ã§ã”æ³¨æ„ãã ã•ã„ã€‚å®Ÿéš›ã®<code>Writer</code>ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä¸Šã®éƒ½åˆã‚„<span class="ascii">Monad Transformer</span>ã¨ã®å…¼ã­åˆã„ã§ã€å¹¾åˆ†å·¥å¤«ã•ã‚ŒãŸå®šç¾©ã¨ãªã£ã¦ã„ã¾ã™ã€‚<a href="#fnref3" class="footnote-back">â†©</a></p></li>
</ol>
</section>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
                <i class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="margin-right: 5px;"></i>
                <a href="/posts/about_admins.html" lang="ja">æ—¥æœ¬Haskellãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—ç®¡ç†å§”å“¡ä¼šï¼ˆHaskell-jp Adminsï¼‰è¨­ç«‹ã®ãŠçŸ¥ã‚‰ã›</a>
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/2020/antenna-with-gh-actions.html" style="margin-left: auto;" lang="ja">Haskell Antennaã®CI/CDã‚’GitHub Actionsã«ç§»è¡Œã™ã‚‹</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>
<entry>
    <title>Haskell Antennaã®CI/CDã‚’GitHub Actionsã«ç§»è¡Œã™ã‚‹</title>
    <link href="https://haskell.jp/blog/posts/2020/antenna-with-gh-actions.html" />
    <id>https://haskell.jp/blog/posts/2020/antenna-with-gh-actions.html</id>
    <published>2020-12-12T00:00:00Z</published>
    <updated>2020-12-12T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <hr />
<p><span class="ascii">Haskell-jp</span>ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä¸€ã¤ã¨ã—ã¦<a href="https://haskell.jp/antenna/"><span class="ascii">Haskell Antenna</span></a>ã¨ã„ã†<span class="ascii">Web</span>ãƒšãƒ¼ã‚¸ã®é–‹ç™ºãƒ»é‹ç”¨ã‚’ã—ã¦ãŠã‚Šã¾ã™ã€‚</p>
<p><img src="../../img/2020/antenna-with-gh-actions/antenna-page.jpg" style="width: 100%;"></p>
<p>ãƒã‚¤ãƒŠãƒªã®ãƒ“ãƒ«ãƒ‰ã‚„<span class="ascii">Docker</span>ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã«<span class="ascii">TravisCI</span>ã‚’ã€ãƒã‚¤ãƒŠãƒªã‚’å®Ÿè¡Œã—ã¦ãƒšãƒ¼ã‚¸ã®æ›´æ–°ã‚’ã™ã‚‹ã®ã«<span class="ascii">DroneCI</span>ã‚’ä½¿ã£ã¦ã„ã¾ã—ãŸã€‚ ã—ã‹ã—ã€é•·ã‚‰ãæ”¾ç½®ã—ã¦ã„ã¦ã¡ã‚ƒã‚“ã¨å‹•ä½œã—ã¦ã„ã‚‹ã‹æ€ªã—ã‹ã£ãŸã®ã§ã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚’ã™ã‚‹ã¤ã„ã§ã«æ˜¨ä»Šã¯ã‚„ã‚Šï¼ˆè¦å‡ºå…¸ï¼‰ã®<a href="https://github.com/haskell-jp/antenna/pull/26"><span class="ascii">GitHub Actions</span>ã«ã“ã‚Œã‚‰ã‚’ç§»è¡Œã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸ</a>ã€‚</p>
<p><img src="../../img/2020/antenna-with-gh-actions/pr.jpg" style="width: 100%;"></p>
<div id="table-of-contents-outer">
<div id="table-of-contents">
<div class="table-of-contents-title">
Contents
</div>
<ul>
<li><a href="#stackãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰" title="stackãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰"><span class="ascii">Stack</span>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰</a></li>
<li><a href="#dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨ãƒ—ãƒƒã‚·ãƒ¥" title="dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨ãƒ—ãƒƒã‚·ãƒ¥"><span class="ascii">Docker</span>ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨ãƒ—ãƒƒã‚·ãƒ¥</a></li>
<li><a href="#antennaãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿè¡Œ" title="antennaãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿè¡Œ"><span class="ascii">antenna</span>ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿè¡Œ</a></li>
</ul>
</div>
</div>
<h3 id="stackãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰"><span class="link-to-here-outer"><a href="#stackãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰" title="stackãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Stack</span>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰</h3>
<p>ã¾ãšã¯ãƒã‚¤ãƒŠãƒªã®ãƒ“ãƒ«ãƒ‰ã‚’è¡Œã†ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚ <span class="ascii">Haskell Antenna</span>ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯<span class="ascii">Haskell Stack</span>ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ã®ã§ã€<code>stack build</code>ãŒå®Ÿè¡Œã§ãã‚Œã°è‰¯ã„ã§ã™ã€‚</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">name:</span><span class="at"> Build Application</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="fu">on:</span></a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="fu">pull_request:</span><span class="at"> </span><span class="ch">null</span></a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="fu">push:</span></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="fu">branches:</span></a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="kw">-</span> master</a>
<a class="sourceLine" id="cb1-7" title="7"><span class="fu">jobs:</span></a>
<a class="sourceLine" id="cb1-8" title="8">  <span class="fu">build:</span></a>
<a class="sourceLine" id="cb1-9" title="9">    <span class="fu">name:</span><span class="at"> ${{ matrix.os }}</span></a>
<a class="sourceLine" id="cb1-10" title="10">    <span class="fu">runs-on:</span><span class="at"> ubuntu-18.04</span></a>
<a class="sourceLine" id="cb1-11" title="11">    <span class="fu">strategy:</span></a>
<a class="sourceLine" id="cb1-12" title="12">      <span class="fu">fail-fast:</span><span class="at"> </span><span class="ch">false</span></a>
<a class="sourceLine" id="cb1-13" title="13">      <span class="fu">matrix:</span></a>
<a class="sourceLine" id="cb1-14" title="14">        <span class="fu">ghc:</span><span class="at"> </span><span class="kw">[</span><span class="st">&quot;8.8.4&quot;</span><span class="kw">]</span></a>
<a class="sourceLine" id="cb1-15" title="15">    <span class="fu">steps:</span></a>
<a class="sourceLine" id="cb1-16" title="16">    <span class="kw">-</span> <span class="fu">uses:</span><span class="at"> actions/checkout@v2</span></a>
<a class="sourceLine" id="cb1-17" title="17">    <span class="kw">-</span> <span class="fu">name:</span><span class="at"> Cache .stack</span></a>
<a class="sourceLine" id="cb1-18" title="18">      <span class="fu">id:</span><span class="at"> cache-stack</span></a>
<a class="sourceLine" id="cb1-19" title="19">      <span class="fu">uses:</span><span class="at"> actions/cache@v2</span></a>
<a class="sourceLine" id="cb1-20" title="20">      <span class="fu">with:</span></a>
<a class="sourceLine" id="cb1-21" title="21">        <span class="fu">path:</span><span class="at"> ~/.stack</span></a>
<a class="sourceLine" id="cb1-22" title="22">        <span class="fu">key:</span><span class="at"> </span><span class="st">&quot;\</span></a>
<a class="sourceLine" id="cb1-23" title="23"><span class="st">          ${{ runner.os }}-stack\</span></a>
<a class="sourceLine" id="cb1-24" title="24"><span class="st">          -${{ hashFiles(&#39;**/stack.yaml.lock&#39;) }}\</span></a>
<a class="sourceLine" id="cb1-25" title="25"><span class="st">          -${{ hashFiles(&#39;**/package.yaml&#39;) }}\</span></a>
<a class="sourceLine" id="cb1-26" title="26"><span class="st">        &quot;</span></a>
<a class="sourceLine" id="cb1-27" title="27"><span class="fu">        restore-keys:</span> <span class="st">|</span></a>
<a class="sourceLine" id="cb1-28" title="28">          ${{ runner.os }}-stack-</a>
<a class="sourceLine" id="cb1-29" title="29">    <span class="kw">-</span> <span class="fu">uses:</span><span class="at"> haskell/actions/setup@main</span></a>
<a class="sourceLine" id="cb1-30" title="30">      <span class="fu">name:</span><span class="at"> Setup Haskell</span></a>
<a class="sourceLine" id="cb1-31" title="31">      <span class="fu">with:</span></a>
<a class="sourceLine" id="cb1-32" title="32">        <span class="fu">ghc-version:</span><span class="at"> ${{ matrix.ghc }}</span></a>
<a class="sourceLine" id="cb1-33" title="33">        <span class="fu">enable-stack:</span><span class="at"> </span><span class="ch">true</span></a>
<a class="sourceLine" id="cb1-34" title="34">        <span class="fu">stack-version:</span><span class="at"> </span><span class="st">&#39;latest&#39;</span></a>
<a class="sourceLine" id="cb1-35" title="35">    <span class="kw">-</span> <span class="fu">name:</span><span class="at"> Install dependencies</span></a>
<a class="sourceLine" id="cb1-36" title="36">      <span class="fu">run:</span><span class="at"> stack --system-ghc test --only-dependencies</span></a>
<a class="sourceLine" id="cb1-37" title="37">    <span class="kw">-</span> <span class="fu">name:</span><span class="at"> Build and Test</span></a>
<a class="sourceLine" id="cb1-38" title="38">      <span class="fu">run:</span><span class="at"> stack --system-ghc test --copy-bins --local-bin-path=./bin</span></a></code></pre></div>
<p>ã“ã‚Œã¯ã€<span class="ascii">PR</span>ãŒä½œã‚‰ã‚ŒãŸã¨ãã‚„<span class="ascii">master</span>ãŒãƒ—ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸã¨ãã«å®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚</p>
<p><span class="ascii">GitHub Actions</span>ã§<span class="ascii">Haskell</span>ã‚„<span class="ascii">Haskell Stack</span>ã‚’ä½¿ã†ã«ã¯ã€<del>å…¬å¼ãŒæä¾›ã—ã¦ã„ã‚‹<a href="https://github.com/actions/setup-haskell"><span class="ascii">actions/setup-haskell</span></a></del> <a href="https://github.com/haskell/actions/tree/main/setup"><span class="ascii">haskell/actions/setup</span></a> ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚ å…ƒã€…ã¯<span class="ascii">actions/haskell-setup</span>ãŒã‚ã‚Šã¾ã—ãŸãŒã€ã©ã†ã‚„ã‚‰<a href="https://github.com/actions/setup-haskell/pull/56">ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã™ã‚‹äººãŒã„ãªããªã£ãŸã£ã½ã</a>ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã•ã‚Œã¦ã—ã¾ã„ã¾ã—ãŸã€‚ ã“ã®è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã‚‹æ™‚ç‚¹ã§ã¯ç§»è¡Œã—ãŸã°ã‹ã‚Šã§ã¡ã‚ƒã‚“ã¨ã‚¿ã‚°ãŒåˆ‡ã‚‰ã‚Œã¦ã„ãªã„ãŸã‚ã€<span class="ascii">main</span>ãƒ–ãƒ©ãƒ³ãƒã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚ ã¡ãªã¿ã«ã€<span class="ascii">Stack</span>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®<span class="ascii">GHC</span>ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’<span class="ascii">haskell/actions/setup</span>ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã€<code>stack --system-ghc</code>ã‚’ã™ã‚‹ã“ã¨ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µã‚¤ã‚ºã‚’æ¸›ã‚‰ã™ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>ã“ã‚Œã¾ãŸä½™è«‡ã§ã™ãŒã€<span class="ascii">actions/setup-haskell</span>ã®æ–¹ã‚’ä½¿ã£ã¦ã„ã¦æ¬¡ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹å ´åˆã¯<span class="ascii">actions/setup-haskell</span>ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¤ã„ã§ã™ï¼ˆ<a href="https://github.com/actions/setup-haskell/issues/44">æœ€æ–°ã§ã¯ä¿®æ­£æ¸ˆã¿ã§ã™</a>ï¼‰ã€‚<span class="ascii">haskell/actions/setup</span>ã®æ–¹ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ã€‚</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="ex">Installing</span> ghc version 8.8.4</a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="ex">Error</span>: Unable to process command <span class="st">&#39;::add-path::/opt/ghc/8.8.4/bin&#39;</span> successfully.</a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="ex">Error</span>: The <span class="kw">`</span><span class="ex">add-path</span><span class="kw">`</span> command is disabled. Please upgrade to using Environment Files or opt into unsecure command execution by setting the <span class="kw">`</span><span class="ex">ACTIONS_ALLOW_UNSECURE_COMMANDS</span><span class="kw">`</span> environment variable to <span class="kw">`</span><span class="fu">true</span><span class="kw">`</span>. For more information see: https://github.blog/changelog/2020-10-01-github-actions-deprecating-set-env-and-add-path-commands/</a></code></pre></div>
<h3 id="dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨ãƒ—ãƒƒã‚·ãƒ¥"><span class="link-to-here-outer"><a href="#dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨ãƒ—ãƒƒã‚·ãƒ¥" title="dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨ãƒ—ãƒƒã‚·ãƒ¥"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Docker</span>ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨ãƒ—ãƒƒã‚·ãƒ¥</h3>
<p><a href="https://hub.docker.com/r/haskelljp/antenna/"><span class="ascii">antenna</span>ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯<span class="ascii">Docker</span>ã‚¤ãƒ¡ãƒ¼ã‚¸ã«ã—ã¦<span class="ascii">Docker Hub</span>ã«ç½®ã„ã¦ã‚ã‚Šã¾ã™</a>ï¼ˆã“ã‚Œã‚‚<span class="ascii">GitHub Container Registry</span>ã«ç§»è¡Œã—ãŸã„ã§ã™ã­ï¼‰ã€‚ ãªã®ã§ã€<span class="ascii">master</span>ã®æ›´æ–°ã«åˆã‚ã›ã¦<span class="ascii">Docker</span>ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹ã‚¸ãƒ§ãƒ–ã‚’è¨­å®šã—ã¾ã™ã€‚ <span class="ascii">Docker</span>ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨ãƒ—ãƒƒã‚·ãƒ¥ã«ã¯<a href="https://github.com/docker/build-push-action"><span class="ascii">docker/build-push-action</span></a>ã‚’ä½¿ã„ã¾ã™ã€‚</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb3-1" title="1"><span class="co"># ã•ã£ãã¨åŒã˜è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã™</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="fu">name:</span><span class="at"> Build Application</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="fu">on:</span></a>
<a class="sourceLine" id="cb3-4" title="4">  <span class="fu">pull_request:</span><span class="at"> </span><span class="ch">null</span></a>
<a class="sourceLine" id="cb3-5" title="5">  <span class="fu">push:</span></a>
<a class="sourceLine" id="cb3-6" title="6">    <span class="fu">branches:</span></a>
<a class="sourceLine" id="cb3-7" title="7">    <span class="kw">-</span> master</a>
<a class="sourceLine" id="cb3-8" title="8"><span class="fu">jobs:</span></a>
<a class="sourceLine" id="cb3-9" title="9">  <span class="fu">build:</span></a>
<a class="sourceLine" id="cb3-10" title="10">    <span class="fu">name:</span><span class="at"> ${{ matrix.os }}</span></a>
<a class="sourceLine" id="cb3-11" title="11">    <span class="fu">runs-on:</span><span class="at"> ubuntu-18.04</span></a>
<a class="sourceLine" id="cb3-12" title="12">    <span class="fu">strategy:</span></a>
<a class="sourceLine" id="cb3-13" title="13">      <span class="fu">fail-fast:</span><span class="at"> </span><span class="ch">false</span></a>
<a class="sourceLine" id="cb3-14" title="14">      <span class="fu">matrix:</span></a>
<a class="sourceLine" id="cb3-15" title="15">        <span class="fu">ghc:</span><span class="at"> </span><span class="kw">[</span><span class="st">&quot;8.8.4&quot;</span><span class="kw">]</span></a>
<a class="sourceLine" id="cb3-16" title="16">    <span class="fu">steps:</span></a>
<a class="sourceLine" id="cb3-17" title="17">    ... <span class="co"># å‰²æ„›</span></a>
<a class="sourceLine" id="cb3-18" title="18">    <span class="kw">-</span> <span class="fu">name:</span><span class="at"> Build and Test</span></a>
<a class="sourceLine" id="cb3-19" title="19">      <span class="fu">run:</span><span class="at"> stack --system-ghc test --copy-bins --local-bin-path=./bin</span></a>
<a class="sourceLine" id="cb3-20" title="20">    <span class="co"># Build and Push Docker Image</span></a>
<a class="sourceLine" id="cb3-21" title="21">    <span class="kw">-</span> <span class="fu">name:</span><span class="at"> Setup QEMU</span></a>
<a class="sourceLine" id="cb3-22" title="22">      <span class="fu">uses:</span><span class="at"> docker/setup-qemu-action@master</span></a>
<a class="sourceLine" id="cb3-23" title="23">      <span class="fu">with:</span></a>
<a class="sourceLine" id="cb3-24" title="24">        <span class="fu">platforms:</span><span class="at"> all</span></a>
<a class="sourceLine" id="cb3-25" title="25">    <span class="kw">-</span> <span class="fu">name:</span><span class="at"> Setup Docker Buildx</span></a>
<a class="sourceLine" id="cb3-26" title="26">      <span class="fu">id:</span><span class="at"> buildx</span></a>
<a class="sourceLine" id="cb3-27" title="27">      <span class="fu">uses:</span><span class="at"> docker/setup-buildx-action@master</span></a>
<a class="sourceLine" id="cb3-28" title="28">      <span class="fu">with:</span></a>
<a class="sourceLine" id="cb3-29" title="29">        <span class="fu">version:</span><span class="at"> latest</span></a>
<a class="sourceLine" id="cb3-30" title="30">    <span class="kw">-</span> <span class="fu">name:</span><span class="at"> Login to DockerHub</span></a>
<a class="sourceLine" id="cb3-31" title="31">      <span class="fu">uses:</span><span class="at"> docker/login-action@v1</span></a>
<a class="sourceLine" id="cb3-32" title="32">      <span class="fu">with:</span></a>
<a class="sourceLine" id="cb3-33" title="33">        <span class="fu">username:</span><span class="at"> ${{ secrets.DOCKER_USERNAME }}</span></a>
<a class="sourceLine" id="cb3-34" title="34">        <span class="fu">password:</span><span class="at"> ${{ secrets.DOCKERHUB_TOKEN }}</span></a>
<a class="sourceLine" id="cb3-35" title="35">    <span class="kw">-</span> <span class="fu">name:</span><span class="at"> Build and push</span></a>
<a class="sourceLine" id="cb3-36" title="36">      <span class="fu">uses:</span><span class="at"> docker/build-push-action@v2</span></a>
<a class="sourceLine" id="cb3-37" title="37">      <span class="fu">with:</span></a>
<a class="sourceLine" id="cb3-38" title="38">        <span class="fu">context:</span><span class="at"> .</span></a>
<a class="sourceLine" id="cb3-39" title="39">        <span class="fu">builder:</span><span class="at"> ${{ steps.buildx.outputs.name }}</span></a>
<a class="sourceLine" id="cb3-40" title="40">        <span class="fu">tags:</span><span class="at"> haskelljp/antenna:latest</span></a>
<a class="sourceLine" id="cb3-41" title="41">        <span class="fu">push:</span><span class="at"> ${{ github.event_name != &#39;pull_request&#39; }}</span></a>
<a class="sourceLine" id="cb3-42" title="42">        <span class="fu">build-args:</span><span class="at"> local_bin_path=./bin</span></a></code></pre></div>
<p><span class="ascii">master</span>ãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ã®ã¨ãã«ã ã‘<span class="ascii">Docker</span>ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ—ãƒƒã‚·ãƒ¥ã‚’ã—ã¦æ¬²ã—ã„ã®ã§ã€<code>push:</code> ã« <code>github.event_name != 'pull_request'</code> ã‚’è¨­å®šã—ã¦ã„ã¾ã™ã€‚ ã¾ãŸã€<span class="ascii">Haskell Stack</span>ã§ãƒ“ãƒ«ãƒ‰ã•ã‚ŒãŸãƒã‚¤ãƒŠãƒªãƒ•ã‚¡ã‚¤ãƒ«ã¯<code>--local-bin-path=./bin</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§<code>./bin</code>ã«ç½®ã„ã¦ã‚ã‚Šã¾ã™ã€‚ ã“ã‚Œã‚’<span class="ascii">Dockerfile</span>ã§ã‚³ãƒ”ãƒ¼ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ï¼ˆä¸‹è¨˜å‚ç…§ï¼‰ã®ã§ã€<code>docker build</code>ã®å¼•æ•°ã«<code>local_bin_path=./bin</code>ã¨ã„ã†ã®ã‚’ä¸ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode dockerfile"><code class="sourceCode dockerfile"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">FROM</span> matsubara0507/ubuntu-for-haskell:git</a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">ARG</span> local_bin_path</a>
<a class="sourceLine" id="cb4-3" title="3"><span class="kw">RUN</span> mkdir -p /root/.local/bin &amp;&amp; mkdir -p /work</a>
<a class="sourceLine" id="cb4-4" title="4"><span class="kw">ENV</span> PATH /root/.local/bin:$PATH</a>
<a class="sourceLine" id="cb4-5" title="5"><span class="kw">WORKDIR</span> /work</a>
<a class="sourceLine" id="cb4-6" title="6"><span class="kw">COPY</span> ${local_bin_path} /root/.local/bin</a></code></pre></div>
<p>ã“ã®ã‚ˆã†ã«å‰ã®<span class="ascii">step</span>ã¾ã§ã®çµæœã‚’åˆ©ç”¨ã™ã‚‹ã«ã¯ <code>context: .</code> ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯<a href="https://github.com/docker/build-push-action/tree/v2#git-context"><span class="ascii">git-context</span></a>ã¨ã„ã†ã®ã‚’ä½¿ã†ã‹ã‚‰ã§ã™ï¼‰ã€‚</p>
<h3 id="antennaãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿè¡Œ"><span class="link-to-here-outer"><a href="#antennaãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿè¡Œ" title="antennaãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿè¡Œ"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">antenna</span>ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿè¡Œ</h3>
<p>æœ€å¾Œã«ã€<span class="ascii">master</span>ã®æ›´æ–°ãŒã‚ã£ãŸã¨ãã«<span class="ascii">antenna</span>ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã—ã¦<span class="ascii">Haskell Antenna</span>ãƒšãƒ¼ã‚¸ã‚’æ›´æ–°ã™ã‚‹ã‚ˆã†ãªè¨­å®šã‚’ã—ã¾ã™ã€‚ æ—¥æ¯ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œã‚‚è¨­å®šã—ãŸã„ã®ã§ã€æ–°ã—ã„ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’åˆ‡ã‚Šã¾ã—ãŸã€‚</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb5-1" title="1"><span class="fu">name:</span><span class="at"> Update Antenna page</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="fu">on:</span></a>
<a class="sourceLine" id="cb5-3" title="3">  <span class="fu">schedule:</span></a>
<a class="sourceLine" id="cb5-4" title="4">  <span class="kw">-</span> <span class="fu">cron:</span><span class="at"> </span><span class="st">&#39;0 8 * * *&#39;</span></a>
<a class="sourceLine" id="cb5-5" title="5">  <span class="fu">push:</span></a>
<a class="sourceLine" id="cb5-6" title="6">    <span class="fu">branches:</span></a>
<a class="sourceLine" id="cb5-7" title="7">    <span class="kw">-</span> master</a>
<a class="sourceLine" id="cb5-8" title="8">    <span class="fu">paths-ignore:</span></a>
<a class="sourceLine" id="cb5-9" title="9">    <span class="kw">-</span> <span class="st">&#39;README.md&#39;</span></a>
<a class="sourceLine" id="cb5-10" title="10">    <span class="kw">-</span> <span class="st">&#39;CHANGELOG.md&#39;</span></a>
<a class="sourceLine" id="cb5-11" title="11">    <span class="kw">-</span> <span class="st">&#39;LICENSE&#39;</span></a>
<a class="sourceLine" id="cb5-12" title="12">    <span class="kw">-</span> <span class="st">&#39;.gitignore&#39;</span></a>
<a class="sourceLine" id="cb5-13" title="13"><span class="fu">jobs:</span></a>
<a class="sourceLine" id="cb5-14" title="14">  <span class="fu">update:</span></a>
<a class="sourceLine" id="cb5-15" title="15">    <span class="fu">name:</span><span class="at"> ${{ matrix.os }}</span></a>
<a class="sourceLine" id="cb5-16" title="16">    <span class="fu">runs-on:</span><span class="at"> ubuntu-18.04</span></a>
<a class="sourceLine" id="cb5-17" title="17">    <span class="fu">strategy:</span></a>
<a class="sourceLine" id="cb5-18" title="18">      <span class="fu">fail-fast:</span><span class="at"> </span><span class="ch">false</span></a>
<a class="sourceLine" id="cb5-19" title="19">      <span class="fu">matrix:</span></a>
<a class="sourceLine" id="cb5-20" title="20">        <span class="fu">ghc:</span><span class="at"> </span><span class="kw">[</span><span class="st">&quot;8.8.4&quot;</span><span class="kw">]</span></a>
<a class="sourceLine" id="cb5-21" title="21">    <span class="fu">steps:</span></a>
<a class="sourceLine" id="cb5-22" title="22">    ... <span class="co"># Install dependenciesã¾ã§ã¯ä¸€ç·’ãªã®ã§å‰²æ„›</span></a>
<a class="sourceLine" id="cb5-23" title="23">    <span class="kw">-</span> <span class="fu">name:</span><span class="at"> Build</span></a>
<a class="sourceLine" id="cb5-24" title="24">      <span class="fu">run:</span><span class="at"> stack --system-ghc build</span></a>
<a class="sourceLine" id="cb5-25" title="25"></a>
<a class="sourceLine" id="cb5-26" title="26">    <span class="kw">-</span> <span class="fu">uses:</span><span class="at"> actions/checkout@v2</span></a>
<a class="sourceLine" id="cb5-27" title="27">      <span class="fu">with:</span></a>
<a class="sourceLine" id="cb5-28" title="28">        <span class="fu">ref:</span><span class="at"> </span><span class="st">&#39;gh-pages&#39;</span></a>
<a class="sourceLine" id="cb5-29" title="29">        <span class="fu">path:</span><span class="at"> </span><span class="st">&#39;temp&#39;</span></a>
<a class="sourceLine" id="cb5-30" title="30">    <span class="kw">-</span> <span class="fu">name:</span><span class="at"> Exec Application</span></a>
<a class="sourceLine" id="cb5-31" title="31"><span class="fu">      run:</span> <span class="st">|</span></a>
<a class="sourceLine" id="cb5-32" title="32">        cp sites.yaml temp/sites.yaml</a>
<a class="sourceLine" id="cb5-33" title="33">        cp -r image/* temp/image</a>
<a class="sourceLine" id="cb5-34" title="34">        cd temp &amp;&amp; stack exec -- antenna sites.yaml</a>
<a class="sourceLine" id="cb5-35" title="35">    <span class="kw">-</span> <span class="fu">name:</span><span class="at"> Push changes</span></a>
<a class="sourceLine" id="cb5-36" title="36">      <span class="fu">env:</span></a>
<a class="sourceLine" id="cb5-37" title="37">        <span class="fu">COMMIT_MESSAGE:</span><span class="at"> Update haskell antenna. See https://haskell.jp/antenna/ for new entries!</span></a>
<a class="sourceLine" id="cb5-38" title="38"><span class="fu">      run:</span> <span class="st">|</span></a>
<a class="sourceLine" id="cb5-39" title="39">        git config --local user.email &quot;bot@example.com&quot;</a>
<a class="sourceLine" id="cb5-40" title="40">        git config --local user.name &quot;Bot&quot;</a>
<a class="sourceLine" id="cb5-41" title="41">        git status</a>
<a class="sourceLine" id="cb5-42" title="42">        git add -A</a>
<a class="sourceLine" id="cb5-43" title="43">        git diff --staged --quiet || git commit -m &quot;$COMMIT_MESSAGE&quot;</a>
<a class="sourceLine" id="cb5-44" title="44">        git push origin gh-pages</a>
<a class="sourceLine" id="cb5-45" title="45">      <span class="fu">working-directory:</span><span class="at"> ./temp</span></a></code></pre></div>
<p>ãƒã‚¤ãƒŠãƒªã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨ã“ã‚ã¾ã§ã¯ä¸€ç·’ã§ã™ã€‚ <span class="ascii">Haskell Antenna</span>ã¯åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã®<span class="ascii">gh-pages</span>ãƒ–ãƒ©ãƒ³ãƒã«ç½®ã„ã¦ã€<span class="ascii">GitHub Pages</span>ã‚’ä½¿ã£ã¦å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚ ãªã®ã§ã€åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã®<span class="ascii">gh-pages</span>ãƒ–ãƒ©ãƒ³ãƒã‚’<span class="ascii">git clone</span>ã—ãªãŠã—ã¦ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç½®ãã€ãã“ã§<span class="ascii">antenna</span>ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã—ã¦ã€æ›´æ–°ãŒã‚ã£ãŸå ´åˆã«ã®ã¿ãƒ—ãƒƒã‚·ãƒ¥ã—ã¦ã„ã¾ã™ã€‚ åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã§ã‚ã‚Œã°ã€ç‰¹ã«è¨­å®šã™ã‚‹ã“ã¨ãªããƒ—ãƒƒã‚·ãƒ¥ã§ãã‚‹ã®ãŒ<span class="ascii">GitHub Actions</span>ã®ãƒ¡ãƒªãƒƒãƒˆã§ã™ã­ã€‚</p>
<h2 id="ãŠã¾ã‘zennã‚’è¿½åŠ ã—ã¾ã—ãŸ"><span class="link-to-here-outer"><a href="#ãŠã¾ã‘zennã‚’è¿½åŠ ã—ã¾ã—ãŸ" title="ãŠã¾ã‘zennã‚’è¿½åŠ ã—ã¾ã—ãŸ"><span class="link-to-here">Link to<br />
here</span></a></span>ãŠã¾ã‘ï¼š<span class="ascii">Zenn</span>ã‚’è¿½åŠ ã—ã¾ã—ãŸï¼</h2>
<p>ã¤ã„ã§ã«æœ€è¿‘ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã«ã‚ˆã£ã¦ã€<a href="https://github.com/haskell-jp/antenna/pull/25"><span class="ascii">Zenn</span>ã‚’<span class="ascii">Haskell Antenna</span>ã«è¼‰ã›ã‚‹ã‚µã‚¤ãƒˆã¸è¿½åŠ ã—ã¾ã—ãŸ</a>ï¼ˆ<span class="ascii">igrep</span>æ°ãŒã—ã¦ãã‚Œã¾ã—ãŸã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼‰ã€‚ ã‚¢ã‚¤ã‚³ãƒ³ã®åˆ©ç”¨è¦ç´„ãªã©ãŒã‚ã‹ã‚‰ãªã‹ã£ãŸã®ã§ã™ãŒã€<span class="ascii">GitHub</span>ã®<span class="ascii">PR</span>ä¸Šã§ç›´æ¥èã„ã¦ã¿ãŸã¨ã“ã‚ã€å•é¡Œãªã„ã¨ã„ã†å›ç­”ã‚’ã„ãŸã ãã¾ã—ãŸã€‚ çªç„¶ã ã£ãŸã®ã«ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚</p>
<p><img src="../../img/2020/antenna-with-gh-actions/antenna-page-with-zenn.jpg" style="width: 100%;"></p>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
                <i class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="margin-right: 5px;"></i>
                <a href="/posts/2020/break-monad-law-with-writer.html" lang="ja">Writer Monadã§æ°—è»½ã«Monadå‰‡ã‚’ç ´ã‚‹</a>
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/2020/how-to-use-type-newtype-data.html" style="margin-left: auto;" lang="ja">data / newtype / type ã®ä½¿ã„æ–¹</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>
<entry>
    <title>data / newtype / type ã®ä½¿ã„æ–¹</title>
    <link href="https://haskell.jp/blog/posts/2020/how-to-use-type-newtype-data.html" />
    <id>https://haskell.jp/blog/posts/2020/how-to-use-type-newtype-data.html</id>
    <published>2020-06-14T00:00:00Z</published>
    <updated>2020-06-14T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <hr />
<p><span class="ascii">Haskell</span> ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã«ãŠã„ã¦ï¼Œãƒ‡ãƒ¼ã‚¿å‹ã¯éå¸¸ã«é‡è¦ãªå½¹å‰²ã‚’æŒã¤ï¼ãƒ‡ãƒ¼ã‚¿å‹ã¯ï¼Œæ‰±ã†ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ä¸Šã§å®‰å…¨ã‹ã¤å®¹æ˜“ã«åŠ å·¥ã™ã‚‹ãŸã‚ã«ç”¨ã„ã‚‰ã‚Œï¼Œã¾ãŸãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã¦ã©ã®ã‚ˆã†ãªæ“ä½œãŒã§ãã‚‹ã®ã‹ã‚’è¦å®šã™ã‚‹ï¼</p>
<p><span class="ascii">Haskell</span> ã«ã¯ï¼Œãƒ‡ãƒ¼ã‚¿å‹ã‚’æ–°ãŸã«å®šç¾©ã™ã‚‹æ–¹æ³•ãŒ<span class="ascii">3</span>ã¤ã‚ã‚‹ï¼</p>
<ul>
<li><span class="ascii">1</span>ã¤ç›®ã¯ <code>type</code> ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã«ã‚ˆã£ã¦å®šç¾©ã™ã‚‹æ–¹æ³•ã§ï¼Œã“ã‚Œã«ã‚ˆã‚Šå®šç¾©ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿å‹ã¯å‹ã‚·ãƒãƒ‹ãƒ ã¨å‘¼ã°ã‚Œã‚‹ï¼</li>
<li><span class="ascii">2</span>ã¤ç›®ã¯ <code>data</code> ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã«ã‚ˆã£ã¦å®šç¾©ã™ã‚‹æ–¹æ³•ã§ï¼Œã“ã‚Œã«ã‚ˆã‚Šå®šç¾©ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿å‹ã¯ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã¨å‘¼ã°ã‚Œã‚‹ï¼</li>
<li><span class="ascii">3</span>ã¤ç›®ã¯ <code>newtype</code> ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã«ã‚ˆã£ã¦ã‚ã‚‹å‹ã‚’å…ƒã«æ–°ãŸãªå‹ã‚’ä½œã‚‹æ–¹æ³•ã ï¼</li>
</ul>
<p>ä»Šå›ã¯ï¼Œãã‚Œãã‚Œã©ã†ã„ã†ä½¿ã„æ–¹ã‚’ã™ã‚‹ã®ã‹ï¼Œã©ã†ã„ã†é•ã„ãŒã‚ã‚‹ã®ã‹ã«ã¤ã„ã¦è¦‹ã¦ã„ããŸã„ã¨æ€ã†ï¼</p>
<div id="table-of-contents-outer">
<div id="table-of-contents">
<div class="table-of-contents-title">
Contents
</div>
<ul>
<li><a href="#å‹ã‚·ãƒãƒ‹ãƒ " title="å‹ã‚·ãƒãƒ‹ãƒ ">å‹ã‚·ãƒãƒ‹ãƒ </a></li>
<li><a href="#ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹" title="ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹">ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹</a></li>
<li><a href="#ã‚ã‚‹å‹ã‚’å…ƒã«æ–°ãŸãªå‹ã‚’ä½œã‚‹-datatype-renaming" title="ã‚ã‚‹å‹ã‚’å…ƒã«æ–°ãŸãªå‹ã‚’ä½œã‚‹-datatype-renaming">ã‚ã‚‹å‹ã‚’å…ƒã«æ–°ãŸãªå‹ã‚’ä½œã‚‹ <span class="ascii">(Datatype Renaming)</span></a></li>
<li><a href="#ã¾ã¨ã‚" title="ã¾ã¨ã‚">ã¾ã¨ã‚</a></li>
</ul>
</div>
</div>
<h2 id="å‹ã‚·ãƒãƒ‹ãƒ "><span class="link-to-here-outer"><a href="#å‹ã‚·ãƒãƒ‹ãƒ " title="å‹ã‚·ãƒãƒ‹ãƒ "><span class="link-to-here">Link to<br />
here</span></a></span>å‹ã‚·ãƒãƒ‹ãƒ </h2>
<p>ä¾‹ãˆã°ï¼Œã‚ãªãŸã¯ <span class="ascii">Web</span> ã‚µã‚¤ãƒˆã‚’é‹å–¶ã—ã¦ã„ã¦ï¼Œä¸€éƒ¨å¹´é½¢åˆ¶é™ãŒå¿…è¦ãªãŸã‚ï¼Œäººã®å¹´é½¢ãŒ <span class="ascii">20</span> æ­³ä»¥ä¸Šã‹ã‚’åˆ¤å®šã™ã‚‹é–¢æ•°ã‚’æ›¸ã‹ãªã‘ã‚Œã°ã„ã‘ãªã„ã¨ã™ã‚‹ï¼å¹´é½¢ã¯æ•´æ•°ã ãŒï¼Œå…¥åŠ›ã¯å¿…é ˆã§ãªã„ãŸã‚å…¥åŠ›ã—ã¦ãªã„äººã‚‚ã„ã‚‹ï¼ãã®å ´åˆã¯ï¼Œ<span class="ascii">20</span> æ­³ä»¥ä¸Šã§ãªã„ã¨åˆ¤å®šã™ã‚‹ï¼ã“ã®é–¢æ•°ã¯ï¼Œ</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb1-1" title="1"><span class="ot">isAdult ::</span> <span class="dt">Maybe</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Bool</span></a>
<a class="sourceLine" id="cb1-2" title="2">isAdult m <span class="ot">=</span> <span class="kw">case</span> m <span class="kw">of</span></a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="dt">Nothing</span> <span class="ot">-&gt;</span> <span class="dt">False</span></a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="dt">Just</span> x  <span class="ot">-&gt;</span> x <span class="op">&gt;=</span> <span class="dv">20</span></a></code></pre></div>
<p>ã¨æ›¸ã‘ã‚‹ï¼ãŸã ï¼Œã“ã®å®šç¾©ã¯ã©ã“ã‹å‘³æ°—ãªã„ï¼<code>isAdult</code> ãŒå—ã‘å–ã‚‹ãƒ‡ãƒ¼ã‚¿ã¯ï¼Œå¹´é½¢ã‚’è¡¨ã—ã¦ã„ã¦ï¼Œæ•´æ•°ã‹æœªè©³ã‹ã®çŠ¶æ…‹ã‚’æŒã¤ã®ã§ï¼Œ<code>Maybe Int</code> ã¯ãƒ‡ãƒ¼ã‚¿ã‚’æ­£ç¢ºã«æ‰ãˆã‚‰ã‚Œã¦ã„ã‚‹ï¼ã—ã‹ã—ï¼Œ<code>Maybe Int</code> ã«é©åˆã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã¯ä»–ã«ç„¡æ•°ã«ã‚ã‚‹ãŸã‚ï¼Œ<code>isAdult</code> ãŒå—ã‘å–ã‚‹ãƒ‡ãƒ¼ã‚¿ãŒå¹´é½¢ã‚’è¡¨ã™ã®ã‹çŸ¥èƒ½æŒ‡æ•°ã‚’è¡¨ã™ã®ã‹ï¼Œã¯ãŸã¾ãŸä»Šã¾ã§ãŠé…’ã‚’é£²ã‚“ã ã“ã¨ã®ã‚ã‚‹å›æ•°ãªã®ã‹ã¯æ¨æ¸¬ã—ãªã„ã¨åˆ†ã‹ã‚‰ãªã„ï¼å¹´é½¢ã‚’è¡¨ã™ãƒ‡ãƒ¼ã‚¿å‹ã‚’æ–°ãŸã«å®šç¾©ã—ã¦ï¼Œãã‚Œã‚’å—ã‘å–ã‚‹ã‚ˆã†ã«ã™ã‚Œã°ã‚‚ã£ã¨ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒã‚¯ãƒ¼ãƒ«ã«ãªã‚‹ã ã‚ã†ï¼</p>
<p><span class="ascii">Haskell</span> ã§æ–°ã—ããƒ‡ãƒ¼ã‚¿å‹ã‚’å®šç¾©ã™ã‚‹æœ€ã‚‚ç°¡å˜ãªæ–¹æ³•ã¯ï¼Œ<code>type</code> ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦å‹ã‚·ãƒãƒ‹ãƒ  <span class="ascii">(type synonym)</span> ã‚’å®šç¾©ã™ã‚‹æ–¹æ³•ã ï¼ã‚·ãƒãƒ‹ãƒ ã¨ã¯ï¼Œåˆ¥åã¨ã„ã†æ„å‘³ã§ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã¯æ–‡å­—é€šã‚Šï¼Œã‚ã‚‹å‹ã®åˆ¥åã‚’è¡¨ã™ï¼ä»Šå›ã¯æ¬¡ã®ã‚ˆã†ã«ä½¿ãˆã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">type</span> <span class="dt">Age</span> <span class="ot">=</span> <span class="dt">Maybe</span> <span class="dt">Int</span></a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="ot">isAdult ::</span> <span class="dt">Age</span> <span class="ot">-&gt;</span> <span class="dt">Bool</span></a>
<a class="sourceLine" id="cb2-4" title="4">isAdult age <span class="ot">=</span> <span class="kw">case</span> age <span class="kw">of</span></a>
<a class="sourceLine" id="cb2-5" title="5">  <span class="dt">Nothing</span> <span class="ot">-&gt;</span> <span class="dt">False</span></a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="dt">Just</span> x  <span class="ot">-&gt;</span> x <span class="op">&gt;=</span> <span class="dv">20</span></a></code></pre></div>
<p>ã“ã‚Œã§é–¢æ•° <code>isAdult</code> ã¯ï¼Œå…ˆã»ã©ã¨æ¯”ã¹ã¦ã¨ã¦ã‚‚æ˜ç¢ºã«ãªã£ãŸï¼<code>Age</code> ã¯ <code>Maybe Int</code> ã‚’å…ƒã«ä½œã‚‰ã‚ŒãŸå‹ã‚·ãƒãƒ‹ãƒ ã§ï¼Œã¤ã¾ã‚Š <code>Age</code> ã¯ <code>Maybe Int</code> ã®åˆ¥åã«ãªã£ã¦ã„ã‚‹ï¼å˜ãªã‚‹åˆ¥åãªã®ã§ï¼Œ<code>isAdult</code> ã¯ <code>Maybe Int -&gt; Bool</code> å‹ã®é–¢æ•°ã ã¨æ€ã£ã¦ä½¿ã†ã“ã¨ã‚‚ã§ãã‚‹ï¼<span class="ascii">GHCi</span> ã§è©¦ã—ã¦ã¿ã‚ˆã†<span class="ascii">:</span></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb3-1" title="1"><span class="op">&gt;&gt;&gt;</span> (<span class="ot">isAdult ::</span> <span class="dt">Maybe</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Bool</span>) (<span class="dt">Just</span> <span class="dv">22</span><span class="ot"> ::</span> <span class="dt">Age</span>)</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="dt">True</span></a></code></pre></div>
<p><code>Maybe Int</code> ã‚’ <code>Age</code> ã ã¨æ€ã†ã“ã¨ã‚‚ã§ãã‚‹ã—ãã®é€†ã‚‚ã§ãã‚‹ï¼å‹ã‚·ãƒãƒ‹ãƒ ã¨å…ƒã¨ãªã£ãŸå‹ã¯è‡ªåœ¨ã«å–ã‚Šæ›¿ãˆå¯èƒ½ã ï¼å‹ã‚·ãƒãƒ‹ãƒ ã¯ã¨ã¦ã‚‚æ‰‹è»½ãªã®ã§ï¼Œ<span class="ascii">Haskell</span> ã®æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚‚ä½¿ã‚ã‚Œã¦ã„ã‚‹ï¼ä¾‹ãˆã°ï¼Œæ¬¡ã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿å‹ãŒå‹ã‚·ãƒãƒ‹ãƒ ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">type</span> <span class="dt">String</span> <span class="ot">=</span> [<span class="dt">Char</span>]</a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">type</span> <span class="dt">FilePath</span> <span class="ot">=</span> <span class="dt">String</span></a></code></pre></div>
<p>æ–‡å­—åˆ—ã¯æ–‡å­—ã®ãƒªã‚¹ãƒˆã¨è¦‹åšã›ã‚‹ï¼ãã“ã‹ã‚‰æ–‡å­—åˆ—ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å‹ <code>String</code> ã¯ï¼Œå˜ã«æ–‡å­—ã®ãƒªã‚¹ãƒˆå‹ã®å‹ã‚·ãƒãƒ‹ãƒ ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ï¼æ–‡å­—åˆ—ã«å¯¾ã—ã¦ãƒªã‚¹ãƒˆã®é–¢æ•°ã‚’è‡ªç”±ã«é©ç”¨ã§ãã‚‹ã®ã¯ï¼Œã“ã®ãŸã‚ã ï¼ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å‹ <code>FilePath</code> ã¯ <code>String</code> ã®å‹ã‚·ãƒãƒ‹ãƒ ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ï¼ãªã®ã§ï¼Œæ–‡å­—åˆ—ã®é–¢æ•°ã‚’è‡ªç”±ã«é©ç”¨ã§ãã‚‹ï¼</p>
<p><span class="ascii">Haskell</span> ã®å‹ã‚·ãƒãƒ‹ãƒ ã¯ï¼Œã“ã‚Œã ã‘ã«æ­¢ã¾ã‚‰ãšã‚‚ã£ã¨å¼·åŠ›ãªæ©Ÿèƒ½ã‚‚æŒã£ã¦ã„ã‚‹ï¼ä¾‹ãˆã°ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã¯å‹ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ï¼Œã™ãªã‚ã¡å‹ã‚’å—ã‘å–ã£ã¦æ–°ãŸãªå‹ã‚’ä½œã‚‹ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«å¯¾ã—ã¦ã‚‚ä½œã‚Œã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">type</span> <span class="dt">Option</span> <span class="ot">=</span> <span class="dt">Maybe</span></a></code></pre></div>
<p>ã“ã®å‹ã‚·ãƒãƒ‹ãƒ ã‚’ä½¿ã†ã¨ï¼Œ<code>Maybe Int</code> ã¨æ›¸ãä»£ã‚ã‚Šã« <code>Option Int</code> ã¨æ›¸ãã“ã¨ã‚‚å¯èƒ½ã ï¼éƒ¨åˆ†é©ç”¨ã•ã‚ŒãŸå‹ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«å¯¾ã™ã‚‹å‹ã‚·ãƒãƒ‹ãƒ ã‚‚æ›¸ã‘ã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">type</span> <span class="dt">Failable</span> <span class="ot">=</span> <span class="dt">Either</span> <span class="dt">String</span></a></code></pre></div>
<p>ã“ã®å‹ã‚·ãƒãƒ‹ãƒ ã‚’ä½¿ã†ã¨ï¼Œ<code>Either String ()</code> ã¨æ›¸ãä»£ã‚ã‚Šã« <code>Failable ()</code> ã¨æ›¸ãã“ã¨ãŒã§ãã‚‹ï¼</p>
<p>ã•ã‚‰ã«å‹ã‚·ãƒãƒ‹ãƒ ã¯ï¼Œãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æŒã¤ã“ã¨ãŒã§ãã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">type</span> <span class="dt">List</span> a <span class="ot">=</span> [a]</a></code></pre></div>
<p>ã“ã®å‹ã‚·ãƒãƒ‹ãƒ ã‚’ä½¿ã†ã¨ï¼Œ<code>[Int]</code> ã¯ <code>List Int</code> ã¨æ›¸ã‘ã‚‹ï¼ãŸã ã—ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã¯ã‚ãã¾ã§åˆ¥åãªã®ã§ï¼Œå…¨ã¦ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’é©ç”¨ã—ãŸçŠ¶æ…‹ã§ã—ã‹æ›¸ã‘ãªã„ã“ã¨ã«æ³¨æ„ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼ä¾‹ãˆã°ï¼Œæ¬¡ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">type</span> <span class="dt">Apply</span> f a <span class="ot">=</span> f a</a>
<a class="sourceLine" id="cb8-2" title="2"><span class="kw">type</span> <span class="dt">ApplyMaybe</span> <span class="ot">=</span> <span class="dt">Apply</span> <span class="dt">Maybe</span></a></code></pre></div>
<p><code>Apply</code> ã¯<span class="ascii">2</span>ã¤ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ã¨ã‚‹ãŒï¼Œ<code>ApplyMaybe</code> ã¯ <code>Apply</code> ã«<span class="ascii">1</span>ã¤ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã—ã‹æ¸¡ã—ã¦ã„ãªã„ï¼ã“ã®å ´åˆï¼Œ<code>Apply Maybe</code> ã¨ã„ã†å‹ãŒã©ã†ã„ã†å‹ã®åˆ¥åã«ãªã‚‹ã‹ <span class="ascii">Haskell</span> ã¯åˆ†ã‹ã‚‰ãªã„ãŸã‚ï¼Œã“ã®å‹ã‚’æ‹’å¦ã™ã‚‹ï¼ã“ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä¿®æ­£ã™ã‚‹ã«ã¯ï¼Œ</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">type</span> <span class="dt">Apply</span> f a <span class="ot">=</span> f a</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="kw">type</span> <span class="dt">ApplyMaybe</span> a <span class="ot">=</span> <span class="dt">Apply</span> <span class="dt">Maybe</span> a</a></code></pre></div>
<p>ã¨ã„ã†ã‚ˆã†ã«ï¼Œ<code>Apply</code> ã«å…¨ã¦ã®å¼•æ•°ã‚’æ¸¡ã—ã¦ã‚„ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼ã“ã†ã™ã‚‹ã“ã¨ã§ï¼Œ<span class="ascii">Haskell</span> ã¯ <code>Apply</code> ã®å®šç¾©ã‹ã‚‰ <code>Apply Maybe a</code> ãŒ <code>Maybe a</code> ã®åˆ¥åã§ã‚ã‚‹ã¨èªè­˜ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ <a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>ï¼</p>
<p>å‹ã‚·ãƒãƒ‹ãƒ ã¯ï¼Œä»–ã«ã‚‚å¹¾ã¤ã‹ç”¨é€”ä¸Šã§åˆ¶é™ãŒã‚ã‚‹ï¼<span class="ascii">1</span>ã¤ç›®ã¯å†å¸°çš„ãªå‹ã‚·ãƒãƒ‹ãƒ ãŒä½œã‚Œãªã„ã¨ã„ã†åˆ¶é™ã ï¼ä¾‹ãˆã°ï¼Œ</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">type</span> <span class="dt">InfiniteList</span> a <span class="ot">=</span> (a, <span class="dt">InfiniteList</span> a)</a></code></pre></div>
<p>ã¨ã„ã†å®šç¾©ã¯ <span class="ascii">Haskell</span> ã§ã¯å´ä¸‹ã•ã‚Œã‚‹ï¼ç›¸äº’å†å¸°çš„ãªå®šç¾©ã‚‚è¨±å®¹ã•ã‚Œã¦ã„ãªã„<span class="ascii">:</span></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">type</span> <span class="dt">Rec1</span> <span class="ot">=</span> [<span class="dt">Rec2</span>]</a>
<a class="sourceLine" id="cb11-2" title="2"><span class="kw">type</span> <span class="dt">Rec2</span> <span class="ot">=</span> [<span class="dt">Rec1</span>]</a></code></pre></div>
<p><code>Rec1</code> ã®å‹ã‚’å…·ä½“çš„ã«æ±‚ã‚ã‚ˆã†ã¨ã™ã‚‹ã¨ï¼Œ<code>[Rec2]</code> ã®å‹ã«ãªã‚‹ï¼<code>Rec2</code> ã¯ã‚„ã£ã±ã‚Šå‹ã‚·ãƒãƒ‹ãƒ ã§ï¼Œ<code>[Rec1]</code> ã®åˆ¥åãªã®ã§ï¼Œã“ã®å‹ã¯ã•ã‚‰ã« <code>[[Rec1]]</code> ã¨ã„ã†å‹ã«ãªã‚‹ï¼ã“ã®ã‚ˆã†ã«ã—ã¦å…·ä½“çš„ãªå‹ã‚’æ±‚ã‚ã‚ˆã†ã¨ã—ã¦ã‚‚æ°¸é ã«å‹ã‚·ãƒãƒ‹ãƒ ãŒã©ã“ã‹ã—ã‚‰ã«å…¥ã‚Šè¾¼ã‚€ã“ã¨ã«ãªã£ã¦ã—ã¾ã„ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ãŒç¾ã‚Œãªã„å‹ã‚’æ±‚ã‚ã‚‹ã“ã¨ã¯ã§ããªã„ï¼<span class="ascii">Haskell</span> ã§ã¯ãã®ã‚ˆã†ãªã“ã¨ãŒãªã„ã‚ˆã†ã«ï¼Œãã®ã‚ˆã†ãªå®šç¾©ã‚’æ’é™¤ã—ã¦ã„ã‚‹ <a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>ï¼</p>
<p>ã‚‚ã†<span class="ascii">1</span>ã¤ã®åˆ¶ç´„ã¯ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã‚’å‹ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¨ã—ã¦ä½¿ãˆãªã„ã¨ã„ã†ã‚‚ã®ã ï¼ä¾‹ãˆã°ï¼Œæ¬¡ã®ã‚ˆã†ãªã“ã¨ã¯ã§ããªã„<span class="ascii">:</span></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">type</span> <span class="dt">I</span> <span class="ot">=</span> <span class="dt">Int</span></a>
<a class="sourceLine" id="cb12-2" title="2"></a>
<a class="sourceLine" id="cb12-3" title="3"><span class="kw">class</span> <span class="dt">C</span> a</a>
<a class="sourceLine" id="cb12-4" title="4"><span class="kw">instance</span> <span class="dt">C</span> <span class="dt">I</span></a></code></pre></div>
<p>ä»£ã‚ã‚Šã«ï¼Œ</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">class</span> <span class="dt">C</span> a</a>
<a class="sourceLine" id="cb13-2" title="2"><span class="kw">instance</span> <span class="dt">C</span> <span class="dt">Int</span></a></code></pre></div>
<p>ã¨ã„ã†ã‚ˆã†ã«å‹ã‚·ãƒãƒ‹ãƒ ã‚’ä½¿ã‚ãšæ›¸ãå¿…è¦ãŒã‚ã‚‹ï¼ã“ã‚Œã¯å‹ã‚·ãƒãƒ‹ãƒ ã‚’ä½¿ã£ã¦æ›¸ã‘ãªã„å”¯ä¸€ã®ä¾‹å¤–ã ï¼ãŸã ï¼Œã“ã®åˆ¶é™ã¯æœ¬è³ªçš„ãªã‚‚ã®ã§ã¯ãªãï¼Œ<span class="ascii">Haskell</span> æ¨™æº–ã§å‹ã‚·ãƒãƒ‹ãƒ ã«å¯¾ã™ã‚‹æ··ä¹±ã‚’é¿ã‘ã‚‹ãŸã‚ã®åˆ¶é™ã«ãªã£ã¦ã„ã‚‹ï¼ã‚‚ã—ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã«å¯¾ã—ã¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æ›¸ã‘ã‚‹ã‚ˆã†ã«ã—ã¦ã‚‚ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã¯å˜ãªã‚‹åˆ¥åãªã®ã§ï¼Œãã‚Œã¯å…ƒã¨ãªã£ãŸå‹ã«å¯¾ã—ã¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å®šç¾©ã—ã¦ã‚‹ã“ã¨ã¨åŒã˜ã«ãªã‚‹ï¼ã“ã®ãŸã‚ï¼Œ</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb14-1" title="1"><span class="ot">f ::</span> <span class="dt">C</span> a <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> a</a>
<a class="sourceLine" id="cb14-2" title="2">f x <span class="ot">=</span> x</a></code></pre></div>
<p>ã¨ã„ã†é–¢æ•°ã¯ï¼Œ<code>type Age = Int</code> ã«ã‚ˆã‚‹å‹ã‚·ãƒãƒ‹ãƒ  <code>Age</code> ã«å¯¾ã—ã¦ <code>C</code> ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒå®šç¾©ã•ã‚Œã¦ã„ãŸå ´åˆï¼Œ<code>a</code> ãŒ <code>Age</code> ã®å ´åˆã‚‚ <code>Int</code> ã®å ´åˆã‚‚è¨±å®¹ã•ã‚Œã‚‹ï¼ã“ã‚Œã¯ï¼Œãƒ—ãƒ­ã‚°ãƒ©ãƒãŒæ„å›³ã—ã¦ã„ãªã„å‹•ä½œã‹ã‚‚ã—ã‚Œãªã„ï¼ã¤ã¾ã‚Šï¼Œå¹´é½¢ã®ãƒ‡ãƒ¼ã‚¿ã ã‘ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å®šç¾©ã—ãŸã¤ã‚‚ã‚ŠãŒï¼Œæ•´æ•°ãƒ‡ãƒ¼ã‚¿å…¨èˆ¬ã«å¯¾ã—ã¦ã„ã¤ã®ã¾ã«ã‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å®šç¾©ã—ã¦ã—ã¾ã£ãŸã“ã¨ã«ãªã‚‹ã‹ã‚‰ã  <a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>ï¼</p>
<p>ã“ã‚Œã‚‰ã®åˆ¶é™ã¯ã‚ã‚‹ã‚‚ã®ã®ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã¯ãƒ‡ãƒ¼ã‚¿å‹ã‚’å®šç¾©ã™ã‚‹ä¸Šã§ã¨ã¦ã‚‚å¼·åŠ›ã§ï¼Œã—ã‹ã‚‚ç°¡å˜ã«ä½¿ç”¨ã§ãã‚‹æ©Ÿèƒ½ã ï¼</p>
<h2 id="ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹"><span class="link-to-here-outer"><a href="#ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹" title="ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹"><span class="link-to-here">Link to<br />
here</span></a></span>ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹</h2>
<p>ã•ã¦ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã§ãƒ‡ãƒ¼ã‚¿å‹ã‚’å®šç¾©ã™ã‚‹å ´åˆã«ã¯å¹¾ã¤ã‹ã®åˆ¶é™ãŒã‚ã£ãŸï¼ã§ã¯ï¼Œã“ã®åˆ¶é™ã‚’è¶…ãˆãŸãƒ‡ãƒ¼ã‚¿å‹ã‚’å®šç¾©ã™ã‚‹æ–¹æ³•ã¯ãªã„ã®ã ã‚ã†ã‹ï¼Ÿ ãã®ã‚ˆã†ãªå ´åˆã«ã¯ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ <span class="ascii">(algebraic datatype)</span> ã‚’ä½¿ã†ã“ã¨ãŒã§ãã‚‹ï¼</p>
<p>ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã¯ï¼Œè¤‡æ•°ã®å‹ã®å€¤ã‚’çµ±åˆã—ã¦<span class="ascii">1</span>ã¤ã®å‹ã®å€¤ã¨ã—ã¦æ‰±ã†ãƒ‡ãƒ¼ã‚¿å‹ã®ç©ã¨ï¼Œè¤‡æ•°ã®å‹ã®è¡¨ç¾ç¯„å›²ã‚’åˆã‚ã›ã¦<span class="ascii">1</span>ã¤ã®å‹ã¨ã—ã¦æ‰±ã†ãƒ‡ãƒ¼ã‚¿å‹ã®å’Œã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§æ§‹æˆã•ã‚Œã¦ã„ã‚‹ï¼ãã—ã¦ï¼Œã“ã®ãƒ‡ãƒ¼ã‚¿å‹ã®å®šç¾©ã¯ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã¨ç•°ãªã‚Šå®Œå…¨ã«æ–°ã—ã„å‹ã‚’ä½œã‚Šå‡ºã™ï¼å®Ÿéš›ã®ä¾‹ã‚’è¦‹ã¦ã¿ã‚ˆã†ï¼</p>
<p>ã‚ãªãŸã¯ç©æœ¨ãƒ‘ã‚ºãƒ«ã®ãƒ‘ãƒ¼ãƒ„ãã‚Œãã‚Œã®é¢ç©ã‚’è¨ˆç®—ã™ã‚‹é–¢æ•°ã‚’ï¼Œæ›¸ã‹ãªã‘ã‚Œã°ã„ã‘ãªã„ï¼ç©æœ¨ãƒ‘ã‚ºãƒ«ã®ãƒ‘ãƒ¼ãƒ„ã¯ãã‚Œãã‚Œï¼Œé•·æ–¹å½¢ï¼ŒçœŸå††ï¼Œä¸‰è§’å½¢ã‹ã‚‰æ§‹æˆã•ã‚Œã¦ã„ã‚‹ï¼ã¾ãšã¯ã“ã®ãƒ‘ãƒ¼ãƒ„ã‚’ <span class="ascii">Haskell</span> ã®ãƒ‡ãƒ¼ã‚¿å‹ã«è½ã¨ã—è¾¼ã‚€å¿…è¦ãŒã‚ã‚‹ï¼ãã‚Œãã‚Œã®ãƒ‘ãƒ¼ãƒ„ã«ãŠã„ã¦ï¼Œ</p>
<ul>
<li>å››è§’å½¢ã®é¢ç©ã¯ç¸¦æ¨ªã®é•·ã•</li>
<li>çœŸå††ã¯åŠå¾„</li>
<li>ä¸‰è§’å½¢ã¯ä¸‰è¾ºã®é•·ã•</li>
</ul>
<p>ã«ã‚ˆã£ã¦ç‰¹å¾´ä»˜ã‘ã‚‰ã‚Œã¦ã„ã‚‹ï¼ã§ã¯ï¼Œã“ã‚Œã‚’ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã«è½ã¨ã—è¾¼ã‚“ã§ã¿ã‚ˆã†<span class="ascii">:</span></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">data</span> <span class="dt">PuzzleElement</span></a>
<a class="sourceLine" id="cb15-2" title="2">  <span class="ot">=</span> <span class="dt">Rect</span></a>
<a class="sourceLine" id="cb15-3" title="3">      <span class="dt">Double</span></a>
<a class="sourceLine" id="cb15-4" title="4">      <span class="co">-- ^ ç¸¦ã®é•·ã•</span></a>
<a class="sourceLine" id="cb15-5" title="5">      <span class="dt">Double</span></a>
<a class="sourceLine" id="cb15-6" title="6">      <span class="co">-- ^ æ¨ªã®é•·ã•</span></a>
<a class="sourceLine" id="cb15-7" title="7">  <span class="op">|</span> <span class="dt">Circle</span></a>
<a class="sourceLine" id="cb15-8" title="8">      <span class="dt">Double</span></a>
<a class="sourceLine" id="cb15-9" title="9">      <span class="co">-- ^ åŠå¾„</span></a>
<a class="sourceLine" id="cb15-10" title="10">  <span class="op">|</span> <span class="dt">Triangle</span></a>
<a class="sourceLine" id="cb15-11" title="11">    <span class="co">-- ^ ä¸‰ã¤ã®è¾ºã®é•·ã•ã‚’ä¸ãˆã‚‹</span></a>
<a class="sourceLine" id="cb15-12" title="12">      <span class="dt">Double</span> <span class="dt">Double</span> <span class="dt">Double</span> </a></code></pre></div>
<p>ã“ã®å®šç¾©ã¯ï¼Œ<code>PuzzleElement</code> ã¨ã„ã†æ–°ã—ã„å‹ã‚’ä½œã‚Šï¼Œ<span class="ascii">3</span>ã¤ã®å€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’ä½œã‚‹ï¼ãã‚Œãã‚Œ</p>
<ul>
<li><code>Rect :: Double -&gt; Double -&gt; PuzzleElement</code></li>
<li><code>Circle :: Double -&gt; PuzzleElement</code></li>
<li><code>Triangle :: Double -&gt; Double -&gt; Double -&gt; PuzzleElement</code></li>
</ul>
<p>ã¨ã„ã†å‹ã‚’æŒã¤ï¼<code>Rect</code> ã¯ <code>Double</code> å‹ã®å€¤ã‚’<span class="ascii">2</span>ã¤å—ã‘å–ã‚Šï¼Œãã®<span class="ascii">2</span>ã¤ã®å€¤ã‚’ <code>PuzzleElement</code> å‹ã®<span class="ascii">1</span>ã¤ã®å€¤ã¨ã—ã¦çµ±åˆã™ã‚‹ï¼ã¤ã¾ã‚Šï¼Œ<code>Double</code> å‹<span class="ascii">2</span>ã¤ã®ç©ã‚’ä½œã‚‹ï¼<code>Circle</code> ã‚„ <code>Triangle</code> ã‚‚åŒæ§˜ã ï¼ãã—ã¦ï¼Œ<code>PuzzleElement</code> å‹ã¯<span class="ascii">3</span>ç¨®é¡ã®ç©ã®å€¤ã®ã„ãšã‚Œã‹ã‚’è¡¨ã—ï¼Œã™ãªã‚ã¡ã“ã‚Œã‚‰<span class="ascii">3</span>ç¨®é¡ã®ç©ã®å’Œã‚’è¡¨ã™ï¼ã“ã®ã‚ˆã†ã«ï¼Œç©å’Œã«ã‚ˆã£ã¦æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿å‹ã‚’å®šç¾©ã§ãã‚‹ã®ãŒ <code>data</code> å®£è¨€ã§ã‚ã‚Šï¼Œãã‚Œã«ã‚ˆã£ã¦å®šç¾©ã•ã‚Œã‚‹ã®ãŒä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã«ãªã‚‹ï¼</p>
<p>ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã®å€¤ã‹ã‚‰çµ±åˆã—ãŸå€¤ã‚’å–ã‚Šå‡ºã—ãŸã„æ™‚ã¯ï¼Œ<code>case</code> æ–‡ã‚’ä½¿ã£ãŸãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã‚’è¡Œã†<span class="ascii">:</span></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb16-1" title="1"><span class="ot">areaMeasure ::</span> <span class="dt">PuzzleElement</span> <span class="ot">-&gt;</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb16-2" title="2">areaMeasure x <span class="ot">=</span> <span class="kw">case</span> x <span class="kw">of</span></a>
<a class="sourceLine" id="cb16-3" title="3">  <span class="dt">Rect</span> w h <span class="ot">-&gt;</span> w <span class="op">*</span> h</a>
<a class="sourceLine" id="cb16-4" title="4">  <span class="dt">Circle</span> r <span class="ot">-&gt;</span> r <span class="op">*</span> r <span class="op">*</span> <span class="fu">pi</span></a>
<a class="sourceLine" id="cb16-5" title="5">  <span class="dt">Triangle</span> s1 s2 s3 <span class="ot">-&gt;</span></a>
<a class="sourceLine" id="cb16-6" title="6">    <span class="kw">let</span> s <span class="ot">=</span> (s1 <span class="op">+</span> s2 <span class="op">+</span> s3) <span class="op">/</span> <span class="dv">2</span></a>
<a class="sourceLine" id="cb16-7" title="7">    <span class="kw">in</span> <span class="fu">sqrt</span> <span class="op">$</span> s <span class="op">*</span> (s <span class="op">-</span> s1) <span class="op">*</span> (s <span class="op">-</span> s2) <span class="op">*</span> (s <span class="op">-</span> s3)</a></code></pre></div>
<p><code>areaMeasure</code> ã«ã‚ˆã£ã¦ãƒ‘ã‚ºãƒ«ã®ãƒ”ãƒ¼ã‚¹ã®é¢ç©ã‚’æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸï¼</p>
<p>å‰ã«ç´¹ä»‹ã—ãŸå‹ã‚·ãƒãƒ‹ãƒ ã¯ï¼Œã‚ã‚‹å‹ã«å¯¾ã—ã¦ãã®åˆ¥åã‚’ä¸ãˆã‚‹ã ã‘ã ã£ãŸï¼ãã‚Œã«æ¯”ã¹ï¼Œä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã§ã¯æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿å‹ã‚’ä½œã‚Šï¼Œãã®å‹ã®å€¤ã‚’ä½œã‚‹å€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’å®šç¾©ã™ã‚‹ï¼ãã—ã¦ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã¨å¤§ããç•°ãªã‚‹ç‚¹ã¯ï¼Œå‹ã‚·ã‚¹ãƒ†ãƒ ä¸Šã‹ã‚‰ã¯æ–°ãŸã«å®šç¾©ã•ã‚ŒãŸå‹ã—ã‹åˆ†ã‹ã‚‰ãšï¼Œå®Ÿéš›ã«ãã®ãƒ‡ãƒ¼ã‚¿å‹ãŒã©ã†ã„ã†å‹ã‹ã‚‰æ§‹æˆã•ã‚Œã‚‹ã‹åˆ†ã‹ã‚‰ãªã„ç‚¹ã«ã‚ã‚‹ï¼<code>PuzzleElement</code> å‹ã®å€¤ã¯ï¼Œã‚‚ã—ã‹ã—ãŸã‚‰ <code>Double</code> å‹ã®<span class="ascii">2</span>ã¤ã®å€¤ã‹ã‚‰ <code>Rect</code> ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’ä»‹ã—ã¦ä½œã‚‰ã‚Œã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã—ï¼Œ<code>Double</code> å‹<span class="ascii">1</span>ã¤ã®å€¤ã‹ã‚‰ <code>Circle</code> ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’é€šã—ã¦ä½œã‚‰ã‚Œã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ï¼ã“ã‚Œã¯å®Ÿè¡Œæ™‚ã«ãã®é–¢æ•°ã§ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã‚’ã—ã¦ã¿ã¦åˆã‚ã¦åˆ†ã‹ã‚‹ã“ã¨ã ï¼å‹ã‚·ãƒãƒ‹ãƒ ã§ã¯ï¼Œå‹ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ãã‚ŒãŒã©ã†ã„ã†å‹ã‚’å…ƒã«ã—ã¦ã„ãŸã‹åˆ†ã‹ã‚‹ãŒï¼Œä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã§è¦³æ¸¬ã§ãã‚‹ã®ã¯æ–°ãŸã«ä½œã‚‰ã‚ŒãŸãƒ‡ãƒ¼ã‚¿å‹ãŒã‚ã‚‹ã“ã¨ã ã‘ã ï¼ã“ã®é•ã„ã¯ï¼Œä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã¨å‹ã‚·ãƒãƒ‹ãƒ ã®åˆ¶ç´„ã®é•ã„ã«è¡¨ã‚Œã¦ãã‚‹ï¼ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã§ã¯ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã®æ™‚ã«æŒ™ã’ãŸã‚ˆã†ãªåˆ¶ç´„ã¯ãªã„ï¼</p>
<p>ä¾‹ãˆã°ï¼Œä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã¯å‹ã‚·ãƒãƒ‹ãƒ ã¨åŒæ§˜ï¼Œãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ã¨ã‚‹ã“ã¨ãŒã§ãï¼Œã•ã‚‰ã«éƒ¨åˆ†é©ç”¨ã‚‚å¯èƒ½ã  <a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a><span class="ascii">:</span></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">data</span> <span class="dt">Apply</span> f a <span class="ot">=</span> <span class="dt">Apply</span> (f a)</a>
<a class="sourceLine" id="cb17-2" title="2"><span class="kw">type</span> <span class="dt">ApplyMaybe</span> <span class="ot">=</span> <span class="dt">Apply</span> <span class="dt">Maybe</span></a></code></pre></div>
<p>ã“ã‚Œã¯ <span class="ascii">Haskell</span> ã®æ­£ã—ã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ãªã‚‹ï¼<code>Apply</code> ã¯ï¼Œ<span class="ascii">2</span>ã¤ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ã¨ã‚‹å‹ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«ãªã£ã¦ã„ã¦ï¼Œãƒ‡ãƒ¼ã‚¿å‹ <code>Apply f a</code> ã®å€¤ã‚’ä½œã‚‹æ–¹æ³•ã¨ã—ã¦ï¼Œ<code>f a</code> å‹ã®å€¤ã‹ã‚‰å€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ <code>Apply :: f a -&gt; Apply f a</code> ã‚’é€šã™æ–¹æ³•ãŒã‚ã‚‹ï¼<code>ApplyMaybe</code> ã¯ <code>Apply Maybe</code> ã®å‹ã‚·ãƒãƒ‹ãƒ ã«ãªã£ã¦ã„ã¦ï¼Œã“ã‚Œã‚’ä½¿ãˆã° <code>Apply Maybe Int</code> ã¨æ›¸ãä»£ã‚ã‚Šã« <code>ApplyMaybe Int</code> ã¨æ›¸ã‘ã‚‹ã‚ˆã†ã«ãªã‚‹ï¼<code>ApplyMaybe</code> ã®å®šç¾©ã¯ï¼Œ<code>Apply</code> ã«å¯¾ã—ã¦<span class="ascii">1</span>ã¤ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã—ã‹æ¸¡ã—ã¦ã„ãªã„ï¼ã«ã‚‚é–¢ã‚ã‚‰ãšæ­£ã—ã„ã¨ã„ã†ã®ãŒï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã¨ç•°ãªã‚‹ç‚¹ã«ãªã‚‹ï¼</p>
<p>å†å¸°çš„ãªãƒ‡ãƒ¼ã‚¿å‹ã‚’ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã§å®šç¾©ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã <span class="ascii">:</span></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb18-1" title="1"><span class="kw">data</span> <span class="dt">List</span> a</a>
<a class="sourceLine" id="cb18-2" title="2">  <span class="ot">=</span> <span class="dt">Cons</span> a (<span class="dt">List</span> a)</a>
<a class="sourceLine" id="cb18-3" title="3">  <span class="op">|</span> <span class="dt">Nil</span></a></code></pre></div>
<p>ãƒ‡ãƒ¼ã‚¿å‹ <code>List a</code> ã¯ <code>a</code> å‹ã®è¦ç´ ã‚’æŒã¤å˜é€£çµãƒªã‚¹ãƒˆã‚’è¡¨ã™ï¼å€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãŒ <code>List a</code> å‹ã®å€¤ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒãƒã‚¤ãƒ³ãƒˆã ï¼å‹ã‚·ãƒãƒ‹ãƒ ã§ã¯ï¼Œãã®å‹ã®å®šç¾©ã«è‡ªèº«ã‚’å«ã‚ã‚‹ã“ã¨ã¯ã§ããªã‹ã£ãŸï¼ã“ã‚Œã¯å®Ÿéš›ã®å…·ä½“çš„ãªå‹ã‚’æ±‚ã‚ã‚ˆã†ã¨ã—ãŸæ™‚ï¼Œãã®è¨ˆç®—ãŒæ°¸é ã«çµ‚ã‚ã‚‰ãªããªã£ã¦ã—ã¾ã†ã‹ã‚‰ã ã£ãŸï¼ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ <code>List a</code> ã§ã¯ãã®å‹ã¯å˜ã«æ–°ã—ã„å‹ã¨ã—ã¦ä½œã‚‰ã‚Œï¼Œå®Ÿéš›ã«ãã®å‹ã®å€¤ãŒã©ã†ã„ã†å‹ã®å€¤ã«ã‚ˆã£ã¦æ§‹æˆã•ã‚Œã¦ã„ã‚‹ã‹çŸ¥ã‚‹å¿…è¦ã¯ãªã„ï¼<code>List a</code> ã¯ãã‚Œè‡ªä½“ãŒå…·ä½“çš„ãªå‹ã§ã‚ã‚Š <a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a> ï¼Œãã‚Œä»¥ä¸Šè¨ˆç®—ã™ã‚‹å¿…è¦ã¯ãªã„ã‹ã‚‰ã ï¼ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã«ãŠã„ã¦ï¼Œå®šç¾©ã•ã‚ŒãŸå‹ã¨ãã®å‹ã®å€¤ã‚’ä½œã‚‹æ–¹æ³•ã¯åˆ†é›¢ã•ã‚Œã¦ã„ã‚‹ï¼ãã®ãŸã‚ï¼Œãƒ‡ãƒ¼ã‚¿å‹ã®è¨ˆç®—ã«ãŠã„ã¦ãã®å‹ã®å€¤ã‚’ä½œã‚‹æ–¹æ³•ã¯è€ƒæ…®ã•ã‚Œãªã„ï¼ã‚ˆã£ã¦ï¼Œè‡ªèº«ãŒå®šç¾©ä¸­ã§ç”¨ã„ã‚‰ã‚Œã¦ã‚‚ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã®ã‚ˆã†ã«ãƒ‡ãƒ¼ã‚¿å‹ã®è¨ˆç®—ãŒæ°¸é ã«çµ‚ã‚ã‚‹ã“ã¨ãŒãªã„ã¨ã„ã†ã“ã¨ã¯ãªã„ãŸã‚ï¼Œãã®æ“ä½œãŒè¨±å®¹ã•ã‚Œã¦ã„ã‚‹ï¼</p>
<p>ã‚‚ã¡ã‚ã‚“ï¼Œæ–°ã—ã„å‹ãŒå®šç¾©ã•ã‚Œã‚‹ãŸã‚ï¼Œå‹ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æ··ä¹±ãªãå®šç¾©ã§ãã‚‹ï¼ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã‚’ä½œæˆã—ãŸæ™‚ï¼ŒåŸºæœ¬çš„ãªã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã¯ <span class="ascii">Haskell</span> ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã«ãŠã„ã¦ã‚ˆãã‚ã‚‹ã“ã¨ã ï¼<span class="ascii">Haskell</span> ã§ã¯ï¼Œè¨€èªæ©Ÿèƒ½ã¨ã—ã¦ãã‚Œã‚’æ”¯æ´ã™ã‚‹æ©Ÿèƒ½ãŒã‚ã‚‹ï¼ãã‚Œã¯ï¼Œ<code>deriving</code> æ§‹æ–‡ã¨ã„ã†ã‚‚ã®ã§ï¼Œ<code>Eq</code> <span class="ascii">/</span> <code>Ord</code> ãªã©ã®æ¨™æº–çš„ãªå‹ã‚¯ãƒ©ã‚¹ã‚’ï¼Œãƒ‡ãƒ¼ã‚¿å‹ã®å®šç¾©ã‹ã‚‰è‡ªå‹•ã§å°å‡ºã—ã¦ãã‚Œã‚‹ï¼ä¾‹ãˆã°ï¼Œ<code>List a</code> ã«å¯¾ã—ã¦ä½¿ã£ã¦ã¿ã‚‹ã¨ï¼Œä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb19-1" title="1"><span class="kw">data</span> <span class="dt">List</span> a</a>
<a class="sourceLine" id="cb19-2" title="2">  <span class="ot">=</span> <span class="dt">Cons</span> a (<span class="dt">List</span> a)</a>
<a class="sourceLine" id="cb19-3" title="3">  <span class="op">|</span> <span class="dt">Nil</span></a>
<a class="sourceLine" id="cb19-4" title="4">  <span class="kw">deriving</span> (<span class="dt">Eq</span>, <span class="dt">Ord</span>, <span class="dt">Show</span>)</a></code></pre></div>
<p>ã“ã®ã‚ˆã†ã«ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã¯ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã§ã¯å®šç¾©ã§ããªã‹ã£ãŸãƒ‡ãƒ¼ã‚¿å‹ã‚’å®šç¾©ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼ãã—ã¦ï¼Œä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã¯å…¨ãæ–°ã—ã„å‹ã‚’ä½œã‚‹ã“ã¨ã‚‚ã§ãã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb20-1" title="1"><span class="kw">data</span> <span class="dt">Nat</span></a>
<a class="sourceLine" id="cb20-2" title="2">  <span class="ot">=</span> <span class="dt">Succ</span> <span class="dt">Nat</span></a>
<a class="sourceLine" id="cb20-3" title="3">  <span class="op">|</span> <span class="dt">Zero</span></a></code></pre></div>
<p>ã“ã®ãƒ‡ãƒ¼ã‚¿å‹ <code>Nat</code> ã¯ï¼Œä»–ã®å‹ã«ã¯ä¾å­˜ã—ãªã„å…¨ãæ–°ã—ã„å‹ã ï¼ã“ã®ã‚ˆã†ã«ï¼Œä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã¯å‹ã‚·ãƒãƒ‹ãƒ ã¨ç•°ãªã‚Šå…¨ãæ–°ã—ã„æ§‹é€ ã‚’ä½œã‚Šå‡ºã™ã“ã¨ãŒã§ãã‚‹ï¼</p>
<p>ãŸã ï¼Œãã®ä»£ã‚ã‚Šæ—¢å­˜ã®é–¢æ•°ã‚’æµç”¨ã§ããªããªã£ã¦ã—ã¾ã†å ´åˆãŒã‚ã‚‹ï¼ä¾‹ãˆã°ï¼Œ</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb21-1" title="1"><span class="kw">data</span> <span class="dt">Tuple</span> a b <span class="ot">=</span> <span class="dt">Tuple</span> a b</a></code></pre></div>
<p>ã¯ï¼Œ<code>(a, b)</code> ã¨æ§‹é€ ãŒåŒã˜ã§ã‚ã‚Šï¼Œ<code>(a, b)</code> ã«å¯¾ã™ã‚‹é–¢æ•° <code>fst :: (a, b) -&gt; a</code> ã‚’é©ç”¨ã§ãã¦ã‚‚ã„ã„ã¯ãšã ï¼ã¨ã“ã‚ãŒï¼Œãƒ‡ãƒ¼ã‚¿å‹ <code>Tuple a b</code> ã¨ãã®å€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¯å‹ã‚·ã‚¹ãƒ†ãƒ ä¸Šã¯åˆ‡ã‚Šé›¢ã•ã‚Œã¦ã„ã‚‹ãŸã‚ï¼Œè‡ªèº«ã®å€¤ãŒ <code>(a, b)</code> ã®å€¤ã¨åŒã˜æ–¹æ³•ã§ã—ã‹æ§‹æˆã§ããªã„ã“ã¨ã‚’çŸ¥ã‚‰ãªã„ï¼<code>Tuple a b</code> ã¨ <code>(a, b)</code> ã«ãŠã„ã¦å‹ä¸Šã§è¨€åŠã§ãã‚‹ã“ã¨ã¯ï¼Œãã‚Œã‚‰ãŒç•°ãªã‚‹å‹ã§ã‚ã‚‹ã¨ã„ã†ã“ã¨ã ã‘ã ï¼ãªã®ã§ï¼Œ<code>fst</code> ã« <code>Tuple a b</code> å‹ã®å€¤ã‚’æ¸¡ã™ã“ã¨ã¯ã§ããªã„ï¼ã“ã‚Œã¯ï¼Œã‚‚ã—å‹ã‚·ãƒãƒ‹ãƒ ã‚’ä½¿ã£ã¦ï¼Œ</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb22-1" title="1"><span class="kw">type</span> <span class="dt">Tuple</span> a b <span class="ot">=</span> (a, b)</a></code></pre></div>
<p>ã¨å®šç¾©ã—ãŸå ´åˆã¯è§£æ±ºã™ã‚‹å•é¡Œã  <a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a>ï¼</p>
<p>ã“ã®ã‚ˆã†ã«ä¸¡è€…ã«ã¯ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ãŒã‚ã‚Šï¼Œåˆ©ç”¨ç›®çš„ã«åˆã£ãŸä½¿ã„åˆ†ã‘ã‚’ã™ã‚‹ã®ãŒã„ã„ã ã‚ã†ï¼</p>
<p>ã•ã¦ï¼Œ<code>data</code> å®£è¨€ã®æ§‹æ–‡ã¯ä»–ã«<span class="ascii">2</span>ã¤ï¼Œä¾¿åˆ©ãªæ©Ÿèƒ½ãŒã‚ã‚‹ï¼</p>
<p><span class="ascii">1</span>ã¤ã¯æ­£æ ¼æ€§ãƒ•ãƒ©ã‚°ã¨å‘¼ã°ã‚Œã‚‹æ©Ÿèƒ½ã§ï¼Œå€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«ãŠã„ã¦å¼•æ•°ã‚’æ­£æ ¼ã«è©•ä¾¡ã™ã‚‹ã“ã¨ã‚’å¼·åˆ¶ã§ãã‚‹ï¼ä¾‹ãˆã°ï¼Œ</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb23-1" title="1"><span class="kw">data</span> <span class="dt">StrictTuple</span> a b <span class="ot">=</span> <span class="dt">StrictTuple</span> <span class="op">!</span>a <span class="op">!</span>b</a></code></pre></div>
<p>ã¨ã„ã†ã‚ˆã†ã«ï¼Œæ­£æ ¼æ€§ãƒ•ãƒ©ã‚° <code>!</code> ã‚’ä½¿ã£ãŸå®šç¾©ã‚’è¡Œã†ã¨ï¼Œå€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ <code>StrictTuple :: a -&gt; b -&gt; StrictTuple</code> ã¯ãã®å¼•æ•°ã‚’æ­£æ ¼ã«è©•ä¾¡ã—ã¦ã‹ã‚‰æ ¼ç´ã™ã‚‹ã‚ˆã†ã«ãªã‚‹ï¼é€šå¸¸ï¼Œ</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb24-1" title="1"><span class="kw">data</span> <span class="dt">Tuple</span> a b <span class="ot">=</span> <span class="dt">Tuple</span> a b</a></code></pre></div>
<p>ã®ã‚ˆã†ã«æ­£æ ¼æ€§ãƒ•ãƒ©ã‚°ã‚’ä½¿ã‚ãªã„å®šç¾©ã§ã¯ï¼Œ</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb25-1" title="1"><span class="op">&gt;&gt;&gt;</span> <span class="kw">case</span> <span class="dt">Tuple</span> <span class="fu">undefined</span> <span class="fu">undefined</span> <span class="kw">of</span> <span class="dt">Tuple</span> _ _ <span class="ot">-&gt;</span> ()</a>
<a class="sourceLine" id="cb25-2" title="2">()</a></code></pre></div>
<p>ã®ã‚ˆã†ã«å€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¯å—ã‘å–ã£ãŸå¼•æ•°ã®è©•ä¾¡ã‚’è¡Œã‚ãšï¼Œç´ ç›´ã«ãã®ã¾ã¾ã®å½¢ã§é…å»¶ã•ã›ã¦æ ¼ç´ã™ã‚‹ãŸã‚ï¼Œã‚¨ãƒ©ãƒ¼ã‚’å‡ºã™å¼ã‚’æ¸¡ã—ã¦ã‚‚ãã®å¼ã®è©•ä¾¡ã‚’è¡Œã‚ãªã„é™ã‚Šã‚¨ãƒ©ãƒ¼ã«ã¯ãªã‚‰ãªã„ï¼ã“ã‚Œã¯é€šå¸¸ã®é–¢æ•°ã®å‹•ä½œã¨åŒã˜ã«ãªã‚‹ï¼ã¨ã“ã‚ãŒï¼Œæ­£æ ¼æ€§ãƒ•ãƒ©ã‚°ã‚’ä½¿ç”¨ã—ãŸ <code>StrictTuple</code> ã®å ´åˆï¼Œ</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb26-1" title="1"><span class="op">&gt;&gt;&gt;</span> <span class="kw">case</span> <span class="dt">StrictTuple</span> <span class="fu">undefined</span> <span class="fu">undefined</span> <span class="kw">of</span> <span class="dt">StrictTuple</span> _ _ <span class="ot">-&gt;</span> ()</a>
<a class="sourceLine" id="cb26-2" title="2"><span class="op">***</span> <span class="dt">Exception</span><span class="op">:</span> Prelude.undefined</a></code></pre></div>
<p>ã®ã‚ˆã†ã«å¼•æ•°ã®è©•ä¾¡ã‚’è¡Œã†ãŸã‚ï¼Œã‚¨ãƒ©ãƒ¼ã‚’å‡ºã™å¼ã‚’å—ã‘å–ã£ãŸå ´åˆå€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®é©ç”¨ã«ãŠã„ã¦ãã®å¼ã‚’è©•ä¾¡ã—ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã™ï¼ãƒ‡ãƒ¼ã‚¿å‹ã‚’ä½œæˆã™ã‚‹éš›ï¼Œãã®å…ƒã¨ãªã‚‹å¼ã®è©•ä¾¡ã‚’å¼·åˆ¶ã•ã›ã‚‹ã“ã¨ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«å¤§ããå¯„ä¸ã™ã‚‹ï¼ãã®ãŸã‚ï¼Œãã®ã‚ˆã†ãªã“ã¨ã‚’æ”¯æ´ã™ã‚‹ãŸã‚ã«æ­£æ ¼æ€§ãƒ•ãƒ©ã‚°ã¯è¨­ã‘ã‚‰ã‚Œã¦ã„ã‚‹ï¼</p>
<p>ã¾ãŸï¼Œä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã®å€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¯ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã‚’æŒã¤ã“ã¨ãŒã§ãã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb27-1" title="1"><span class="kw">data</span> <span class="dt">Tuple</span> a b <span class="ot">=</span> <span class="dt">Tuple</span></a>
<a class="sourceLine" id="cb27-2" title="2">  {<span class="ot"> firstVal  ::</span> a</a>
<a class="sourceLine" id="cb27-3" title="3">  ,<span class="ot"> secondVal ::</span> b</a>
<a class="sourceLine" id="cb27-4" title="4">  }</a></code></pre></div>
<p>ã“ã®å ´åˆï¼Œå‹ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ <code>Tuple</code>ï¼Œå€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ <code>Tuple :: a -&gt; b -&gt; Tuple a b</code> ã®ä»–ã«ï¼Œé–¢æ•° <code>firstVal :: Tuple a b -&gt; a</code>ï¼Œ <code>secondVal :: Tuple a b -&gt; b</code> ãŒä½œã‚‰ã‚Œã‚‹ï¼ã¾ãŸï¼Œå€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®å‘¼ã³å‡ºã—ã«ãŠã„ã¦ç‰¹åˆ¥ãªãƒ¬ã‚³ãƒ¼ãƒ‰æ§‹æ–‡ <code>Tuple { firstVal = 0, secondVal = 1 }</code> ã‚’ä½¿ç”¨ã§ãï¼Œã¾ãŸãƒ¬ã‚³ãƒ¼ãƒ‰æ›´æ–°æ§‹æ–‡ <code>(Tuple 2 1) { firstVal = 0 }</code> ã‚’ä½¿ç”¨ã§ãã‚‹ï¼ã“ã‚Œã‚‰ã¯ä¸¡è€… <code>Tuple 0 1</code> ã¨åŒæ§˜ã®å€¤ãŒä½œæˆã•ã‚Œã‚‹ï¼</p>
<h2 id="ã‚ã‚‹å‹ã‚’å…ƒã«æ–°ãŸãªå‹ã‚’ä½œã‚‹-datatype-renaming"><span class="link-to-here-outer"><a href="#ã‚ã‚‹å‹ã‚’å…ƒã«æ–°ãŸãªå‹ã‚’ä½œã‚‹-datatype-renaming" title="ã‚ã‚‹å‹ã‚’å…ƒã«æ–°ãŸãªå‹ã‚’ä½œã‚‹-datatype-renaming"><span class="link-to-here">Link to<br />
here</span></a></span>ã‚ã‚‹å‹ã‚’å…ƒã«æ–°ãŸãªå‹ã‚’ä½œã‚‹ <span class="ascii">(Datatype Renaming)</span></h2>
<p>ã•ã¦ï¼Œã“ã‚Œã¾ã§è¦‹ã¦ããŸã‚ˆã†ã«ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã¯å‹ã®åˆ¥åã‚’å®šç¾©ã—ï¼Œä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã¯å‹ã®ç©å’Œã«ã‚ˆã‚Šæ–°ãŸãªãƒ‡ãƒ¼ã‚¿å‹ã‚’å®šç¾©ã™ã‚‹ã‚‚ã®ã ã£ãŸï¼<span class="ascii">Haskell</span> ã«ã¯ã‚‚ã†<span class="ascii">1</span>ã¤ãƒ‡ãƒ¼ã‚¿å‹ã‚’å®šç¾©ã™ã‚‹æ–¹æ³•ãŒã‚ã‚‹ï¼ãã‚ŒãŒ <code>newtype</code> å®£è¨€ã ï¼ã“ã®å®£è¨€ã«ã‚ˆã£ã¦ä½œã‚‰ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿å‹ã¯ï¼Œå‹ã‚·ã‚¹ãƒ†ãƒ ä¸Šã¯ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã¨åŒã˜ã‚ˆã†ã«æ‰±ã‚ã‚Œï¼Œå®Ÿè¡Œæ™‚ã¯å‹ã‚·ãƒãƒ‹ãƒ ã¨åŒæ§˜ã®å‹•ä½œã‚’ã™ã‚‹ï¼</p>
<p><code>newtype</code> å®£è¨€ã®æ§‹æ–‡ã¯ï¼Œ<code>data</code> å®£è¨€ã¨åŒã˜ã‚ˆã†ãªå½¢ã‚’ã—ã¦ã„ã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb28-1" title="1"><span class="kw">newtype</span> <span class="dt">Identity</span> a <span class="ot">=</span> <span class="dt">Identity</span> a</a></code></pre></div>
<p>ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã‚’ã¤ã‘ã‚‹ã“ã¨ã‚‚ã§ãã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb29-1" title="1"><span class="kw">newtype</span> <span class="dt">Identity</span> a <span class="ot">=</span> <span class="dt">Identity</span></a>
<a class="sourceLine" id="cb29-2" title="2">  {<span class="ot"> unIdentity ::</span> a</a>
<a class="sourceLine" id="cb29-3" title="3">  }</a></code></pre></div>
<p>ã“ã®å ´åˆ <code>data</code> å®£è¨€ã¨åŒæ§˜ã«ï¼Œå‹ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ <code>Identity</code>ï¼Œå€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ <code>Identity</code> ãŒä½œã‚‰ã‚Œã‚‹ã“ã¨ã«ãªã‚‹ï¼ãŸã ã—ï¼Œ<code>data</code> å®£è¨€ã¨ç•°ãªã‚Š <code>newtype</code> ã¯ç©å’Œã®æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã¯ã§ããªã„ï¼å˜ã«ã‚ã‚‹<span class="ascii">1</span>ã¤ã®å‹ã‚’å—ã‘å–ã‚‹å€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã—ã‹å®šç¾©ã§ããªã„ï¼ãªã®ã§ï¼Œ</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb30-1" title="1"><span class="kw">newtype</span> <span class="dt">Unit</span> <span class="ot">=</span> <span class="dt">Unit</span></a>
<a class="sourceLine" id="cb30-2" title="2"><span class="kw">newtype</span> <span class="dt">Tuple</span> a b <span class="ot">=</span> <span class="dt">Tuple</span> a b</a>
<a class="sourceLine" id="cb30-3" title="3"><span class="kw">newtype</span> <span class="dt">Enum</span> <span class="ot">=</span> <span class="dt">A</span> <span class="op">|</span> <span class="dt">B</span> <span class="op">|</span> <span class="dt">C</span></a></code></pre></div>
<p>ã¯ã„ãšã‚Œã‚‚å—ã‘å…¥ã‚Œã‚‰ã‚Œãªã„ï¼ã“ã® <code>newtype</code> ã®åˆ¶ç´„ã¯ã„ã¾ã„ã¡ã‚ˆãåˆ†ã‹ã‚‰ãªã„ï¼ã§ã¯ï¼Œã“ã®ã‚ˆã†ãªåˆ¶ç´„ã«ã‚ˆã‚Šã©ã®ã‚ˆã†ãªé•ã„ãŒå‡ºã‚‹ã®ã ã‚ã†ã‹ï¼Ÿ <code>newtype</code> ã¨ <code>data</code> ã¯å‹ã‚·ã‚¹ãƒ†ãƒ ä¸Šã¯é•ã„ã¯ãªã„ï¼ã—ã‹ã—ï¼Œãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã®å‹•ä½œãªã©ï¼Œå®Ÿè¡Œæ™‚ã®å‹•ä½œã«å°‘ã—å·®ç•°ãŒè¨­ã‘ã‚‰ã‚Œã¦ã„ã‚‹ï¼ä¾‹ãˆã°ï¼Œé€šå¸¸</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb31-1" title="1"><span class="kw">data</span> <span class="dt">DataIdentity</span> a <span class="ot">=</span> <span class="dt">DataIdentity</span> a</a></code></pre></div>
<p>ã«ãŠã„ã¦ï¼Œ</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb32-1" title="1"><span class="op">&gt;&gt;&gt;</span> <span class="kw">case</span><span class="ot"> undefined ::</span> <span class="dt">DataIdentity</span> () <span class="kw">of</span> <span class="dt">DataIdentity</span> _ <span class="ot">-&gt;</span> ()</a>
<a class="sourceLine" id="cb32-2" title="2"><span class="op">***</span> <span class="dt">Exception</span><span class="op">:</span> Prelude.undefined</a></code></pre></div>
<p>ã®ã‚ˆã†ã«ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã™å¼ã‚’ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã§åˆ†è§£ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ãŒå‡ºåŠ›ã•ã‚Œã‚‹ï¼ã¨ã“ã‚ãŒï¼Œ<code>newtype</code> ã«ã‚ˆã£ã¦ä½œã‚‰ã‚ŒãŸå€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®å ´åˆï¼Œ</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb33-1" title="1"><span class="op">&gt;&gt;&gt;</span> <span class="kw">case</span><span class="ot"> undefined ::</span> <span class="dt">Identity</span> () <span class="kw">of</span> <span class="dt">Identity</span> _ <span class="ot">-&gt;</span> ()</a>
<a class="sourceLine" id="cb33-2" title="2">()</a></code></pre></div>
<p>ã®ã‚ˆã†ã«ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒæ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒå‡ºã•ã‚Œã‚‹ã“ã¨ã¯ãªã„ï¼<span class="ascii">Haskell</span> ã§ã¯ <code>newtype</code> ã§ä½œã‚‰ã‚ŒãŸå€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãŒå®Ÿè¡Œå‹•ä½œã«å½±éŸ¿ã™ã‚‹ã“ã¨ã¯ãªã„ã¨è¦å®šã•ã‚Œã¦ã„ã‚‹ï¼ã‚ˆã£ã¦ï¼Œä¸Šã®ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã¯ï¼Œä»¥ä¸‹ã¨åŒæ§˜ã®å‹•ãã‚’ã™ã‚‹ã“ã¨ã«ãªã£ã¦ã„ã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb34"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb34-1" title="1"><span class="op">&gt;&gt;&gt;</span> <span class="kw">case</span><span class="ot"> undefined ::</span> <span class="dt">Identity</span> () <span class="kw">of</span> _ <span class="ot">-&gt;</span> ()</a>
<a class="sourceLine" id="cb34-2" title="2">()</a></code></pre></div>
<p>ã“ã®ã‚ˆã†ã«å€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’æŒ‡å®šã—ãªã„ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã®å ´åˆï¼Œ<code>data</code> å®£è¨€ã§ä½œã‚‰ã‚ŒãŸã‚‚ã®ã‚‚ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã•ãªã„<span class="ascii">:</span></p>
<div class="sourceCode" id="cb35"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb35-1" title="1"><span class="op">&gt;&gt;&gt;</span> <span class="kw">case</span><span class="ot"> undefined ::</span> <span class="dt">DataIdentity</span> () <span class="kw">of</span> _ <span class="ot">-&gt;</span> ()</a>
<a class="sourceLine" id="cb35-2" title="2">()</a></code></pre></div>
<p>ã‚ˆã£ã¦ï¼Œ<code>data</code> ã¨ <code>newtype</code> ã§ä½œã‚‰ã‚ŒãŸå€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®å‹•ä½œãŒç•°ãªã‚‹ã®ã¯ï¼Œãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã«ãŠã„ã¦å€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’æŒ‡å®šã—ãŸå ´åˆã ã‘ã¨ã„ã†ã“ã¨ã«ãªã‚‹ï¼</p>
<p>ã§ã¯ï¼Œ<code>newtype</code> ã¯ãªãœå€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’ç„¡è¦–ã™ã‚‹ã‚ˆã†è¦å®šã•ã‚Œã¦ã„ã‚‹ã®ã ã‚ã†ï¼Ÿ ã“ã‚Œã¯ï¼Œ<code>newtype</code> ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å‹ãŒå®Ÿè¡Œæ™‚ã®å‹•ä½œã¨ã—ã¦å‹ã‚·ãƒãƒ‹ãƒ ã¨åŒæ§˜ã®å‹•ä½œã‚’ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã—ã¦ã„ã‚‹ã‹ã‚‰ã ï¼å€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãŒç„¡è¦–ã•ã‚Œã‚‹ã®ã¯ï¼Œ</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb36-1" title="1"><span class="kw">newtype</span> <span class="dt">Identity</span> a <span class="ot">=</span> <span class="dt">Identity</span> a</a></code></pre></div>
<p>ã¨ã„ã†å®£è¨€ã¯ï¼Œ</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb37-1" title="1"><span class="kw">type</span> <span class="dt">IdentitySynonym</span> a <span class="ot">=</span> a</a></code></pre></div>
<p>ã¨ã„ã†å®£è¨€ã¨åŒæ§˜ã®æ„å‘³ã‚’æŒã£ã¦æ¬²ã—ã„ã“ã¨ã‚’ <span class="ascii">Haskell</span> ã®è¨­è¨ˆè€…ãŒæ„å›³ã—ã¦ã„ã‚‹ã‹ã‚‰ã ï¼ã‚ˆã£ã¦ï¼Œ</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb38-1" title="1"><span class="op">&gt;&gt;&gt;</span> <span class="kw">case</span><span class="ot"> undefined ::</span> <span class="dt">Identity</span> () <span class="kw">of</span> <span class="dt">Identity</span> _ <span class="ot">-&gt;</span> ()</a>
<a class="sourceLine" id="cb38-2" title="2">()</a></code></pre></div>
<p>ã®å‹•ä½œã¯ï¼Œ</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb39-1" title="1"><span class="op">&gt;&gt;&gt;</span> <span class="kw">case</span><span class="ot"> undefined ::</span> <span class="dt">IdentitySynonym</span> () <span class="kw">of</span> _ <span class="ot">-&gt;</span> ()</a>
<a class="sourceLine" id="cb39-2" title="2">()</a></code></pre></div>
<p>ã®ã‚ˆã†ã«ï¼Œä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã§ã¯ãªãå‹ã‚·ãƒãƒ‹ãƒ ã«åˆã‚ã›ã¦ã‚ã‚‹ãŸã‚ï¼Œ<code>data</code> å®£è¨€ä¸»ä½“ã«è¦‹ã‚‹ã¨ä¸€è¦‹ä¸æ€è­°ãªå‹•ä½œã‚’ã—ã¦ã„ãŸã¨ã„ã†ã‚ã‘ã ï¼</p>
<p>ã•ã¦ï¼Œã§ã¯ãªãœã‚ã–ã‚ã–å‹ã‚·ãƒãƒ‹ãƒ ã¨ã¯åˆ¥ã« <code>newtype</code> å®£è¨€ã‚’å°å…¥ã—ãŸã®ã ã‚ã†ã‹ï¼Ÿ å‹ã‚·ãƒãƒ‹ãƒ ã«ã¯å¹¾ã¤ã‹åˆ¶ç´„ãŒã‚ã£ãŸã®ã‚’æ€ã„å‡ºã—ã¦æ¬²ã—ã„ï¼ãã—ã¦ï¼Œãã‚Œã‚‰ã®åˆ¶ç´„ã¯ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã§ã¯è§£æ±ºã•ã‚ŒãŸã®ã ã£ãŸï¼ãã‚Œã¯ <code>type</code> å®£è¨€ãŒå˜ã«å‹ã®åˆ¥åã‚’å°å…¥ã™ã‚‹ã®ã«å¯¾ã—ï¼Œ<code>data</code> å®£è¨€ãŒå®Œå…¨ã«æ–°ãŸãªå‹ã‚’ä½œã‚‹ã‹ã‚‰ã ã£ãŸï¼<code>newtype</code> ã¯ãã®ç‚¹ã«ç€ç›®ã—ï¼Œå®Ÿè¡Œæ™‚ã«ã¯å˜ãªã‚‹åˆ¥åã¨ã—ã¦å‹•ä½œã™ã‚‹ãŒå‹ã‚·ã‚¹ãƒ†ãƒ ä¸Šã¯å®Œå…¨ã«åˆ¥ã®æ–°ãŸãªå‹ã‚’å°å…¥ã™ã‚‹ã“ã¨ã§ï¼Œ<code>type</code> å®£è¨€åŒæ§˜ã‚ã‚‹å‹ã®åˆ¥åã‚’ä½œã‚ŠãŸã„ã‚‚ã®ã®å‹ã‚·ãƒãƒ‹ãƒ ã®åˆ¶ç´„ã¯å›é¿ã—ãŸã„éœ€è¦ã‚’æº€ãŸã™ã‚ˆã†ã«ã—ãŸã‚‚ã®ã ï¼</p>
<p>ä¾‹ãˆã°ï¼Œå¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã—ãªã„æ–‡å­—åˆ—ãƒ‡ãƒ¼ã‚¿ã‚’è€ƒãˆã¦ã¿ã‚ˆã†ï¼ã“ã®å ´åˆï¼Œ<code>"aBc" == "Abc"</code> ã§ã‚ã£ã¦æ¬²ã—ã„ãŒï¼Œã“ã‚Œã¯å‹ã‚·ãƒãƒ‹ãƒ ã§</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb40-1" title="1"><span class="kw">type</span> <span class="dt">CaseInsensString</span> <span class="ot">=</span> <span class="dt">String</span></a></code></pre></div>
<p>ã¨å®šç¾©ã™ã‚‹ã ã‘ã§ã¯ï¼Œ</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb41-1" title="1"><span class="op">&gt;&gt;&gt;</span> (<span class="st">&quot;aBc&quot;</span><span class="ot"> ::</span> <span class="dt">CaseInsensString</span>) <span class="op">==</span> (<span class="st">&quot;Abc&quot;</span><span class="ot"> ::</span> <span class="dt">CaseInsensString</span>)</a>
<a class="sourceLine" id="cb41-2" title="2"><span class="dt">False</span></a></code></pre></div>
<p>ã®ã¾ã¾ã ï¼ãã“ã§ï¼Œ<code>newtype</code> ã‚’ä½¿ã£ã¦ï¼Œ</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb42-1" title="1"><span class="kw">import</span> <span class="kw">qualified</span> <span class="dt">Data.Char</span> <span class="kw">as</span> <span class="dt">Char</span></a>
<a class="sourceLine" id="cb42-2" title="2"></a>
<a class="sourceLine" id="cb42-3" title="3"><span class="kw">newtype</span> <span class="dt">CaseInsensString</span> <span class="ot">=</span> <span class="dt">CaseInsens</span> <span class="dt">String</span></a>
<a class="sourceLine" id="cb42-4" title="4"></a>
<a class="sourceLine" id="cb42-5" title="5"><span class="kw">instance</span> <span class="dt">Eq</span> <span class="dt">CaseInsensString</span> <span class="kw">where</span></a>
<a class="sourceLine" id="cb42-6" title="6">  <span class="dt">CaseInsens</span> s1 <span class="op">==</span> <span class="dt">CaseInsens</span> s2 <span class="ot">=</span> go s1 s2</a>
<a class="sourceLine" id="cb42-7" title="7">    <span class="kw">where</span></a>
<a class="sourceLine" id="cb42-8" title="8">      go []       []       <span class="ot">=</span> <span class="dt">True</span></a>
<a class="sourceLine" id="cb42-9" title="9">      go []       (_<span class="op">:</span>_)    <span class="ot">=</span> <span class="dt">False</span></a>
<a class="sourceLine" id="cb42-10" title="10">      go (_<span class="op">:</span>_)    []       <span class="ot">=</span> <span class="dt">False</span></a>
<a class="sourceLine" id="cb42-11" title="11">      go (c1<span class="op">:</span>cs1) (c2<span class="op">:</span>cs2) <span class="ot">=</span> <span class="dt">Char</span><span class="op">.</span><span class="fu">toLower</span> c1 <span class="op">==</span> <span class="dt">Char</span><span class="op">.</span><span class="fu">toLower</span> c2 <span class="op">&amp;&amp;</span> go cs1 cs2</a></code></pre></div>
<p>ã¨ã™ã‚Œã°ï¼Œ</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb43-1" title="1"><span class="op">&gt;&gt;&gt;</span> <span class="dt">CaseInsens</span> <span class="st">&quot;aBc&quot;</span> <span class="op">==</span> <span class="dt">CaseInsens</span> <span class="st">&quot;Abc&quot;</span></a>
<a class="sourceLine" id="cb43-2" title="2"><span class="dt">True</span></a></code></pre></div>
<p>ã¨ã§ãã‚‹ï¼å‹ã‚·ãƒãƒ‹ãƒ ã¯å˜ãªã‚‹ <code>String</code> ã®åˆ¥åãªã®ã§ï¼Œ<code>String</code> ã¨ç•°ãªã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æ–°ã—ãå®šç¾©ã™ã‚‹ã“ã¨ã¯ã§ããªã„ï¼ãã‚Œã«å¯¾ã—ã¦ï¼Œ<code>newtype</code> ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å‹ã¯ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã¨åŒæ§˜ã«è‡ªç”±ã«å®šç¾©ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼ãã—ã¦ï¼Œå€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ <code>CaseInsens</code> ã¯å˜ãªã‚‹é£¾ã‚Šã§ã‚ã‚Šï¼Œå®Ÿè¡Œæ™‚ã«ã¯å®Œå…¨ã«ç„¡è¦–ã•ã‚Œã‚‹ãŸã‚ï¼Œ<code>CaseInsensString</code> ã¯å‹•ä½œã¨ã—ã¦ã¯ <code>String</code> ã®åˆ¥åã¨ã—ã¦ã¿ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼</p>
<p><code>newtype</code> ã¯å‹ã‚·ãƒãƒ‹ãƒ ã§ã®åˆ¶ç´„ã§ã‚ã£ãŸï¼Œ</p>
<ul>
<li>å†å¸°çš„ãªãƒ‡ãƒ¼ã‚¿å‹ãŒå®šç¾©ã§ããªã„</li>
<li>å‹ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«å¯¾ã™ã‚‹éƒ¨åˆ†é©ç”¨ãŒã§ããªã„</li>
</ul>
<p>ã¨ã„ã£ãŸå•é¡Œã‚‚è§£æ±ºã™ã‚‹ï¼ã“ã®ã‚ˆã†ã« <code>newtype</code> ã¯å‹ã‚·ãƒãƒ‹ãƒ ã®å•é¡Œã‚’æ”¹å–„ã—ãŸãƒ‡ãƒ¼ã‚¿å‹ã‚’å®šç¾©ã™ã‚‹ãŒï¼Œ<code>data</code> å®£è¨€ã¨åŒæ§˜å‹ã‚·ãƒãƒ‹ãƒ ã§ã¯èµ·ããªã‹ã£ãŸå•é¡Œã‚‚ä¸€ç·’ã«é¡•åœ¨åŒ–ã•ã›ã¦ã—ã¾ã†ï¼</p>
<p>ä¸Šã®ä¾‹ã§ï¼Œ<code>CaseInsens</code> ã¯é£¾ã‚Šã ã¨è¨€ã£ãŸãŒï¼Œå®Ÿéš›ã«ã¯ã“ã®å€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¯å¿…è¦ä¸å¯æ¬ ã§ã‚ã‚Šï¼Œé‡è¦ãªå½¹å‰²ã‚’æŒã£ã¦ã„ã‚‹ï¼ä¾‹ãˆã°ï¼Œ</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb44-1" title="1"><span class="op">&gt;&gt;&gt;</span> <span class="dt">CaseInsens</span> <span class="st">&quot;aBc&quot;</span> <span class="op">==</span> <span class="dt">CaseInsens</span> <span class="st">&quot;Abc&quot;</span></a>
<a class="sourceLine" id="cb44-2" title="2"><span class="dt">True</span></a></code></pre></div>
<p>ã®ä¾‹ã¯ï¼Œç‰‡æ–¹ã ã‘</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb45-1" title="1"><span class="op">&gt;&gt;&gt;</span> <span class="st">&quot;aBc&quot;</span> <span class="op">==</span> <span class="dt">CaseInsens</span> <span class="st">&quot;Abc&quot;</span></a></code></pre></div>
<p>ã¨ã—ã¦ã—ã¾ã†ã¨ï¼Œã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã†ï¼ãªãœãªã‚‰ï¼Œ<code>(==)</code> ã¯<span class="ascii">2</span>ã¤ã®å¼•æ•°ãŒåŒã˜å‹ã®å€¤ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šï¼Œ<code>"aBc"</code> ã®å‹ã§ã‚ã‚‹ <code>String</code> ã¨ <code>CaseInsens "Abc</code> ã®å‹ã§ã‚ã‚‹ <code>CaseInsensString</code> ã¯å…¨ãç•°ãªã‚‹å‹ã§ã‚ã‚‹ã‹ã‚‰ã ï¼ã¤ã¾ã‚Šï¼Œå€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ <code>CaseInsens</code> ã¯ï¼Œå®Ÿè¡Œæ™‚ã«ã¯ä½•ã®å½±éŸ¿ã‚‚ä¸ãˆãªã„ãŒï¼Œå‹ã‚·ã‚¹ãƒ†ãƒ ä¸Šã¯å…¨ãç•°ãªã‚‹å‹ã®å€¤ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã™ãƒãƒ¼ã‚«ãƒ¼ã¨ãªã‚‹ï¼ãã—ã¦ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã§ã¯ãƒ‡ãƒ¼ã‚¿å‹ã¯å˜ãªã‚‹åˆ¥åã§ã‚ã£ãŸãŒï¼Œ<code>newtype</code> ã¯ <code>data</code> ã¨åŒæ§˜å…¨ãæ–°ãŸãªå‹ã¨ã—ã¦å°å…¥ã™ã‚‹é“ã‚’é¸ã‚“ã ãŸã‚ï¼Œå…ƒã®å‹ã¨ã—ã¦å—ã‘å…¥ã‚Œã¦ã‚‚ã‚‰ã†ã“ã¨ãŒå‡ºæ¥ãªããªã£ã¦ã—ã¾ã£ãŸã®ã ï¼</p>
<p>ã¨ã„ã£ã¦ã‚‚ï¼Œã“ã‚Œã¯ä¸€é•·ä¸€çŸ­ã§ã‚ã‚‹ï¼<code>data</code> ã¨åŒæ§˜ <code>newtype</code> ã§ä½œã‚‰ã‚ŒãŸå‹ã¯ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã®ã‚ˆã†ã«æ—¢å­˜ã®é–¢æ•°ã‚’ä½¿ã„å›ã™ã“ã¨ãŒã§ããªã„ï¼ãã®åé¢ï¼Œãƒ‡ãƒ¼ã‚¿ã®æ„å‘³ã«æ²¿ã‚ãªã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å‹ã«ã‚ˆã£ã¦å¼¾ãã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ç‚¹ã¯é•·æ‰€ã«ãªã‚‹å ´åˆã‚‚ã‚ã‚‹ï¼ä¾‹ãˆã°ï¼Œ<code>"aBc" == CaseInsens "Abc"</code> ã®ä¾‹ã¯ï¼Œä¸€ä½“ã©ã®ã‚ˆã†ãªçµæœã‚’è¿”ã™ã¹ãã‹ä¸€è¦‹ã—ã¦åˆ†ã‹ã‚‰ãªã„ï¼ä¸¡è€…ã¯å˜ãªã‚‹æ–‡å­—åˆ—ã¨ï¼Œå¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã—ãªã„æ–‡å­—åˆ—ã¨ã„ã†ç•°ãªã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ã—ã¦ãŠã‚Šï¼Œãã®æ¯”è¼ƒã¯å®šç¾©ã•ã‚Œãªã„ã¨ã™ã‚‹ã®ãŒè‡ªç„¶ã ã‚ã†ï¼ã“ã®ã‚ˆã†ãªå ´åˆã«ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã§ã¯å®šç¾©ã•ã‚Œãªã„ã“ã¨ã‚’è¡¨ã™æ–¹æ³•ã¯ãªã‹ã£ãŸãŒï¼Œ<code>newtype</code> ã¯å…ƒã®å‹ã¨ç•°ãªã‚‹å‹ã‚’æŒã¤ã®ã§ï¼Œãã®ã‚ˆã†ãªä»•çµ„ã¿ã‚’ä½œã‚‹ã“ã¨ãŒã§ãã‚‹ï¼</p>
<p>ã•ã¦ï¼Œ<code>newtype</code> ã«ãŠã„ã¦å€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¯å®Ÿè¡Œæ™‚ã«ä½•ã®å½±éŸ¿ã‚‚åŠã¼ã•ãªã„ã“ã¨ã¨ï¼Œä½•æ•…ãã†ãªã£ã¦ã„ã‚‹ã‹ã«ã¤ã„ã¦åˆ†ã‹ã£ã¦ã‚‚ã‚‰ãˆãŸã ã‚ã†ã‹ï¼Ÿ ã“ã®å½±éŸ¿ã¯ï¼Œãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒä»¥å¤–ã«ã‚‚è¡¨ã‚Œã‚‹ï¼ä¾‹ãˆã°ï¼Œ<code>newtype</code> ã®å€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«æ­£æ ¼æ€§ãƒ•ãƒ©ã‚°ã®æ©Ÿèƒ½ã¯ãªã„ï¼</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb46-1" title="1"><span class="kw">newtype</span> <span class="dt">StrictNewtype</span> <span class="ot">=</span> <span class="dt">StrictNewtype</span> <span class="op">!</span><span class="dt">Int</span></a></code></pre></div>
<p>ã¨ã„ã†ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ï¼Œ<span class="ascii">Haskell</span> ã§ã¯å—ã‘å…¥ã‚Œã‚‰ã‚Œãªã„ï¼ãªãœãªã‚‰ï¼Œã“ã‚Œã‚’å—ã‘å…¥ã‚ŒãŸå ´åˆï¼Œå€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãŒã‚ã‚‹ã‹ã©ã†ã‹ã«ã‚ˆã£ã¦å®Ÿè¡Œæ™‚ã®å‹•ä½œãŒå¤‰ã‚ã£ã¦ã—ã¾ã†ã‹ã‚‰ã ï¼ãŸã ï¼Œãã®ä»–ã® <code>data</code> å®£è¨€ã®æ©Ÿèƒ½ã¯ä½¿ç”¨ã§ãã‚‹ï¼<code>deriving</code> ã‚‚ä½¿ç”¨ã§ãã‚‹ï¼<code>newtype</code> ã§ä½œã‚‰ã‚ŒãŸãƒ‡ãƒ¼ã‚¿å‹ã¯ï¼Œå…ƒã®ãƒ‡ãƒ¼ã‚¿å‹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç¶™æ‰¿ã™ã‚‹ã“ã¨ã¯ã§ããªã„ï¼å…¨ãæ–°ãŸãªå‹ã‚’ä½œã£ãŸãŸã‚ï¼Œæ›´åœ°ã®çŠ¶æ…‹ã‹ã‚‰å§‹ã¾ã‚‹ï¼ãŸã ã—ï¼Œ<code>deriving</code> ã‚’ä½¿ã†ã“ã¨ã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”¨æ„ã«å°å‡ºã™ã‚‹ã“ã¨ã¯å¯èƒ½ã ï¼ãŸã ï¼Œæ¨™æº–ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã—ã‹è‡ªå‹•ã§å°å‡ºã§ããªã„ãŸã‚ï¼Œè‡ªèº«ã§å®šç¾©ã—ãŸå‹ã‚¯ãƒ©ã‚¹ãªã©ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ä¸€ã‹ã‚‰æ›¸ãå¿…è¦ãŒã‚ã‚‹ï¼ãã®ã“ã¨ã«ã¯ï¼Œæ³¨æ„ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã ã‚ã† <a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a>ï¼</p>
<p>æœ€å¾Œã«å°‘ã—å¿œç”¨çš„ãª <code>newtype</code> ã®ä½¿ã„æ–¹ã‚’ç´¹ä»‹ã—ã‚ˆã†ï¼<code>newtype</code> ã¯ä¸Šã®ã‚ˆã†ã«ç›®çš„ã«åˆã‚ã›ã¦å‹ã‚’æ—¢å­˜ã®å‹ã‹ã‚‰ä½œã‚‹ä»–ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã®åˆ¶ç´„ã«ã‚ˆã£ã¦å®šç¾©ã§ããªã„å‹ä¸Šã®è¨ˆç®—ã‚’å®Ÿç¾ã™ã‚‹ã®ã«ã‚‚ä½¿ç”¨ã§ãã‚‹ï¼ä¾‹ãˆã°ï¼Œ</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb47-1" title="1"><span class="kw">newtype</span> <span class="dt">Fix</span> f <span class="ot">=</span> <span class="dt">Fix</span> (f (<span class="dt">Fix</span> f))</a></code></pre></div>
<p>ã¨ã„ã†å¤‰ã‚ã£ãŸãƒ‡ãƒ¼ã‚¿å‹ã‚’ä½¿ã†ã¨ï¼Œå‹ä¸Šã®ä¸å‹•ç‚¹æ¼”ç®—ã‚’ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã§ãã‚‹ï¼ã¾ãŸï¼Œ<code>newtype</code> ã‚’ä½¿ã†ã“ã¨ã§å¹½éœŠå‹ã«ã‚ˆã‚‹æ›–æ˜§ãªå‹ã‚’é¿ã‘ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ï¼ä¾‹ãˆã°ï¼Œ</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb48-1" title="1"><span class="kw">type</span> <span class="dt">WithAnn</span> ann a <span class="ot">=</span> a</a>
<a class="sourceLine" id="cb48-2" title="2"></a>
<a class="sourceLine" id="cb48-3" title="3"><span class="ot">readShow ::</span> (<span class="dt">Read</span> a, <span class="dt">Show</span> a) <span class="ot">=&gt;</span> <span class="dt">WithAnn</span> a <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">String</span></a>
<a class="sourceLine" id="cb48-4" title="4">readShow s <span class="ot">=</span> <span class="fu">show</span> <span class="op">$</span> <span class="fu">read</span> s</a></code></pre></div>
<p>ã‚’è€ƒãˆã‚‹ï¼ã“ã®é–¢æ•° <code>readShow</code> ã¯ï¼Œ<code>WithAnn</code> ã§å¼•æ•°ã« <code>a</code> ã‚’ä½¿ã£ã¦ã„ã‚‹ã«ã‚‚ã‹ã‹ã‚ã‚‰ãš <code>a</code> ãŒæ›–æ˜§ãªå‹ã«ãªã‚‹ãŸã‚å¼¾ã‹ã‚Œã‚‹ï¼ãªãœãªã‚‰ï¼Œå‹ã‚·ãƒãƒ‹ãƒ  <code>WithAnn a String</code> ã¯ <code>String</code> ã¨æ›¸ã„ã¦ã‚‹ã®ã¨åŒã˜ã§ã‚ã‚Šï¼Œ<code>readShow</code> ã¯</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb49-1" title="1"><span class="ot">readShow ::</span> (<span class="dt">Read</span> a, <span class="dt">Show</span> a) <span class="ot">=&gt;</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">String</span></a></code></pre></div>
<p>ã¨ã„ã†å‹ã‚’æŒã¤ã®ã¨åŒæ§˜ã«ãªã£ã¦ã—ã¾ã†ã‹ã‚‰ã ï¼ã“ã®ãŸã‚ï¼Œåˆ¶ç´„ã ã‘ã« <code>a</code> ãŒç¾ã‚Œã‚‹ã“ã¨ã«ãªã£ã¦ã—ã¾ã„ï¼Œæ›–æ˜§ãªå‹ã«ãªã£ã¦ã—ã¾ã†ï¼ã“ã®ä¾‹ã®ã‚ˆã†ãªï¼Œå‹ã‚·ãƒãƒ‹ãƒ ãŒå…·ä½“åŒ–ã•ã‚Œã¦ã—ã¾ã†ã“ã¨ã§æ›–æ˜§ãªå‹ãŒç”Ÿã˜ã‚‹å•é¡Œã¯ï¼Œ<code>newtype</code> ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§å›é¿ã§ãã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb50"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb50-1" title="1"><span class="kw">newtype</span> <span class="dt">WithAnn</span> ann a <span class="ot">=</span> <span class="dt">WithAnn</span> a</a>
<a class="sourceLine" id="cb50-2" title="2"></a>
<a class="sourceLine" id="cb50-3" title="3"><span class="ot">readShow ::</span> (<span class="dt">Read</span> a, <span class="dt">Show</span> a) <span class="ot">=&gt;</span> <span class="dt">WithAnn</span> a <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">String</span></a>
<a class="sourceLine" id="cb50-4" title="4">readShow (<span class="dt">WithAnn</span> s) <span class="ot">=</span> <span class="fu">show</span> <span class="op">$</span> <span class="fu">read</span> s</a></code></pre></div>
<p><span class="ascii">Haskell</span> ã¯å‹ã‚·ã‚¹ãƒ†ãƒ ä¸Šã¯ <code>WithAnn a String</code> ãŒå®Ÿè¡Œæ™‚ã«å˜ãªã‚‹ <code>String</code> ã®åˆ¥åã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ã“ã¨ã‚’çŸ¥ã‚‰ãšï¼Œã“ã‚Œã‚’<span class="ascii">1</span>ã¤ã®å…·ä½“åŒ–ã•ã‚ŒãŸå‹ã¨ã—ã¦èªè­˜ã™ã‚‹ï¼ã“ã®ãŸã‚ï¼Œå®Ÿéš›ã«ã¯ <code>a</code> ãŒå¼•æ•°ã®å€¤ã«ä½•ã‚‰é–¢ä¸ã—ãªã„å ´åˆã‚‚ï¼Œå‹ <code>a</code> ã‚’ä¼´ã†å‹ã¨ã—ã¦æ®‹ã‚‹ï¼ã‚ˆã£ã¦ï¼Œã“ã®å ´åˆã¯ <code>a</code> ã¯æ›–æ˜§ãªå‹ã«ãªã‚‰ãšï¼Œ<code>WithAnn a String</code> ã® <code>a</code> ã®éƒ¨åˆ†ã«ã‚ã¦ãŒã‚ã‚Œã‚‹å‹ã‹ã‚‰ç‰¹å®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼ã“ã®ã‚ˆã†ã«ï¼Œå‹ã‚·ãƒãƒ‹ãƒ ã§æ—©æœŸã«å…ƒã¨ãªã£ãŸå‹ã«å…·ä½“åŒ–ã•ã‚Œã‚‹ã“ã¨ã§ç”Ÿã˜ã‚‹å•é¡Œã¯ï¼Œ<code>newtype</code> ã‚’ä½¿ã†ã“ã¨ã§å®Ÿéš›ã«å€¤ã‚’ä½œã‚‹ç®‡æ‰€ã¨ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã®ç®‡æ‰€ã§ã®å‹è¨ˆç®—ã«é…å»¶ã•ã›ã‚‹ã“ã¨ãŒã§ãï¼Œå›é¿ã§ãã‚‹å ´åˆãŒã‚ã‚‹ï¼</p>
<h2 id="ã¾ã¨ã‚"><span class="link-to-here-outer"><a href="#ã¾ã¨ã‚" title="ã¾ã¨ã‚"><span class="link-to-here">Link to<br />
here</span></a></span>ã¾ã¨ã‚</h2>
<p><span class="ascii">Haskell</span> ã®<span class="ascii">3</span>ã¤ã®ãƒ‡ãƒ¼ã‚¿å‹å®šç¾©æ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ãŸï¼</p>
<p>å‹ã‚·ãƒãƒ‹ãƒ ã¯ï¼Œã‚ã‚‹å‹ã«å¯¾ã—ã¦ãã®åˆ¥åã‚’ä¸ãˆã‚‹ã“ã¨ã§ï¼Œãƒ‡ãƒ¼ã‚¿å‹ã‚’å®šç¾©ã™ã‚‹ã‚‚ã®ã ã£ãŸï¼ç°¡æ˜“ã§å…ƒã®å‹ã«å¯¾ã™ã‚‹é–¢æ•°ã‚’ãã®ã¾ã¾æµç”¨ã§ãï¼Œä½¿ã„ã‚„ã™ã„åé¢ï¼Œéƒ¨åˆ†é©ç”¨ãŒã§ããªã„ï¼Œå†å¸°çš„ãƒ‡ãƒ¼ã‚¿å‹ãŒå®šç¾©ã§ããªã„ï¼Œå‹ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã§ããªã„ã¨è¨€ã†åˆ¶ç´„ãŒã‚ã£ãŸï¼</p>
<p>ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã¯è¤‡æ•°ã®å‹ã®ç©å’Œã«ã‚ˆã£ã¦å…¨ãæ–°ã—ã„ãƒ‡ãƒ¼ã‚¿å‹ã‚’å®šç¾©ã™ã‚‹ã‚‚ã®ã ã£ãŸï¼å‹ã‚·ãƒãƒ‹ãƒ ã§ã‚ã£ãŸåˆ¶ç´„ã‚’å›é¿ã§ãï¼Œæ–°ãŸãªæ§‹é€ ã‚’å°å…¥ã§ãã‚‹ãŒï¼Œé–¢æ•°ã®æµç”¨ãŒå›°é›£ãªå ´åˆãŒã‚ã‚Šå‹ã‚·ãƒãƒ‹ãƒ ã¨ã®ä½¿ã„åˆ†ã‘ãŒå¿…è¦ã ã£ãŸï¼</p>
<p><code>newtype</code> ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å‹ã¯ï¼Œå‹ã‚·ã‚¹ãƒ†ãƒ ä¸Šã¯ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã¨ï¼Œå®Ÿè¡Œæ™‚ã®å‹•ä½œã¯å‹ã‚·ãƒãƒ‹ãƒ ã¨åŒæ§˜ã¨ã„ã£ãŸï¼Œãã‚Œãã‚Œã®ä¸­é–“ã‚’ã¨ã£ãŸã‚ˆã†ãªã‚‚ã®ã ã£ãŸï¼å‹ã‚·ãƒãƒ‹ãƒ ã®ã‚ˆã†ãªé–¢æ•°ã®æµç”¨ãŒã§ããªã„å ´åˆã¯ã‚ã‚‹ã‚‚ã®ã®ï¼Œãã®ä»£ã‚ã‚Šå‹ã‚·ãƒãƒ‹ãƒ ã®åˆ¶ç´„ã‚’å›é¿ã§ãï¼Œå‹ã‚·ã‚¹ãƒ†ãƒ ä¸Šã¯å…¨ãç•°ãªã‚‹æŒ¯ã‚‹èˆã„ã‚’è¡Œã†ã“ã¨ã‚‚å¯èƒ½ã ã£ãŸï¼</p>
<p>ã“ã‚Œã‚‰ã¯ï¼Œãã‚Œãã‚ŒãŒä¸€é•·ä¸€çŸ­ã‚’æŒã¡ï¼Œç›®çš„ã«ã‚ã£ãŸä½¿ã„åˆ†ã‘ã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼ã“ã®è¨˜äº‹ãŒï¼Œãã®ã‚ˆã†ãªå ´åˆã®åŠ©ã‘ã«ãªã‚Œã°ã„ã„ã¨æ€ã†ï¼ã§ã¯ï¼Œä»Šå›ã¯ã“ã‚Œã§ï¼</p>
<section class="footnotes">
<hr />
<ol>
<li id="fn1"><p>å‹ã‚·ãƒãƒ‹ãƒ ã«å¯¾ã—ã¦éƒ¨åˆ†é©ç”¨ã‚’è¨±å®¹ã™ã‚‹ä¸€èˆ¬çš„ãªæ–¹æ³•ã¯ï¼Œå‹ä¸Šã«ã‚‚ãƒ©ãƒ ãƒ€æŠ½è±¡ã«ã‚ãŸã‚‹è¡¨ç¾ã‚’å°å…¥ã™ã‚‹ã“ã¨ã§ã‚ã‚‹ï¼ãŸã ï¼Œã“ã®å ´åˆå‹ä¸Šã®æ¼”ç®—ãŒåœæ­¢ã—ãªã„å ´åˆãŒã‚ã‚Šï¼Œå‹ã‚·ã‚¹ãƒ†ãƒ ãŒæ±ºå®šä¸èƒ½ã«ãªã‚‹ï¼ã“ã®ãŸã‚ï¼Œ<span class="ascii">Haskell</span> ã§ã¯å‹ã‚·ãƒãƒ‹ãƒ ã«å¯¾ã—ã¦ã®éƒ¨åˆ†é©ç”¨ã¯è¨±å®¹ã—ã¦ã„ãªã„ï¼<a href="#fnref1" class="footnote-back">â†©</a></p></li>
<li id="fn2"><p>ç­‰ä¾¡å†å¸°ãƒ‡ãƒ¼ã‚¿å‹ <span class="ascii">(equirecursive types)</span> ã¨å‘¼ã°ã‚Œã‚‹ç‰¹åˆ¥ãªå‹ã‚’å‹ã‚·ã‚¹ãƒ†ãƒ ã«å°å…¥ã™ã‚‹ã“ã¨ã§ï¼Œã“ã®ã‚ˆã†ãªå‹ã‚’è¨±å®¹ã™ã‚‹ç†è«–ã¯å­˜åœ¨ã™ã‚‹ãŒï¼Œã“ã®ç†è«–ã¯ã¨ã¦ã‚‚è¤‡é›‘ã§å‹æ¤œæŸ»ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚‚é›£ã—ããªã‚ŠãŒã¡ã§ã‚ã‚‹ï¼<a href="#fnref2" class="footnote-back">â†©</a></p></li>
<li id="fn3"><p>ãŸã ï¼Œã“ã®ã‚ˆã†ãªæ··ä¹±ãŒèµ·ã“ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã“ã¨ã‚’è¨±å®¹ã—ï¼Œåˆ©ä¾¿æ€§ã®ãŸã‚å‹ã‚·ãƒãƒ‹ãƒ ã‚’ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å®šç¾©ã§ä½¿ã„ãŸã„å ´åˆï¼Œ<code>TypeSynonymInstances</code> ã¨ã„ã† <span class="ascii">GHC</span> æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã™ã‚‹ã“ã¨ã§è¨±å®¹ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ï¼<a href="#fnref3" class="footnote-back">â†©</a></p></li>
<li id="fn4"><p>å‹ä¸Šã®è¨ˆç®—ã«ã‚ˆã£ã¦ï¼Œå®Ÿéš›ã®å‹ãŒç‰¹å®šã•ã‚Œã‚‹å‹ã‚·ãƒãƒ‹ãƒ ã¨ã¯ç•°ãªã‚Šï¼Œä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã®å‹ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¯ãã‚Œè‡ªä½“ãŒã‚‚ã†è¨ˆç®—ã§ããªã„ã‚‚ã®ã«ãªã‚‹ï¼ãã‚Œã¯éƒ¨åˆ†é©ç”¨ã•ã‚Œã¦ã‚‚åŒæ§˜ã§ã‚ã‚Šï¼Œéƒ¨åˆ†é©ç”¨ã‚’è¨±å®¹ã™ã‚‹ã“ã¨ã§å‹ã‚·ãƒãƒ‹ãƒ ã¨åŒæ§˜ã®å•é¡Œã¯èµ·ã“ã‚‰ãªã„ï¼ã“ã‚ŒãŒï¼Œä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã§éƒ¨åˆ†é©ç”¨ãŒè¨±å®¹ã•ã‚Œã¦ã„ã‚‹ç†ç”±ã«ãªã‚‹ï¼<a href="#fnref4" class="footnote-back">â†©</a></p></li>
<li id="fn5"><p>å®Ÿéš›ã«ã¯ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ <code>a</code> ã®éƒ¨åˆ†ã«å…·ä½“çš„ãªå‹ã‚’å½“ã¦ã¯ã‚ãªã„ã¨ã„ã‘ãªã„ãŒï¼Œå½“ã¦ã¯ã‚ã‚Œã°ãã‚Œã¯å®Œå…¨ã«å…·ä½“çš„ãªå‹ã«ãªã‚‹ï¼<a href="#fnref5" class="footnote-back">â†©</a></p></li>
<li id="fn6"><p>ãªãŠï¼Œä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã§ã‚‚å‹ã‚·ãƒãƒ‹ãƒ ã¨åŒæ§˜ã®åˆ©ç‚¹ã‚’æ‰‹ã«å…¥ã‚Œã‚‹ãŸã‚ã®ç ”ç©¶ã¯ï¼Œ<span class="ascii">Haskell</span> ã§ã¯ç››ã‚“ã«è¡Œã‚ã‚Œã¦ã„ã‚‹ï¼ä¾‹ãˆã°ï¼Œ<code>Generic</code> <span class="ascii">/</span> <code>Data</code> å‹ã‚¯ãƒ©ã‚¹ï¼Œ<code>lens</code> ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãªã©ã‚’ä½¿ã†ã“ã¨ã§ï¼Œæ§‹é€ ãŒåŒã˜ã ãŒç•°ãªã‚‹ãƒ‡ãƒ¼ã‚¿å‹ã§é–¢æ•°ãŒæµç”¨ã§ããªã„å•é¡Œã‚’å›é¿ã§ãã‚‹å ´åˆãŒã‚ã‚‹ï¼<a href="#fnref6" class="footnote-back">â†©</a></p></li>
<li id="fn7"><p><span class="ascii">GHC</span> æ‹¡å¼µã§ã¯ï¼Œ<code>deriving</code> æ§‹æ–‡ã®æ‹¡å¼µã¨ã—ã¦å¼·åŠ›ãªæ©Ÿèƒ½ãŒã„ãã¤ã‹æ­è¼‰ã•ã‚Œã¦ã„ã‚‹ï¼ç‰¹ã« <code>newtype</code> ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å‹ã®å ´åˆã¯ï¼Œ<code>GeneralizedNewtypeDeriving</code> ã‚„ <code>DerivingVia</code> æ‹¡å¼µã‚’ä½¿ãˆã°ï¼Œã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®è‡ªå‹•å°å‡ºã®ç¯„å›²ã‚’å¤§å¹…ã«æ‹¡å¤§ã§ãã‚‹ï¼<a href="#fnref7" class="footnote-back">â†©</a></p></li>
</ol>
</section>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
                <i class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="margin-right: 5px;"></i>
                <a href="/posts/2020/antenna-with-gh-actions.html" lang="ja">Haskell Antennaã®CI/CDã‚’GitHub Actionsã«ç§»è¡Œã™ã‚‹</a>
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/2020/strict-gotchas.html" style="margin-left: auto;" lang="ja">Strictæ‹¡å¼µã‚’ä½¿ç”¨ã™ã‚‹éš›ã®æ³¨æ„ç‚¹</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>
<entry>
    <title>Strictæ‹¡å¼µã‚’ä½¿ç”¨ã™ã‚‹éš›ã®æ³¨æ„ç‚¹</title>
    <link href="https://haskell.jp/blog/posts/2020/strict-gotchas.html" />
    <id>https://haskell.jp/blog/posts/2020/strict-gotchas.html</id>
    <published>2020-06-11T00:00:00Z</published>
    <updated>2020-06-11T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <hr />
<p><span class="ascii">Haskell</span>ã¯ä»–ã®å¤šãã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã¨ç•°ãªã£ãŸç‰¹å¾´ã‚’å‚™ãˆã¦ãŠã‚Šã€ã—ã°ã—ã°ãã‚Œã‚‰ãŒè­°è«–ã‚’å‘¼ã¶ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ãã®ä¸­ã§ã‚‚ç‰¹ã«ã‚ˆãä¿ä¸Šã«ä¸ŠãŒã‚‹ã®ãŒã€é…å»¶è©•ä¾¡ã§ã™ã€‚é…å»¶è©•ä¾¡ã¯ã€é©åˆ‡ã«æ‰±ãˆã°ä¸è¦ãªè¨ˆç®—ã‚’è¡Œã‚ãšã€è¨ˆç®—è³‡æºã‚’ç¯€ç´„ã—ã¦ãã‚Œã‚‹ã‚¹ãƒ†ã‚­ãªä»•çµ„ã¿ã§ã™ãŒã€ä¸€æ­©ä½¿ã„æ–¹ã‚’é–“é•ã†ã¨ã€Œã‚µãƒ³ã‚¯ã€ã¨ã„ã†ã€Œã“ã‚Œã‹ã‚‰å®Ÿè¡Œã™ã‚‹<small>ï¼ˆã‹ã‚‚çŸ¥ã‚Œãªã„ï¼‰</small>è¨ˆç®—ã€ã‚’è¡¨ã™ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç„¡é§„ã«ä½œã‚‰ã‚Œã¦ã—ã¾ã„ã€å´ã£ã¦ãƒ¡ãƒ¢ãƒªãƒ¼æ¶ˆè²»é‡ãŒå¢—ãˆã¦ã—ã¾ã†ã€ãªã©ã¨ã„ã£ãŸå•é¡Œã‚’æŠ±ãˆã¦ã„ã¾ã™ã€‚ã“ã®ç¾è±¡ã¯ã€Œã‚¹ãƒšãƒ¼ã‚¹ãƒªãƒ¼ã‚¯ã€ã¨å‘¼ã°ã‚Œã€ã‹ã¤ã¦<a href="https://qiita.com/advent-calendar/2015/haskell-space-leaks">å°‚é–€ã®<span class="ascii">Advent Calendar</span></a>ãŒä½œã‚‰ã‚ŒãŸã“ã¨ãŒã‚ã‚‹ã»ã©ã€<span class="ascii">Haskeller</span>é”ã®é–¢å¿ƒã‚’é›†ã‚ã¦ãã¾ã—ãŸã€‚</p>
<p>ãã‚“ãª<span class="ascii">Haskeller</span>é”ã®æ‚©ã¿ã®ç¨®ã‚’è»½æ¸›ã—ã‚ˆã†ã¨ã€<span class="ascii">GHC 8.0</span>ä»¥é™ã€<a href="https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/glasgow_exts.html#strict-by-default-pattern-bindings"><code>Strict</code></a>ã¨<a href="https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/glasgow_exts.html#strict-data"><code>StrictData</code></a>ã¨ã„ã†è¨€èªæ‹¡å¼µãŒæ­è¼‰ã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã‚‰ã®æ‹¡å¼µã¯ã€å¤§é›‘æŠŠã«è¨€ã†ã¨ã€</p>
<ul>
<li><code>StrictData</code><span class="ascii">:</span> å€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã«ãŠã„ã¦ã€å¼•æ•°ã®å€¤ãŒå¼±é ­æ­£è¦å½¢ï¼ˆ<span class="ascii">Weak Head Normal Form</span>ã€‚ä»¥é™æ…£ç¿’ã«å¾“ã„ã€Œ<span class="ascii">WHNF</span>ã€ã¨å‘¼ã³ã¾ã™ï¼‰ã¾ã§è©•ä¾¡ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹</li>
<li><code>Strict</code><span class="ascii">:</span> <code>StrictData</code>ã®åŠ¹æœã«åŠ ãˆã€ã‚ã‚‰ã‚†ã‚‹é–¢æ•°ã®å¼•æ•°ã‚„ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ã®å®šç¾©ã«ãŠã„ã¦ã€ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã§ä»£å…¥ã—ãŸå¤‰æ•°ã®å€¤ãŒ<span class="ascii">WHNF</span>ã¾ã§è©•ä¾¡ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹</li>
</ul>
<p>ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚</p>
<p>ã“ã®ã†ã¡ã€<code>StrictData</code>ã¯æ¯”è¼ƒçš„ãƒªã‚¹ã‚¯ãŒå°‘ãªãå¤§å¤‰æœ‰ç”¨<small>ï¼ˆã‚‚ã¯ã‚„æ¨™æº–ã§ã‚ã£ã¦æ¬²ã—ã„ãã‚‰ã„ï¼‰</small>ã¨ã„ã†å£°ã‚’ã‚ˆãèãã¾ã™ãŒ<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>ã€<code>Strict</code>ã«ã¤ã„ã¦ã¯æ§˜ã€…ãªå•é¡Œç‚¹ãŒã‚ã‚‹ã“ã¨ãŒçŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ä»Šå›ã¯ãã®å„ç¨®å•é¡Œç‚¹ã‚’ã¾ã¨ã‚ã¦å…±æœ‰ã™ã‚‹ã“ã¨ã§ã€æ€ã„åˆ‡ã£ã¦<code>Strict</code>ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¨ãã«å‚è€ƒã«ãªã‚‹æƒ…å ±ã‚’æä¾›ã—ãŸã„ã¨æ€ã„ã¾ã™ï¼</p>
<div id="table-of-contents-outer">
<div id="table-of-contents">
<div class="table-of-contents-title">
Contents
</div>
<ul>
<li><a href="#å‰æçŸ¥è­˜ã¨ãã®å‚è€ƒè³‡æ–™" title="å‰æçŸ¥è­˜ã¨ãã®å‚è€ƒè³‡æ–™">å‰æçŸ¥è­˜ã¨ãã®å‚è€ƒè³‡æ–™</a></li>
<li><a href="#ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®è©¦ã—æ–¹" title="ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®è©¦ã—æ–¹">ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®è©¦ã—æ–¹</a></li>
<li><a href="#case-1-whereå¥ã ã‚ã†ã¨ãªã‚“ã ã‚ã†ã¨è©•ä¾¡" title="case-1-whereå¥ã ã‚ã†ã¨ãªã‚“ã ã‚ã†ã¨è©•ä¾¡"><span class="ascii">Case 1:</span> <code>where</code>å¥ã ã‚ã†ã¨ãªã‚“ã ã‚ã†ã¨è©•ä¾¡</a></li>
<li><a href="#case-2-ãƒã‚¤ãƒ³ãƒˆãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã‹ã©ã†ã‹ã§å¤‰ã‚ã‚‹" title="case-2-ãƒã‚¤ãƒ³ãƒˆãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã‹ã©ã†ã‹ã§å¤‰ã‚ã‚‹"><span class="ascii">Case 2:</span> ãƒã‚¤ãƒ³ãƒˆãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã‹ã©ã†ã‹ã§å¤‰ã‚ã‚‹ï¼</a></li>
<li><a href="#case-3-å†…å´ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã‚„ã£ã±ã‚Šãƒ€ãƒ¡" title="case-3-å†…å´ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã‚„ã£ã±ã‚Šãƒ€ãƒ¡"><span class="ascii">Case 3:</span> å†…å´ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã‚„ã£ã±ã‚Šãƒ€ãƒ¡</a></li>
<li><a href="#case-4-foldrã«æ¸¡ã™é–¢æ•°" title="case-4-foldrã«æ¸¡ã™é–¢æ•°"><span class="ascii">Case 4:</span> <code>foldr</code>ã«æ¸¡ã™é–¢æ•°</a></li>
<li><a href="#case-5-undefinedã‚’å—ã‘å–ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰" title="case-5-undefinedã‚’å—ã‘å–ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰"><span class="ascii">Case 5:</span> <code>undefined</code>ã‚’å—ã‘å–ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰</a></li>
<li><a href="#ãŠã‚ã‚Šã«-ã‚„ã£ã±ã‚Šstrictã¯ä½¿ã†ä½¿ã‚ãªã„" title="ãŠã‚ã‚Šã«-ã‚„ã£ã±ã‚Šstrictã¯ä½¿ã†ä½¿ã‚ãªã„">ãŠã‚ã‚Šã«<span class="ascii">:</span> ã‚„ã£ã±ã‚Š<code>Strict</code>ã¯ä½¿ã†ï¼Ÿä½¿ã‚ãªã„ï¼Ÿ</a></li>
</ul>
</div>
</div>
<h1 id="å‰æçŸ¥è­˜ã¨ãã®å‚è€ƒè³‡æ–™"><span class="link-to-here-outer"><a href="#å‰æçŸ¥è­˜ã¨ãã®å‚è€ƒè³‡æ–™" title="å‰æçŸ¥è­˜ã¨ãã®å‚è€ƒè³‡æ–™"><span class="link-to-here">Link to<br />
here</span></a></span>å‰æçŸ¥è­˜ã¨ãã®å‚è€ƒè³‡æ–™</h1>
<p>ä»¥ä¸‹ã®çŸ¥è­˜ã«ã¤ã„ã¦ã€ã–ã£ãã‚Šç†è§£ã—ã¦ã„ã‚‹ã‚‚ã®ã¨ã—ã¦é€²ã‚ã¾ã™ã€‚å‚è€ƒã«ãªã‚Šãã†ãªæ—¥æœ¬èªã®ãƒšãƒ¼ã‚¸ã‚‚ä»˜è¨˜ã—ãŸã®ã§ã€ã”è¦§ãã ã•ã„ã€‚</p>
<ul>
<li><span class="ascii">Haskell</span>ã®é…å»¶è©•ä¾¡ã«ã¤ã„ã¦
<ul>
<li><a href="https://itchyny.hatenablog.com/entry/20130209/1360417348">å®Ÿè£…ã—ã¦ç†è§£ã™ã‚‹é…å»¶è©•ä¾¡ã®ä»•çµ„ã¿ ã€œ <span class="ascii">thunk</span>ã‚’çµµã«æã„ã¦ç†è§£ã—ã‚ˆã†ãƒ»<span class="ascii">JavaScript</span>ã§<span class="ascii">Haskell</span>ã‚’å®Ÿè£…ï¼ï¼Ÿ <span class="ascii">-</span> ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãƒ¢ã‚°ãƒ¢ã‚°</a>ãŒè©³ã—ãã¦åˆ†ã‹ã‚Šã‚„ã™ã„ã§ã—ã‚‡ã†</li>
</ul></li>
<li><span class="ascii">Haskell</span>ã®æ­£æ ¼è©•ä¾¡ã€ãŠã‚ˆã³<code>BangPatterns</code>ã«ã¤ã„ã¦
<ul>
<li><a href="https://haskell.e-bigmoon.com/posts/2018/06-25-all-about-strictness">æ­£æ ¼æ€§ã®ã™ã¹ã¦ <span class="ascii">(</span>ç¿»è¨³<span class="ascii">)</span></a></li>
</ul></li>
<li><code>Strict</code>ã¨<code>StrictData</code>ã«ã¤ã„ã¦
<ul>
<li><a href="https://kazu-yamamoto.hatenablog.jp/entry/20151117/1447726679"><span class="ascii">Strict Haskell -</span> ã‚ã©ã‘ãªã„è©±</a></li>
</ul></li>
<li>ãã®ä»–ã€<a href="https://qiita.com/advent-calendar/2015/haskell-space-leaks"><span class="ascii">Haskell</span>ã‚¹ãƒšãƒ¼ã‚¹ãƒªãƒ¼ã‚¯ <span class="ascii">Advent Calendar 2015 - Qiita</span></a>ã®è¨˜äº‹ã«ã‚‚æœ‰ç”¨ãªã‚‚ã®ãŒãŸãã•ã‚“ã‚ã‚Šã¾ã™ã€‚</li>
</ul>
<h1 id="ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®è©¦ã—æ–¹"><span class="link-to-here-outer"><a href="#ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®è©¦ã—æ–¹" title="ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®è©¦ã—æ–¹"><span class="link-to-here">Link to<br />
here</span></a></span>ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®è©¦ã—æ–¹</h1>
<p>ã“ã‚Œã‹ã‚‰ç´¹ä»‹ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã¯ã€ã™ã¹ã¦<a href="https://github.com/haskell-jp/blog/tree/master/examples/2020/strict-gotchas">ã“ã®ãƒ–ãƒ­ã‚°ã®ãƒªãƒã‚¸ãƒˆãƒªãƒ¼ã®ã€<code>examples</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼</a>ã«ç½®ã„ã¦ãŠãã¾ã—ãŸã€‚ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚Œã°å®Ÿéš›ã«è©¦ã™ã“ã¨ãŒã§ãã¾ã™<small>ï¼ˆä¸€éƒ¨å®Ÿè¡Œã™ã‚‹éš›ã®ã‚³ãƒãƒ³ãƒ‰ãŒç•°ãªã‚Šã¾ã™ã®ã§ã€é©å®œä¾‹ç¤ºã—ã¾ã™ï¼‰</small>ã€‚</p>
<pre><code>git clone https://github.com/haskell-jp/blog.git
cd blog/examples/2020/strict-gotchas
stack exec runghc -- &lt;ã“ã‚Œã‹ã‚‰ç´¹ä»‹ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã®ãƒ•ã‚¡ã‚¤ãƒ«&gt;.hs</code></pre>
<p>å®Ÿéš›ã«è©¦ã™ã¨ãã¯<code>--ghc-arg=-XStrict</code>ã¨ã„ã†ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’<code>runghc</code>ã«ä»˜ã‘ãŸå ´åˆã¨ä»˜ã‘ãªã‹ã£ãŸå ´åˆä¸¡æ–¹ã§å®Ÿè¡Œã—ã¦ã€é•ã„ã‚’ç¢ºã‹ã‚ã¦ã¿ã¦ãã ã•ã„ã€‚</p>
<p>ãªãŠã€ä½¿ç”¨ã—ãŸ<span class="ascii">GHC</span>ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯<span class="ascii">8.10.1</span>ã§ã€<span class="ascii">OS</span>ã¯<span class="ascii">Windows 10 ver. 1909</span>ã§ã™ã€‚</p>
<h1 id="case-1-whereå¥ã ã‚ã†ã¨ãªã‚“ã ã‚ã†ã¨è©•ä¾¡"><span class="link-to-here-outer"><a href="#case-1-whereå¥ã ã‚ã†ã¨ãªã‚“ã ã‚ã†ã¨è©•ä¾¡" title="case-1-whereå¥ã ã‚ã†ã¨ãªã‚“ã ã‚ã†ã¨è©•ä¾¡"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Case 1:</span> <code>where</code>å¥ã ã‚ã†ã¨ãªã‚“ã ã‚ã†ã¨è©•ä¾¡</h1>
<p>ã‚µãƒ³ãƒ—ãƒ«<span class="ascii">:</span> <a href="https://github.com/haskell-jp/blog/blob/master/examples/2020/strict-gotchas/where.hs"><span class="ascii">where.hs</span></a></p>
<p>æœ€åˆã®ã‚±ãƒ¼ã‚¹ã¯ã€é…å»¶è©•ä¾¡ã§å½“ãŸã‚Šå‰ã«äº«å—ã§ãã¦ã„ãŸãƒ¡ãƒªãƒƒãƒˆãŒã€<code>Strict</code>ã‚’æœ‰åŠ¹ã«ã—ã¦ã„ã‚‹çŠ¶æ…‹ã§ã¯å¾—ã‚‰ã‚Œãªããªã£ã¦ã—ã¾ã†ã€ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚<a href="https://qiita.com/pxfnc/items/a26bda6d11402daba675"><span class="ascii">pxfnc</span>ã•ã‚“ã®<span class="ascii">Strict</span>æ‹¡å¼µã§ãƒãƒã£ãŸãŠè©±</a>ã¨ã„ã†è¨˜äº‹ã§ã‚‚ç´¹ä»‹ã•ã‚Œã¦ã¯ã„ã¾ã™ãŒã€ã¾ã¨ã‚è¨˜äº‹ãªã®ã§ã“ã“ã§ã‚‚æ”¹ã‚ã¦å–ã‚Šä¸Šã’ã¾ã™ã€‚</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb2-1" title="1">main <span class="ot">=</span> <span class="fu">print</span> <span class="op">$</span> div10 <span class="dv">0</span></a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="ot">div10 ::</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span></a>
<a class="sourceLine" id="cb2-4" title="4">div10 n</a>
<a class="sourceLine" id="cb2-5" title="5">  <span class="op">|</span> n <span class="op">==</span> <span class="dv">0</span>    <span class="ot">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="op">|</span> <span class="fu">otherwise</span> <span class="ot">=</span> result</a>
<a class="sourceLine" id="cb2-7" title="7"> <span class="kw">where</span></a>
<a class="sourceLine" id="cb2-8" title="8">  result <span class="ot">=</span> <span class="dv">10</span> <span class="ot">`div`</span> n</a></code></pre></div>
<p>ã”è¦§ã®ã¨ãŠã‚Šã€æœ¬å½“ã«ã»ã¨ã‚“ã©<span class="ascii">pxfnc</span>ã•ã‚“ã®è¨˜äº‹ã®ã‚µãƒ³ãƒ—ãƒ«ãã®ã¾ã¾ã§æç¸®ã§ã™ãŒã€ã“ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã€ğŸ‘‡ã®ã‚ˆã†ã«<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ã¦å®Ÿè¡Œã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ãŒèµ·ã“ã‚Šã¾ã™ã€‚</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" title="1"><span class="op">&gt;</span> <span class="ex">stack</span> exec -- runghc --ghc-arg=-XStrict where.hs</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="ex">where.hs</span>: divide by zero</a></code></pre></div>
<p>ä¸€æ–¹ã€<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãªã‹ã£ãŸå ´åˆã€ã‚¨ãƒ©ãƒ¼ã¯èµ·ã“ã‚Šã¾ã›ã‚“ã€‚</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" title="1"><span class="op">&gt;</span> <span class="ex">stack</span> exec -- runghc where.hs</a>
<a class="sourceLine" id="cb4-2" title="2"><span class="ex">0</span></a></code></pre></div>
<p>ãªãœã“ã‚“ãªã“ã¨ãŒèµ·ã“ã‚‹ã®ã§ã—ã‚‡ã†ï¼Ÿ</p>
<p>ã“ã‚Œã¯ã€<code>Strict</code>æ‹¡å¼µãŒãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã§ä»£å…¥ã—ãŸã‚ã‚‰ã‚†ã‚‹å¤‰æ•°ã®å€¤ã‚’<span class="ascii">WHNF</span>ã¾ã§è©•ä¾¡ã™ã‚‹ã‚ˆã†ã«ãªã£ãŸçµæœã€<code>where</code>å¥ã§ä»£å…¥ã—ãŸå¤‰æ•°ã¾ã§å¿…ãš<span class="ascii">WHNF</span>ã¾ã§è©•ä¾¡ã—ã¦ã—ã¾ã†ãŸã‚ã«ç™ºç”Ÿã—ãŸã‚¨ãƒ©ãƒ¼ã§ã™ã€‚ã™ãªã‚ã¡ã€<code>where</code>ã«ãŠã‘ã‚‹ã€</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb5-1" title="1">  result <span class="ot">=</span> <span class="dv">10</span> <span class="ot">`div`</span> n</a></code></pre></div>
<p>ã¾ã§ã‚‚ãŒã€</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb6-1" title="1">  <span class="op">!</span>result <span class="ot">=</span> <span class="dv">10</span> <span class="ot">`div`</span> n</a></code></pre></div>
<p>ã¨<span class="ascii">Bang</span>ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä»˜ã‘ãŸä»£å…¥ã§ã‚ã‚‹ã‹ã®ã‚ˆã†ã«è§£é‡ˆã•ã‚ŒãŸã®ã§ã™<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>ã€‚</p>
<p>ã“ã†ãªã‚‹ã¨ã€<code>result</code>ã‚’ä½¿ç”¨ã—ãªã„ã‚±ãƒ¼ã‚¹ã€ã™ãªã‚ã¡<code>n == 0</code>ã®å ´åˆã§ã‚ã£ã¦ã‚‚<code>result</code>ã« <small>ï¼ˆ<span class="ascii">WHNF</span>ã¾ã§è©•ä¾¡ã—ãŸï¼‰</small>å€¤ã‚’ä»£å…¥ã™ã‚‹ã®ã«å¿…è¦ãªè¨ˆç®—ã¯å®Ÿè¡Œã•ã‚Œã€çµæœ<code>10 `div` 0</code>ãŒè¨ˆç®—ã•ã‚Œã‚ˆã†ã¨ã—ã¦<code>divide by zero</code>ãŒç™ºç”Ÿã™ã‚‹ã®ã§ã™ã€‚</p>
<p>âš ï¸<code>where</code>å¥ã¯é–¢æ•°å®šç¾©ã®å¾Œã‚ã®æ–¹ã«æ›¸ãã¨ã„ã†æ€§æ ¼ä¸Šã€è¦‹è½ã¨ã—ãŒã¡ã‹ã‚‚çŸ¥ã‚Œã¾ã›ã‚“ã€‚æ³¨æ„ã—ã¾ã—ã‚‡ã†ã€‚</p>
<h1 id="case-2-ãƒã‚¤ãƒ³ãƒˆãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã‹ã©ã†ã‹ã§å¤‰ã‚ã‚‹"><span class="link-to-here-outer"><a href="#case-2-ãƒã‚¤ãƒ³ãƒˆãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã‹ã©ã†ã‹ã§å¤‰ã‚ã‚‹" title="case-2-ãƒã‚¤ãƒ³ãƒˆãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã‹ã©ã†ã‹ã§å¤‰ã‚ã‚‹"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Case 2:</span> ãƒã‚¤ãƒ³ãƒˆãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã‹ã©ã†ã‹ã§å¤‰ã‚ã‚‹ï¼</h1>
<p>ã‚µãƒ³ãƒ—ãƒ«<span class="ascii">:</span> <a href="https://github.com/haskell-jp/blog/blob/master/examples/2020/strict-gotchas/const.hs"><span class="ascii">const.hs</span></a></p>
<p>ç¶šã„ã¦ã€<span class="ascii">Haskell</span>ã«æ…£ã‚ŒãŸæ–¹ãªã‚‰èª°ã‚‚ãŒä¸€åº¦ã¯è©¦ã—ãŸããªã‚‹ã€ãƒã‚¤ãƒ³ãƒˆãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã«é–¢ã™ã‚‹è½ã¨ã—ç©´ã§ã™ã€‚ã¾ãšã¯æ¬¡ã®äºŒã¤ã®é–¢æ•°ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb7-1" title="1"><span class="ot">dontReferArgs ::</span> a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> a</a>
<a class="sourceLine" id="cb7-2" title="2">dontReferArgs <span class="ot">=</span> <span class="fu">const</span></a>
<a class="sourceLine" id="cb7-3" title="3"></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="ot">referArgs ::</span> a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> a</a>
<a class="sourceLine" id="cb7-5" title="5">referArgs x _ <span class="ot">=</span> x</a></code></pre></div>
<p>ã“ã®é–¢æ•°ã€ã©ã¡ã‚‰ã‚‚ã‚„ã£ã¦ã„ã‚‹ã“ã¨ã¯<code>const</code>ã¨å¤‰ã‚ã‚Šã¾ã›ã‚“ã€‚<code>dontReferArgs</code>ã¯<code>const</code>ã‚’ãã®ã¾ã¾ä½¿ã†ã“ã¨ã§ãƒã‚¤ãƒ³ãƒˆãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã«ã—ã¦ã„ã¾ã™ãŒã€<code>referArgs</code>ã¯è‡ªå‰ã§å¼•æ•°ã«è¨€åŠã™ã‚‹ã“ã¨ã§<code>const</code>ã¨åŒç­‰ã®å®šç¾©ã¨ãªã£ã¦ã„ã¾ã™ã€‚ãƒã‚¤ãƒ³ãƒˆãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã«å¤‰ãˆã‚‹ã¨è¨€ã†ã“ã¨ã¯åŸå‰‡ã¨ã—ã¦å…ƒã®é–¢æ•°ã®æŒ™å‹•ã‚’å¤‰ãˆãªã„ãƒ¯ã‚±ã§ã™ã‹ã‚‰ã€<code>dontReferArgs</code>ã¨<code>referArgs</code>ã®æ„å‘³ã¯å¤‰ã‚ã‚‰ãªã„ã¯ãšã€ã§ã™ã‚ˆã­<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>ï¼Ÿ</p>
<p>ã¨ã“ã‚ãŒã“ã‚Œã‚‰ã®é–¢æ•°ã‚’<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãŸä¸Šã§å®šç¾©ã™ã‚‹ã¨ã€ãªã‚“ã¨æŒ™å‹•ãŒç•°ãªã£ã¦ã—ã¾ã„ã¾ã™ï¼</p>
<p>ä½¿ç”¨ä¾‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb8-1" title="1"><span class="ot">main ::</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb8-2" title="2">main <span class="ot">=</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb8-3" title="3">  <span class="fu">print</span> <span class="op">$</span> dontReferArgs <span class="st">&quot;dontReferArgs&quot;</span> (<span class="fu">undefined</span><span class="ot"> ::</span> <span class="dt">Int</span>)</a>
<a class="sourceLine" id="cb8-4" title="4">  <span class="fu">print</span> <span class="op">$</span> referArgs <span class="st">&quot;referArgs&quot;</span> (<span class="fu">undefined</span><span class="ot"> ::</span> <span class="dt">Int</span>)</a></code></pre></div>
<p>å®Ÿè¡Œçµæœï¼ˆ<span class="ascii">Strict</span>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãªã‹ã£ãŸå ´åˆï¼‰<span class="ascii">:</span></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb9-1" title="1"><span class="op">&gt;</span> <span class="ex">stack</span> exec runghc const.hs</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="st">&quot;dontReferArgs&quot;</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="st">&quot;referArgs&quot;</span></a></code></pre></div>
<p>å®Ÿè¡Œçµæœï¼ˆ<span class="ascii">Strict</span>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãŸå ´åˆï¼‰<span class="ascii">:</span></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb10-1" title="1"><span class="op">&gt;</span> <span class="ex">stack</span> exec -- runghc --ghc-arg=-XStrict const.hs</a>
<a class="sourceLine" id="cb10-2" title="2"><span class="st">&quot;dontReferArgs&quot;</span></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="ex">const.hs</span>: Prelude.undefined</a>
<a class="sourceLine" id="cb10-4" title="4"><span class="ex">CallStack</span> (from HasCallStack)<span class="bu">:</span></a>
<a class="sourceLine" id="cb10-5" title="5">  <span class="ex">error</span>, called at libraries\base\GHC\Err.hs:79:14 in base:GHC.Err</a>
<a class="sourceLine" id="cb10-6" title="6">  <span class="ex">undefined</span>, called at const.hs:10:34 in main:Main</a></code></pre></div>
<p>ã¯ã„ã€<code>where</code>å¥ã®ã‚±ãƒ¼ã‚¹ã¨åŒæ§˜ã€<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãŸå ´åˆã€ä¾‹å¤–ãŒç™ºç”Ÿã—ã¦ã—ã¾ã„ã¾ã—ãŸâ—ï¸<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãŸçµæœã€æ„å›³ã›ãšä¾‹å¤–ã‚’ç™ºç”Ÿã•ã›ã‚‹å€¤<small>ï¼ˆä»Šå›ã®å ´åˆ<code>undefined</code>ï¼‰</small>ãŒè©•ä¾¡ã•ã‚Œã¦ã—ã¾ã£ãŸã®ã§ã™ã€‚</p>
<p>ä¾‹å¤–ã‚’ç™ºç”Ÿã•ã›ãŸé–¢æ•°ã¯ãã†ã€ãƒã‚¤ãƒ³ãƒˆãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã§ãªã„ã€<code>referArgs</code>é–¢æ•°ã®æ–¹ã§ã™ï¼ãªãœ<code>referArgs</code>ã§ã®ã¿ä¾‹å¤–ãŒç™ºç”Ÿã—ã¦ã—ã¾ã£ãŸã®ã‹ã¨ã„ã†ã¨ã€<code>referArgs</code>ãŒ<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã€å¼•æ•°ã«è¨€åŠ<small>ï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒï¼‰</small>ã—ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãŸçµæœã€Œã‚ã‚‰ã‚†ã‚‹é–¢æ•°ã‚„ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ã®å®šç¾©ã«ãŠã„ã¦ã€ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã§ä»£å…¥ã—ãŸå¤‰æ•°ã®å€¤ã€ãŒè©•ä¾¡ã•ã‚Œã‚‹ã¨ãŠã‚Šã€<code>referArgs</code>ã®å¼•æ•°<code>x</code>ãƒ»<code>_</code>ã‚‚å¿…ãšè©•ä¾¡ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã€ã“ã®ã‚ˆã†ãªä¾‹å¤–ãŒç™ºç”Ÿã—ãŸã®ã§ã™ã€‚ãŸã¨ãˆä½¿ç”¨ã—ãªã„å¤‰æ•°<code>_</code>ã§ã‚‚é–¢ä¿‚ã‚ã‚Šã¾ã›ã‚“ï¼</p>
<p>ãã®ãŸã‚ã€åŸå› ã®æœ¬è³ªã¯å¼•æ•°ã«è¨€åŠ<small>ï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒï¼‰</small>ã—ã¦ã„ã‚‹ã‹å¦ã‹ã§ã‚ã‚Šã€<code>Prelude</code>ã®<code>const</code>ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã‹å¦ã‹ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã“ã¡ã‚‰ğŸ‘‡ã®ã‚ˆã†ã«å¼•æ•°ã«è¨€åŠã—ãŸä¸Šã§<code>const</code>ã‚’ä½¿ã£ã¦ã‚‚ã€çµæœã¯åŒã˜ãªã®ã§ã™ã€‚</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb11-1" title="1"><span class="ot">referArgsByConst ::</span> a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> a</a>
<a class="sourceLine" id="cb11-2" title="2">referArgsByConst x y <span class="ot">=</span> <span class="fu">const</span> x y</a></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb12-1" title="1"><span class="fu">print</span> <span class="op">$</span> referArgsByConst <span class="st">&quot;referArgsByConst&quot;</span> (<span class="fu">undefined</span><span class="ot"> ::</span> <span class="dt">Int</span>)</a></code></pre></div>
<p>ä¸€æ–¹ã€<code>dontReferArgs</code>ã«ã¤ã„ã¦ã¯ã€å¼•æ•°ã«è¨€åŠã›ãšã€<code>Prelude</code>ã«ã‚ã‚‹<code>const</code>ã‚’ãã®ã¾ã¾ä½¿ã£ã¦ã„ã¾ã™ã€‚<code>Strict</code>æ‹¡å¼µã¯ã‚ãã¾ã§ã‚‚ã€Œãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã—ãŸå¤‰æ•°ã€ã®ã¿ã‚’<span class="ascii">WHNF</span>ã¾ã§è©•ä¾¡ã™ã‚‹ã‚‚ã®ã§ã‚ã‚Šã€ã‚ã‚‰ã‚†ã‚‹é–¢æ•°ãŒæ­£æ ¼ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãªã®ã§é€šå¸¸ã®<code>Prelude</code>ã«ãŠã‘ã‚‹<code>const</code>ã¨åŒæ§˜ã€<code>dontReferArgs</code>ã‚‚ç¬¬<span class="ascii">2</span>å¼•æ•°ã¯è©•ä¾¡ã—ãªã„ãŸã‚ã€<code>undefined</code>ã‚’æ¸¡ã—ã¦ã‚‚ä¾‹å¤–ã¯èµ·ã“ã‚‰ãªã‹ã£ãŸã®ã§ã™ã€‚</p>
<p>ã“ã®ã“ã¨ã¯ã€ã€Œ<strong><code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ã¦ã„ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä¸­ã§ã‚‚ã€<code>Strict</code>ã‚’æœ‰åŠ¹ã«ã—ã¦ã„ãªã„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«<small>ï¼ˆã“ã®å ´åˆã¯<code>Prelude</code>ï¼‰</small>ã‹ã‚‰<code>import</code>ã—ãŸé–¢æ•°ã¯ã€å¼•æ•°ã‚’æ­£æ ¼ã«è©•ä¾¡ã—ãªã„</strong>ã€ã¨ã„ã†å¿˜ã‚Œã¦ã¯ãªã‚‰ãªã„ãƒã‚¤ãƒ³ãƒˆã‚‚ç¤ºã—ã¦ã„ã¾ã™ã€‚ä¾‹ãˆã°<code>const</code>ã‚ˆã‚Šã‚‚ã‚‚ã£ã¨é »ç¹ã«ä½¿ã‚ã‚Œã‚‹ã§ã‚ã‚ã†ã€è¨€åŠã™ã‚‹å¼•æ•°ã‚’ä¸€ã¤å‰Šé™¤ã™ã‚‹æ¼”ç®—å­ã®ä»£è¡¨ã€é–¢æ•°åˆæˆ<code>.</code>ã‚’ä½¿ã£ãŸã‚±ãƒ¼ã‚¹ã‚’è€ƒãˆã¦ã¿ã¦ãã ã•ã„ã€‚</p>
<p>ãƒã‚¤ãƒ³ãƒˆãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã«æ…£ã‚ŒãŸæ–¹ãªã‚‰ã€é–¢æ•°é©ç”¨<code>$</code>ã‚’æ¬¡ğŸ‘‡ã®ã‚ˆã†ã«ä½¿ã£ã¦å®šç¾©ã—ãŸ<code>f</code>ã‚’è¦‹ã‚‹ã¨ã€</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb13-1" title="1">f xs <span class="ot">=</span> <span class="fu">map</span> (<span class="op">+</span> <span class="dv">3</span>) <span class="op">$</span> <span class="fu">filter</span> (<span class="op">&gt;</span> <span class="dv">2</span>) xs</a>
<a class="sourceLine" id="cb13-2" title="2"></a>
<a class="sourceLine" id="cb13-3" title="3"><span class="co">-- ã‚ã‚‹ã„ã¯ã€`$`ã‚’ä½¿ã‚ãªã„ã§ã“ã®ã‚ˆã†ã«æ›¸ã„ãŸå ´åˆã‚‚:</span></a>
<a class="sourceLine" id="cb13-4" title="4">f xs <span class="ot">=</span> <span class="fu">map</span> (<span class="op">+</span> <span class="dv">3</span>) (<span class="fu">filter</span> (<span class="op">&gt;</span> <span class="dv">2</span>) xs)</a></code></pre></div>
<p>ã“ã¡ã‚‰ğŸ‘‡ã®ã‚ˆã†ã«æ›¸ãæ›ãˆãŸããªã£ã¦ã†ãšã†ãšã™ã‚‹ã§ã—ã‚‡ã†ã€‚</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb14-1" title="1">f <span class="ot">=</span> <span class="fu">map</span> (<span class="op">+</span> <span class="dv">3</span>) <span class="op">.</span> <span class="fu">filter</span> (<span class="op">&gt;</span> <span class="dv">2</span>)</a></code></pre></div>
<p>ã—ã‹ã—ã€<code>Strict</code>ã‚’æœ‰åŠ¹ã«ã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã“ã®ã‚ˆã†ãªæ›¸ãæ›ãˆã‚’è¡Œã†ã¨ã€<code>f</code>ã®æŒ™å‹•ãŒå¤‰ã‚ã£ã¦ã—ã¾ã„ã¾ã™ã€‚å¼•æ•°<code>.</code>ã‚’ä½¿ã£ã¦æ›¸ãæ›ãˆã‚‹å‰ã¯ã€å¼•æ•°<code>xs</code>ã«è¨€åŠã—ã¦ã„ãŸã¨ã“ã‚<code>.</code>ã‚’ä½¿ã£ã¦å¼•æ•°<code>xs</code>ã«è¨€åŠã—ãªããªã£ãŸã‹ã‚‰ã§ã™ã€‚<code>filter</code>ã‚‚<code>map</code>ã‚‚<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªã„ã®ã§ã€å¼•æ•°ã‚’æ­£æ ¼ã«è©•ä¾¡ã—ãªã„ã‚“ã§ã™ã­ã€‚çµæœã€ã“ã†ã—ãŸæ›¸ãæ›ãˆã«ã‚ˆã£ã¦ã€<strong><code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ã¦ã„ã¦ã‚‚æ„å›³ã›ãšé…å»¶è©•ä¾¡ã—ã¦ã—ã¾ã†</strong>ã€ã¨ã„ã†ãƒªã‚¹ã‚¯ãŒã‚ã‚‹ã®ã§ã€ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®éš›ã¯ãã‚Œãã‚Œã‚‚æ°—ã‚’ã¤ã‘ã¦ãã ã•ã„<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>ã€‚ã–ã£ãã‚Šã¾ã¨ã‚ã‚‹ã¨ã€<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ã¦ã„ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã¯ã€ã€Œå¼•æ•°ã‚„å¤‰æ•°ã‚’å®£è¨€ã™ã‚‹ã“ã¨ã™ãªã‚ã¡<span class="ascii">WHNF</span>ã¾ã§è©•ä¾¡ã™ã‚‹ã“ã¨ã€ã€ã‚ã‚‹ã„ã¯ã€Œå¼•æ•°ã‚„å¤‰æ•°ã‚’å®£è¨€ã—ãªã‘ã‚Œã°ã€è©•ä¾¡ã•ã‚Œãªã„ã€ã¨æ„è­˜ã—ã¾ã—ã‚‡ã†ã€‚</p>
<p>ã¡ãªã¿ã«ã€<code>referArgs</code>ã«ãŠã‘ã‚‹<code>_</code>ã®ã‚ˆã†ã«ã€Œ<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãŸå ´åˆã•ãˆã€ä½¿ç”¨ã—ã¦ã„ãªã„å¼•æ•°ãŒè©•ä¾¡ã•ã‚Œã¦ã—ã¾ã†ã®ã¯å›°ã‚‹ï¼ã€ã¨ã„ã†å ´åˆã¯ã€å¼•æ•°åã®å‰ã«ãƒãƒ«ãƒ€<code>~</code>ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb15-1" title="1"><span class="ot">referArgs ::</span> a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> a</a>
<a class="sourceLine" id="cb15-2" title="2">referArgs x <span class="op">~</span>_ <span class="ot">=</span> x</a></code></pre></div>
<h1 id="case-3-å†…å´ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã‚„ã£ã±ã‚Šãƒ€ãƒ¡"><span class="link-to-here-outer"><a href="#case-3-å†…å´ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã‚„ã£ã±ã‚Šãƒ€ãƒ¡" title="case-3-å†…å´ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã‚„ã£ã±ã‚Šãƒ€ãƒ¡"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Case 3:</span> å†…å´ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã‚„ã£ã±ã‚Šãƒ€ãƒ¡</h1>
<p>ã‚µãƒ³ãƒ—ãƒ«<span class="ascii">:</span> ä»Šå›ã¯<span class="ascii">GHCi</span>ã§ã™ã¹ã¦ç´¹ä»‹ã™ã‚‹ã®ã§ã‚µãƒ³ãƒ—ãƒ«ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<p>ç¶šã„ã¦ã¯ã€<code>Strict</code>æ‹¡å¼µã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã‚‚è§¦ã‚Œã‚‰ã‚Œã¦ã„ã‚‹ã€å…¥ã‚Œå­ã«ãªã£ãŸãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã«ãŠã‘ã‚‹å•é¡Œã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ä¸€è¨€ã§è¨€ã†ã¨ã€<code>let (a, b) = ...</code>ã®ã‚ˆã†ãªã€ãƒ‡ãƒ¼ã‚¿æ§‹é€ <small>ï¼ˆã“ã®å ´åˆã‚¿ãƒ—ãƒ«ã§ã™ã­ï¼‰</small>ã®ã€Œå†…å´ã€ã«å¯¾ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã¯ã€<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ã¦ã„ã¦ã‚‚æ­£æ ¼ã«è©•ä¾¡ã—ãªã„ã‚ˆã€ã¨ã„ã†è©±ã§ã™ã€‚</p>
<p>ä¾‹ãˆã°ã€ä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’<code>Strict</code>æ‹¡å¼µä»˜ãã§å®Ÿè¡Œã—ã¦ã‚‚ã€ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã—ã¦ã„ã‚‹<code>a</code>ãƒ»<code>b</code>ã¨ã‚‚ã«ä»£å…¥ã—ãŸæ™‚ç‚¹ã§ã¯æ­£æ ¼è©•ä¾¡ã•ã‚Œãšã€<code>error "a"</code>ãƒ»<code>error "b"</code>ã«ã‚ˆã‚‹ä¾‹å¤–ã¯ã„ãšã‚Œã‚‚ç™ºç”Ÿã—ã¾ã›ã‚“ã€‚æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’<span class="ascii">GHCi</span>ã§è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb16-1" title="1"><span class="op">&gt;</span> <span class="op">:</span>set <span class="op">-</span><span class="dt">XStrict</span></a>
<a class="sourceLine" id="cb16-2" title="2"><span class="op">&gt;</span> (a, b) <span class="ot">=</span> (<span class="fu">error</span> <span class="st">&quot;a&quot;</span>, <span class="fu">error</span> <span class="st">&quot;b&quot;</span>)</a>
<a class="sourceLine" id="cb16-3" title="3"><span class="co">-- ä½•ã‚‚èµ·ããªã„</span></a></code></pre></div>
<p>å…ˆã»ã©ã®ç¯€ã«ãŠã‘ã‚‹ã€Œ<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ã¦ã„ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã¯ã€ã€å¼•æ•°ã‚„å¤‰æ•°ã‚’å®£è¨€ã™ã‚‹ã“ã¨ã™ãªã‚ã¡<span class="ascii">WHNF</span>ã¾ã§è©•ä¾¡ã™ã‚‹ã“ã¨ã€ã€ã€ã‚ã‚‹ã„ã¯ã€å¼•æ•°ã‚„å¤‰æ•°ã‚’å®£è¨€ã—ãªã‘ã‚Œã°ã€è©•ä¾¡ã•ã‚Œãªã„ã€ã¨æ„è­˜ã—ã¾ã—ã‚‡ã†ã€ã¨ã„ã†ä¸»å¼µã‚’çœŸã«å—ã‘ã¦ã—ã¾ã†ã¨ã€æ„å›³ã›ãšé…å»¶è©•ä¾¡ã•ã›ã¦ã—ã¾ã„ã€ãƒãƒã‚Šãã†ã§ã™ğŸ˜°ã€‚âš ï¸ç¹°ã‚Šè¿”ã—ã¾ã™ãŒã€Œ<strong>å†…å´ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ãŠã‘ã‚‹å¤‰æ•°ã¯æ­£æ ¼è©•ä¾¡ã•ã‚Œãªã„</strong>ã€ã¨ã„ã†ã“ã¨ã‚‚æ„è­˜ã—ã¦ãã ã•ã„ã€‚</p>
<p>ä¸€æ–¹ã€<code>StrictData</code>ã‚„æ­£æ ¼æ€§ãƒ•ãƒ©ã‚°ã‚’ç”¨ã„ã‚‹ãªã©ã—ã¦ã€å„è¦ç´ ã‚’æ­£æ ¼è©•ä¾¡ã™ã‚‹ã‚ˆã†å®šç¾©ã—ãŸå€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã§ã¯ã€ã¡ã‚ƒã‚“ã¨è©•ä¾¡ã—ã¦ä¾‹å¤–ã‚’ç™ºç”Ÿã•ã›ã¾ã™ã€‚</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb17-1" title="1"><span class="op">&gt;</span> <span class="op">:</span>set <span class="op">-</span><span class="dt">XStrict</span></a>
<a class="sourceLine" id="cb17-2" title="2"><span class="op">&gt;</span> <span class="kw">data</span> <span class="dt">MyTuple</span> a b <span class="ot">=</span> <span class="dt">MyTuple</span> a b <span class="kw">deriving</span> <span class="dt">Show</span></a>
<a class="sourceLine" id="cb17-3" title="3"><span class="op">&gt;</span> <span class="kw">let</span> <span class="dt">MyTuple</span> a b <span class="ot">=</span> <span class="dt">MyTuple</span> (<span class="fu">error</span> <span class="st">&quot;a&quot;</span>) (<span class="fu">error</span> <span class="st">&quot;b&quot;</span>)</a>
<a class="sourceLine" id="cb17-4" title="4"><span class="op">***</span> <span class="dt">Exception</span><span class="op">:</span> b</a>
<a class="sourceLine" id="cb17-5" title="5"><span class="dt">CallStack</span> (from <span class="dt">HasCallStack</span>)<span class="op">:</span></a>
<a class="sourceLine" id="cb17-6" title="6">  <span class="fu">error</span>, called at <span class="op">&lt;</span>interactive<span class="op">&gt;:</span><span class="dv">10</span><span class="op">:</span><span class="dv">40</span> <span class="kw">in</span> interactive<span class="op">:</span><span class="dt">Ghci7</span></a></code></pre></div>
<p><code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¨<code>StrictData</code>ã‚‚è‡ªå‹•çš„ã«æœ‰åŠ¹ã«ãªã‚‹ã®ã§ã€ğŸ‘†ã«ãŠã‘ã‚‹<code>MyTuple</code>å€¤ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã¯å„è¦ç´ ã‚’æ­£æ ¼è©•ä¾¡ã™ã‚‹ã‚ˆã†ã«ãªã£ãŸã‚ã‘ã§ã™ã€‚ãªã®ã§<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ãŠã„ã¦ã€ãªãŠã‹ã¤ãã“ã§å®šç¾©ã—ãŸå‹ã§å®Œçµã—ã¦ã„ã‚‹é™ã‚Šã¯å¹³å’Œã§ã—ã‚‡ã†ã€‚</p>
<p>ãŸã ã—ã€<span class="ascii">GHCi</span>ã§è©¦ã™å ´åˆã«ç‰¹ã«æ³¨æ„ã—ã¦ã„ãŸã ããŸã„ã®ã§ã™ãŒã€<span class="ascii">GHCi</span>ã§<strong><code>let</code>ã‚’ã¤ã‘ãªã„ã§ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã—ãŸå ´åˆã¯æ­£æ ¼è©•ä¾¡ã•ã‚Œãªã„</strong>ã€ã¨ã„ã†ç‚¹ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚<code>let</code>ã‚’ã¤ã‘ãªã„ã¨ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã§ã®å®šç¾©ã¨è¦‹ãªã•ã‚Œã‚‹ã‹ã‚‰ã§ã™ã€‚<a href="https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/glasgow_exts.html#strict-by-default-pattern-bindings"><span class="ascii">Strict</span>æ‹¡å¼µã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã«ã‚‚ã€ã€Œ<span class="ascii">Top level bindings are unaffected by</span> <code>Strict</code>ã€ã¨ã‚ã‚Šã¾ã™ã¨ãŠã‚Šã€ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã§ã®å®šç¾©ã¯ä¾‹å¤–æ‰±ã„ã•ã‚Œã¦ã„ã‚‹ã®ã§ã™ã€‚</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb18-1" title="1"><span class="op">&gt;</span> <span class="op">:</span>set <span class="op">-</span><span class="dt">XStrict</span></a>
<a class="sourceLine" id="cb18-2" title="2"><span class="op">&gt;</span> <span class="kw">data</span> <span class="dt">MyTuple</span> a b <span class="ot">=</span> <span class="dt">MyTuple</span> a b <span class="kw">deriving</span> <span class="dt">Show</span></a>
<a class="sourceLine" id="cb18-3" title="3"><span class="op">&gt;</span> <span class="dt">MyTuple</span> a b <span class="ot">=</span> <span class="dt">MyTuple</span> (<span class="fu">error</span> <span class="st">&quot;a&quot;</span>) (<span class="fu">error</span> <span class="st">&quot;b&quot;</span>)</a>
<a class="sourceLine" id="cb18-4" title="4"><span class="co">-- ä½•ã‚‚èµ·ããªã„</span></a></code></pre></div>
<h1 id="case-4-foldrã«æ¸¡ã™é–¢æ•°"><span class="link-to-here-outer"><a href="#case-4-foldrã«æ¸¡ã™é–¢æ•°" title="case-4-foldrã«æ¸¡ã™é–¢æ•°"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Case 4:</span> <code>foldr</code>ã«æ¸¡ã™é–¢æ•°</h1>
<p>ã‚µãƒ³ãƒ—ãƒ«<span class="ascii">:</span> <a href="https://github.com/haskell-jp/blog/blob/master/examples/2020/strict-gotchas/stackoverflow-foldr.hs"><span class="ascii">stackoverflow-foldr.hs</span></a></p>
<p>ã“ã“ã®è©±ã¯ã¡ã‚‡ã£ã¨é›£ã—ã„ã®ã§ã€å…ˆã«å®ˆã‚‹ã¹ããƒ«ãƒ¼ãƒ«ã‚’è¿°ã¹ã¦ãŠãã¾ã™ã€‚</p>
<p>ã€Œé…å»¶è©•ä¾¡ã™ã‚‹é–¢æ•°ã‚’å—ã‘å–ã‚‹å‰æã®é«˜éšé–¢æ•°ã«ã€ï¼ˆ<code>Strict</code>æ‹¡å¼µãªã©ã§ï¼‰å¼•æ•°ã‚’æ­£æ ¼ã«è©•ä¾¡ã™ã‚‹ã‚ˆã†å®šç¾©ã•ã‚ŒãŸé–¢æ•°ã‚’æ¸¡ã™ã®ã¯æ­¢ã‚ã¾ã—ã‚‡ã†ã€‚ã€</p>
<p>ãªã‚“ã ã‹ã“ã†æ›¸ãã¨åŠã°ãƒˆãƒ¼ãƒˆãƒ­ã‚¸ãƒ¼ã®ã‚ˆã†ã«ã‚‚èã“ãˆã¾ã™ãŒã€ã‚ˆã‚Šå…·ä½“çš„ã«ã¯ã€ä¾‹ãˆã°<code>foldr</code>ã«å¼•æ•°ã‚’æ­£æ ¼ã«è©•ä¾¡ã™ã‚‹ã‚ˆã†å®šç¾©ã•ã‚ŒãŸé–¢æ•°ã‚’æ¸¡ã™ã®ã¯æ­¢ã‚ã¾ã—ã‚‡ã†ã€ã¨ã„ã†è©±ã§ã™ã€‚<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãŸçŠ¶æ…‹ã§ã¯ã€ãƒ©ãƒ ãƒ€å¼ã«ã‚‚æ³¨æ„ã—ãªã„ã¨ã„ã‘ãªã„ã‚‚ãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚</p>
<p>â€»ã‚ã‚‰ã‹ã˜ã‚ãŠã“ã¨ã‚ã‚Š<span class="ascii">:</span> ã“ã®ç¯€ã®ãŠè©±ã¯ã€ã‚ãã¾ã§ã‚‚ãƒªã‚¹ãƒˆã«å¯¾ã™ã‚‹<code>foldr</code>ã®å ´åˆã®ãŠè©±ã§ã™ã€‚ä»–ã®<code>Foldable</code>ãªå‹ã§ã¯å¿…ãšã—ã‚‚å½“ã¦ã¯ã¾ã‚‰ãªã„ã®ã§ã”æ³¨æ„ãã ã•ã„ã€‚</p>
<p>è«–ã‚ˆã‚Šè¨¼æ‹ ã§ã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®ä¸­èº«ï¼ˆæŠœç²‹ï¼‰ã¨ãã®å®Ÿè¡Œçµæœã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<pre class="main"><code>-- ...
evaluate . length $ foldr (:) [] [1 .. size]
putStrLn &quot;DONE: foldr 1&quot;

evaluate . length $ foldr (\x z -&gt; x : z) [] [1 .. size]
putStrLn &quot;DONE: foldr 2&quot;</code></pre>
<p>ä»Šå›ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹éš›ã¯ã€<span class="ascii">GHC</span>ã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã—ã¦ã€ã‚¹ã‚¿ãƒƒã‚¯é ˜åŸŸã®ã‚µã‚¤ã‚ºã‚’æ¸›ã‚‰ã—ã¦ãã ã•ã„ã€‚ãã†ã§ãªã‘ã‚Œã°ã€å‡¦ç†ã™ã‚‹ãƒªã‚¹ãƒˆãŒã‚ã¾ã‚Šå¤§ãããªã„ã®ã§<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ã¦ã‚‚å•é¡Œã®ç¾è±¡ã¯å†ç¾ã•ã‚Œãªã„ã§ã—ã‚‡ã†<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a>ã€‚<a href="https://stackoverflow.com/questions/29339643/how-can-i-pass-rts-options-to-runghc">ã“ã¡ã‚‰ã®<span class="ascii">Stackoverflow</span>ã®è³ªå•</a>æ›°ãã€<code>runghc</code>ã§å®Ÿè¡Œã™ã‚‹éš›ã«ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã™ã‚‹å ´åˆã¯ã€<code>GHCRTS</code>ç’°å¢ƒå¤‰æ•°ã‚’ä½¿ç”¨ã™ã‚‹ã—ã‹ãªã„ãã†ã§ã™ã€‚</p>
<p>å®Ÿè¡Œçµæœï¼ˆ<span class="ascii">Strict</span>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãªã‹ã£ãŸå ´åˆï¼‰<span class="ascii">:</span></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb20-1" title="1"><span class="op">&gt;</span> <span class="va">GHCRTS=</span>-K100k <span class="ex">stack</span> exec runghc -- ./stackoverflow-foldr.hs</a>
<a class="sourceLine" id="cb20-2" title="2"><span class="ex">DONE</span>: foldr 1</a>
<a class="sourceLine" id="cb20-3" title="3"><span class="ex">DONE</span>: foldr 2</a></code></pre></div>
<p>å®Ÿè¡Œçµæœï¼ˆ<span class="ascii">Strict</span>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãŸå ´åˆï¼‰<span class="ascii">:</span></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb21-1" title="1"><span class="op">&gt;</span> <span class="va">GHCRTS=</span>-K100k <span class="ex">stack</span> exec runghc -- --ghc-arg=-XStrict ./stackoverflow-foldr.hs</a>
<a class="sourceLine" id="cb21-2" title="2"><span class="ex">DONE</span>: foldr 1</a>
<a class="sourceLine" id="cb21-3" title="3"><span class="ex">stackoverflow-foldr.hs</span>: stack overflow</a></code></pre></div>
<p>ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯æ•´æ•°ã®ãƒªã‚¹ãƒˆã«å¯¾ã—ã¦ç‰¹ã«ä½•ã‚‚å¤‰æ›ã›ãš<code>foldr</code>ã™ã‚‹<small>ï¼ˆãã—ã¦ã€<code>length</code>é–¢æ•°ã§ãƒªã‚¹ãƒˆå…¨ä½“ã‚’è©•ä¾¡ã—ã¦ã‹ã‚‰æ¨ã¦ã‚‹ï¼‰</small>ã ã‘ã®ã“ã¨ã‚’<span class="ascii">2</span>å›ç¹°ã‚Šè¿”ã—ãŸã‚³ãƒ¼ãƒ‰ã§ã™ã€‚æœ€åˆã®<code>foldr</code>ã¯<code>Strict</code>æ‹¡å¼µãŒã‚ã‚ã†ã¨ãªã‹ã‚ã†ã¨ç„¡äº‹å®Ÿè¡Œã§ããŸã«ã‚‚ã‹ã‹ã‚ã‚‰ãšã€<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãŸäºŒã¤ã‚ã®<code>foldr</code>ã¯ã€<code>stack overflow</code>ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ã‚’èµ·ã“ã—ã¦ã—ã¾ã„ã¾ã—ãŸğŸ’¥ï¼</p>
<p>ãªãœã“ã‚“ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã®ã‹ã‚’çŸ¥ã‚‹ãŸã‚ã«ã€<code>foldr</code>ã®å®šç¾©ã‚’è¦‹ç›´ã—ã¾ã—ã‚‡ã†ã€‚ã“ã¡ã‚‰ğŸ‘‡ã¯<a href="http://hackage.haskell.org/package/base-4.14.0.0/docs/src/GHC.Base.html#foldr"><span class="ascii">GHC 8.10.1</span>ã«ãŠã‘ã‚‹ã€ãƒªã‚¹ãƒˆã«å¯¾ã™ã‚‹<code>foldr</code>ã®å®šç¾©</a>ã§ã™<small>ï¼ˆã‚³ãƒ¡ãƒ³ãƒˆã¯çœç•¥ã—ã¦ã„ã¾ã™ï¼‰</small>ã€‚</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb22-1" title="1"><span class="fu">foldr</span><span class="ot">            ::</span> (a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> b) <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> [a] <span class="ot">-&gt;</span> b</a>
<a class="sourceLine" id="cb22-2" title="2"><span class="fu">foldr</span> k z <span class="ot">=</span> go</a>
<a class="sourceLine" id="cb22-3" title="3">          <span class="kw">where</span></a>
<a class="sourceLine" id="cb22-4" title="4">            go []     <span class="ot">=</span> z</a>
<a class="sourceLine" id="cb22-5" title="5">            go (y<span class="op">:</span>ys) <span class="ot">=</span> y <span class="ot">`k`</span> go ys</a></code></pre></div>
<p><code>go</code>ã¨ã„ã†è£œåŠ©é–¢æ•°ã‚’å†å¸°çš„ã«å‘¼ã³å‡ºã™ã“ã¨ã§ã€ç¬¬ä¸€å¼•æ•°ã¨ã—ã¦æ¸¡ã—ãŸé–¢æ•°<code>k</code>ã‚’ç”¨ã„ã¦ãƒªã‚¹ãƒˆã®è¦ç´ <span class="ascii">(</span><code>y</code><span class="ascii">)</span>ã‚’ä¸€ã¤ãšã¤å¤‰æ›ã—ã¦ã„ã¾ã™ã€‚å‘¼ã³å‡ºã™åº¦ã«ãƒªã‚¹ãƒˆã®æ®‹ã‚Šã®è¦ç´ ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã€æœ€çµ‚çš„ã«ç©ºã®ãƒªã‚¹ãƒˆã‚’å—ã‘å–ã£ãŸã¨ãã¯<code>foldr</code>ã®ç¬¬äºŒå¼•æ•°<code>z</code>ã‚’è¿”ã—ã¦ã„ã¾ã™ã­ã€‚</p>
<p>ã“ã®ã¨ã<code>k</code>ãŒç¬¬äºŒå¼•æ•°ã‚’é…å»¶è©•ä¾¡ã™ã‚‹é–¢æ•°ã§ã‚ã£ãŸå ´åˆã€ â€” ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§è¨€ãˆã°<code>(:)</code>ã®å ´åˆ â€” å—ã‘å–ã£ãŸ<code>go ys</code>ã¨ã„ã†å¼ã¯ç›´ã¡ã«ã¯è©•ä¾¡ã•ã‚Œã¾ã›ã‚“ã€‚ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®<code>(:)</code>ã«ç½®ãæ›ãˆã‚‹ã¨ã€<code>(:)</code>ã®ç¬¬äºŒå¼•æ•°ã€ã¤ã¾ã‚Šãƒªã‚¹ãƒˆã®æ®‹ã‚Šã®è¦ç´ ã‚’å–ã‚Šå‡ºã™åº¦ã«<code>go ys</code>ã‚’ä¸€å›è¨ˆç®—ã—ã¦ã€ä¸€å€‹ãšã¤è¦ç´ ã‚’ä½œã‚Šå‡ºã™ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚</p>
<p>ä¸€æ–¹ã€<code>k</code>ãŒç¬¬äºŒå¼•æ•°ã‚’æ­£æ ¼è©•ä¾¡ã™ã‚‹é–¢æ•°ã§ã‚ã£ãŸå ´åˆã€ â€” ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§è¨€ã†ã¨ã“ã‚ã®ã€<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãŸ<code>(\x z -&gt; x : z)</code>ã®å ´åˆ â€” <code>k</code>ã¯å—ã‘å–ã£ãŸ<code>go ys</code>ã‚’ã™ãã«è©•ä¾¡ã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚ã“ã®ã¨ãã€<span class="ascii">GHC</span>ã¯<code>k</code>ã‚„<code>go</code>ã«æ¸¡ã•ã‚Œã¦ã„ã‚‹å¼•æ•°ã‚’ã‚¹ã‚¿ãƒƒã‚¯é ˜åŸŸã«ç©ã¿ã¾ã™<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a>ã€‚ãã†ã—ã¦<code>go</code>ã¨ã€<code>go</code>ã«å‘¼ã°ã‚ŒãŸ<code>k</code>ãŒæ¬¡ã€…ã¨å¼•æ•°ã‚’ã‚¹ã‚¿ãƒƒã‚¯é ˜åŸŸã«ç©ã‚“ã çµæœã€ã‚¹ã‚¿ãƒƒã‚¯ã‚µã‚¤ã‚ºã®ä¸Šé™ã«é”ã—ã€ã‚¹ã‚¿ãƒƒã‚¯ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ãŒç™ºç”Ÿã—ã¦ã—ã¾ã†ã®ã§ã™ã€‚</p>
<p>ã“ã‚Œã¯ä»–ã®å¤šãã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§<small>ï¼ˆæœ«å°¾å†å¸°ã˜ã‚ƒãªã„ã€æ™®é€šã®ï¼‰</small>å†å¸°å‘¼ã³å‡ºã—ã‚’è¡Œã£ãŸå ´åˆã¨ã‚ˆãä¼¼ãŸæŒ¯ã‚‹èˆã„ã§ã™ã€‚é–“é•ã£ã¦ç„¡é™å†å¸°å‘¼ã³å‡ºã—ã‚’ã—ã¦ã—ã¾ã£ã¦ã‚¹ã‚¿ãƒƒã‚¯é ˜åŸŸãŒã‚ãµã‚Œã‚‹ã€ãªã‚“ã¦çµŒé¨“ã¯å¤šãã®ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ãŒãŠæŒã¡ã§ã—ã‚‡ã†ã€‚ã¤ã¾ã‚Šå˜ç´”ã«ã€<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãŸå ´åˆã®<code>foldr (\x z -&gt; x : z) []</code>ã¯ã€å†å¸°å‘¼ã³å‡ºã—ã‚’ã—ã™ãã¦ã—ã¾ã†é–¢æ•°ã¨ãªã‚‹ã®ã§ã™ã€‚</p>
<p>ãªãŠã€ä»Šå›ã¯<code>length</code>é–¢æ•°ã‚’ä½¿ã£ã¦ãƒªã‚¹ãƒˆå…¨ä½“ã‚’ä½¿ç”¨ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã«ã—ã¾ã—ãŸãŒã€é…å»¶ãƒªã‚¹ãƒˆã‚‰ã—ã<code>foldr</code>ã®çµæœã‚’ä¸€éƒ¨ã—ã‹ä½¿ã‚ãªã„ã€ã¨ã„ã†å ´åˆã€<code>foldr</code>ã«æ¸¡ã—ãŸé–¢æ•°ãŒãƒªã‚¹ãƒˆã‚’éƒ½åº¦æ­£æ ¼è©•ä¾¡ã—ã¦ã—ã¾ã†ã®ã§ã€ç„¡é§„ãªè©•ä¾¡ãŒå ã‚ã‚‹å‰²åˆã¯ã‚‚ã£ã¨å¢—ãˆã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ã‚„ã¯ã‚Š<code>foldr</code>ã¯é…å»¶è©•ä¾¡ã‚’å‰æã¨ã—ãŸé«˜éšé–¢æ•°ã¨è¨€ãˆã‚‹ã§ã—ã‚‡ã†ã€‚</p>
<p>ä»¥ä¸Šã®ã¨ãŠã‚Šã€<span class="ascii">Haskell</span>ã«ã¯<code>foldr</code>ã®ã‚ˆã†ãªã€é…å»¶è©•ä¾¡ã‚’å‰æã¨ã—ãŸé–¢æ•°ãŒ<code>Strict</code>æ‹¡å¼µã‚ˆã‚Šé¥ã‹æ˜”ã‹ã‚‰å­˜åœ¨ã—ã¦ã„ã¾ã™ã€‚ãã‚Œã‚‰ã‚’<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãŸçŠ¶æ…‹ã§ä½¿ã†ã¨ã€æ€ã‚ã¬è¡çªãŒèµ·ãã¦ã—ã¾ã†ã®ã§ã€ãã‚Œãã‚Œã‚‚æ°—ã‚’ã¤ã‘ã¾ã—ã‚‡ã†ã€‚</p>
<p>ã“ã†ã„ã†ã€Œä½¿ã£ã¦ã¯ã„ã‘ãªã„é–¢æ•°ã€ã‚’å¼•ã„ã¦ã—ã¾ã‚ãªã„ãŸã‚ã®æ–¹æ³•ã«ã¤ã„ã¦ã‚‚ä¸€ç‚¹è£œè¶³ã—ã¾ã™ã€‚<span class="ascii">HLint</span>ã‚’ç´°ã‹ãè¨­å®šã—ãŸã‚Šã€ã‚«ã‚¹ã‚¿ãƒ <code>Prelude</code>ã‚’è¨­å®šã—ãŸã‚Šã—ã¦ã¿ã‚‹ã®ã¯ã€ä¸€ã¤ã®ä½œæˆ¦ã§ã™ã€‚ãªã‚“ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã§ã€<code>foldr</code>ã‚’ç¦æ­¢ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™<small>ï¼ˆä¸€éƒ¨ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã¯ä¾‹å¤–çš„ã«è¨±å¯ã™ã‚‹ã€ãªã‚“ã¦ã“ã¨ã‚‚ã§ãã¾ã™ï¼‰</small>ã€‚è©³ã—ãã¯<a href="https://haskell.e-bigmoon.com/posts/2018/01-29-awesome-hlint.html">ã€Œç´ æ™´ã‚‰ã—ã <span class="ascii">HLint</span> ã‚’ä½¿ã„ã“ãªã™ã€</a>ã‚„<a href="https://haskell.e-bigmoon.com/posts/2018/05-23-extended-prelude.html">ã€Œ<span class="ascii">Prelude</span> ã‚’ ã‚«ã‚¹ã‚¿ãƒ <span class="ascii">Prelude</span> ã§ç½®ãæ›ãˆã‚‹ã€</a>ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
<h1 id="case-5-undefinedã‚’å—ã‘å–ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰"><span class="link-to-here-outer"><a href="#case-5-undefinedã‚’å—ã‘å–ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰" title="case-5-undefinedã‚’å—ã‘å–ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Case 5:</span> <code>undefined</code>ã‚’å—ã‘å–ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰</h1>
<p>ã‚µãƒ³ãƒ—ãƒ«<span class="ascii">:</span> <a href="https://github.com/haskell-jp/blog/blob/master/examples/2020/strict-gotchas/storable.hs"><span class="ascii">storable.hs</span></a></p>
<p>æœ€å¾Œã¯ã¡ã‚‡ã£ã¨ãƒ¬ã‚¢ã‚±ãƒ¼ã‚¹ã§ã¯ã‚ã‚Šã¾ã™ãŒã€ã“ã¡ã‚‰ğŸ‘‡ã®<span class="ascii">Issue</span>ã§ç™ºè¦šã—ãŸå•é¡Œã‚’è§£èª¬ã—ã¾ã—ã‚‡ã†ã€‚</p>
<p><a href="https://gitlab.haskell.org/ghc/ghc/issues/16810"><span class="ascii">#16810: Use explicit lazy binding around undefined in inlinable functions Â· Issues Â· Glasgow Haskell Compiler / GHC Â· GitLab</span></a></p>
<p>å•é¡Œã‚’ç°¡å˜ã«å†ç¾ã™ã‚‹ãŸã‚ã«ã€æ¬¡ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’ç”¨æ„ã—ã¾ã—ãŸã€‚</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb23-1" title="1"><span class="co">-- importãªã©ã¯å½“ç„¶çœç•¥ï¼</span></a>
<a class="sourceLine" id="cb23-2" title="2"><span class="kw">data</span> <span class="dt">Test</span> <span class="ot">=</span> <span class="dt">Test</span> <span class="dt">Int</span> <span class="dt">Int</span> <span class="kw">deriving</span> <span class="dt">Show</span></a>
<a class="sourceLine" id="cb23-3" title="3"></a>
<a class="sourceLine" id="cb23-4" title="4"><span class="kw">instance</span> <span class="dt">Storable</span> <span class="dt">Test</span> <span class="kw">where</span></a>
<a class="sourceLine" id="cb23-5" title="5">  sizeOf _ <span class="ot">=</span> sizeOf (<span class="dv">1</span><span class="ot"> ::</span> <span class="dt">Int</span>) <span class="op">*</span> <span class="dv">2</span></a>
<a class="sourceLine" id="cb23-6" title="6">  alignment _ <span class="ot">=</span> <span class="dv">8</span></a>
<a class="sourceLine" id="cb23-7" title="7">  peek <span class="ot">=</span> <span class="fu">error</span> <span class="st">&quot;This should not be called in this program&quot;</span></a>
<a class="sourceLine" id="cb23-8" title="8">  poke <span class="ot">=</span> <span class="fu">error</span> <span class="st">&quot;This should not be called in this program&quot;</span></a>
<a class="sourceLine" id="cb23-9" title="9"></a>
<a class="sourceLine" id="cb23-10" title="10">main <span class="ot">=</span> alloca <span class="op">$</span> \(<span class="ot">_ ::</span> <span class="dt">Ptr</span> <span class="dt">Test</span>) <span class="ot">-&gt;</span> <span class="fu">putStrLn</span> <span class="st">&quot;This won&#39;t be printed when Strict is enabled&quot;</span></a></code></pre></div>
<p>ã¯ã„ã€é©å½“ãªå‹ã‚’å®šç¾©ã—ã¦<a href="https://downloads.haskell.org/~ghc/8.10.1/docs/html/libraries/base-4.14.0.0/Foreign-Storable.html#t:Storable"><code>Storable</code></a>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã—ã¦ã€ãã‚Œã«å¯¾ã—ã¦<a href="https://downloads.haskell.org/~ghc/8.10.1/docs/html/libraries/base-4.14.0.0/Foreign-Marshal-Alloc.html#v:alloca"><code>alloca</code></a>ã‚’å‘¼ã¶ã ã‘ã®ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å®šç¾©ã‚’ã¯ã˜ã‚ã‹ãªã‚Šæ‰‹æŠœããªæ„Ÿã˜ã«ãªã£ã¡ã‚ƒã£ã¦ã¾ã™ãŒã€ã¾ãä»Šå›ã®å•é¡Œã‚’å†ç¾ã™ã‚‹ã®ã«ã¯ã“ã‚Œã§ååˆ†ãªã®ã§ã€ã”äº†æ‰¿ãã ã•ã„ğŸ™ã€‚</p>
<p>ã“ã®ã‚³ãƒ¼ãƒ‰ã€æ®‹å¿µãªãŒã‚‰<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãŸçŠ¶æ…‹ã§å®Ÿè¡Œã™ã‚‹ã¨ã€<code>undefined</code>ã«ã‚ˆã‚‹ä¾‹å¤–ãŒç™ºç”Ÿã—ã¦ã—ã¾ã„ã¾ã™ğŸ’¥ã€‚</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb24-1" title="1"><span class="op">&gt;</span> <span class="ex">stack</span> exec -- runghc --ghc-arg=-XStrict storable.hs</a>
<a class="sourceLine" id="cb24-2" title="2"><span class="ex">storable.hs</span>: Prelude.undefined</a>
<a class="sourceLine" id="cb24-3" title="3"><span class="ex">CallStack</span> (from HasCallStack)<span class="bu">:</span></a>
<a class="sourceLine" id="cb24-4" title="4">  <span class="ex">error</span>, called at libraries\base\GHC\Err.hs:79:14 in base:GHC.Err</a>
<a class="sourceLine" id="cb24-5" title="5">  <span class="ex">undefined</span>, called at libraries\base\Foreign\Marshal\Alloc.hs:117:31 in base:Foreign.Marshal.Alloc</a></code></pre></div>
<p>ã“ã¡ã‚‰ã¯<code>Strict</code>ã‚’æœ‰åŠ¹ã«ã—ãªã‹ã£ãŸå ´åˆã€‚ã‚„ã¯ã‚Šä¾‹å¤–ã¯èµ·ãã¦ã¾ã›ã‚“ã­ğŸ˜Œã€‚</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb25-1" title="1"><span class="op">&gt;</span> <span class="ex">stack</span> exec -- runghc storable.hs</a>
<a class="sourceLine" id="cb25-2" title="2"><span class="ex">This</span> won<span class="st">&#39;t be printed when Strict is enabled</span></a></code></pre></div>
<p>ã•ã¦ã“ã®ã€<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãŸå ´åˆã«ç™ºç”Ÿã—ãŸã€<code>undefined</code>ã«ã‚ˆã‚‹ä¾‹å¤–ã¯ã©ã“ã‹ã‚‰ã‚„ã£ã¦ããŸã®ã§ã—ã‚‡ã†ï¼Ÿä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã«ã¯ã„ãã¤ã‹<code>error</code>é–¢æ•°ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ç®‡æ‰€ãŒã‚ã‚Šã¾ã™ãŒã€ç™ºç”Ÿã—ãŸä¾‹å¤–ã¯ã‚ãã¾ã§ã‚‚<code>undefined</code>ã§ã™ã€‚è¦‹ãŸé™ã‚Šä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ãã®ã‚‚ã®ã‹ã‚‰ç™ºç”Ÿã—ãŸä¾‹å¤–ã§ã¯ãªã•ãã†ã§ã™ã­â€¦ğŸ¤”ã€‚</p>
<p>ãã®ç­”ãˆã¯ãªã‚“ã¨ã€<code>main</code>é–¢æ•°ã§å‘¼ã‚“ã§ã„ã‚‹<a href="https://downloads.haskell.org/~ghc/8.10.1/docs/html/libraries/base-4.14.0.0/src/Foreign-Marshal-Alloc.html#alloca"><code>alloca</code>ã®å®šç¾©</a>ã«ã‚ã‚Šã¾ã—ãŸï¼</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb26-1" title="1"><span class="ot">alloca ::</span> <span class="kw">forall</span> a b <span class="op">.</span> <span class="dt">Storable</span> a <span class="ot">=&gt;</span> (<span class="dt">Ptr</span> a <span class="ot">-&gt;</span> <span class="dt">IO</span> b) <span class="ot">-&gt;</span> <span class="dt">IO</span> b</a>
<a class="sourceLine" id="cb26-2" title="2">alloca  <span class="ot">=</span></a>
<a class="sourceLine" id="cb26-3" title="3">  allocaBytesAligned (sizeOf (<span class="fu">undefined</span><span class="ot"> ::</span> a)) (alignment (<span class="fu">undefined</span><span class="ot"> ::</span> a))</a></code></pre></div>
<p>ç¢ºã‹ã«ã€<code>sizeOf</code>ãƒ¡ã‚½ãƒƒãƒ‰ã‚„<code>alignment</code>ãƒ¡ã‚½ãƒƒãƒ‰ã«<code>undefined</code>ã‚’æ¸¡ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã¯ã„ãšã‚Œã‚‚<code>Storable</code>å‹ã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ãªã®ã§ã€ä¸Šè¨˜ã®<code>Test</code>å‹ã§ã‚‚ã‚‚ã¡ã‚ã‚“å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚ãã†ã€å®Ÿã¯ã“ã®<code>sizeOf</code>ãƒ¡ã‚½ãƒƒãƒ‰ã¨<code>alignment</code>ãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè£…ã§ã€ä¸‹ğŸ‘‡ã®ã‚ˆã†ã«å¼•æ•°<code>_</code>ã‚’å®£è¨€ã—ã¦ã„ã‚‹ã®ãŒå•é¡Œãªã®ã§ã™ï¼</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb27-1" title="1"><span class="kw">instance</span> <span class="dt">Storable</span> <span class="dt">Test</span> <span class="kw">where</span></a>
<a class="sourceLine" id="cb27-2" title="2">  sizeOf _ <span class="ot">=</span> sizeOf (<span class="dv">1</span><span class="ot"> ::</span> <span class="dt">Int</span>) <span class="op">*</span> <span class="dv">2</span></a>
<a class="sourceLine" id="cb27-3" title="3">  alignment _ <span class="ot">=</span> <span class="dv">8</span></a>
<a class="sourceLine" id="cb27-4" title="4">  <span class="co">-- ...</span></a></code></pre></div>
<p><a href="#case-2-ãƒã‚¤ãƒ³ãƒˆãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã‹ã©ã†ã‹ã§å¤‰ã‚ã‚‹">ã€Œ<span class="ascii">Case 2:</span> ãƒã‚¤ãƒ³ãƒˆãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã‹ã©ã†ã‹ã§å¤‰ã‚ã‚‹ï¼ã€ã®ç¯€</a>ã§ã€ã€Œ<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ã¦ã„ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã¯ã€ã€å¼•æ•°ã‚„å¤‰æ•°ã‚’å®£è¨€ã™ã‚‹ã“ã¨ã™ãªã‚ã¡<span class="ascii">WHNF</span>ã¾ã§è©•ä¾¡ã™ã‚‹ã“ã¨ã€ã€ã€ã‚ã‚‹ã„ã¯ã€å¼•æ•°ã‚„å¤‰æ•°ã‚’å®£è¨€ã—ãªã‘ã‚Œã°ã€è©•ä¾¡ã•ã‚Œãªã„ã€ã€ã¨è¿°ã¹ãŸã“ã¨ã‚’å†ã³æ€ã„å‡ºã—ã¦ãã ã•ã„ã€‚ã“ã¡ã‚‰ã®<code>sizeOf</code>ãƒ»<code>alignment</code>ã®å®šç¾©ã§ã‚‚åŒæ§˜ã«ã€å¼•æ•°<code>_</code>ã‚’å®£è¨€ã—ã¦ã„ã‚‹ãŸã‚ã€å¼•æ•°ã‚’å¿…ãš<span class="ascii">WHNF</span>ã¾ã§è©•ä¾¡ã™ã‚‹ã“ã¨ã«ãªã£ã¦ã„ã¾ã™ã€‚çµæœã€<code>alloca</code>é–¢æ•°ãŒãã‚Œãã‚Œã‚’å‘¼ã¶éš›<code>undefined</code>ã‚’æ¸¡ã—ã¦ã„ã‚‹ãŸã‚ã€<code>undefined</code>ã‚’è©•ä¾¡ã—ã¦ã—ã¾ã„ã€<code>undefined</code>ã«ã‚ˆã‚‹ä¾‹å¤–ãŒç™ºç”Ÿã—ã¦ã—ã¾ã†ã®ã§ã™ğŸ’¥ã€‚</p>
<p>ãªãœã“ã®ã‚ˆã†ã«ã€<code>alloca</code>é–¢æ•°ã§ã¯<code>sizeOf</code>ã‚„<code>alignment</code>ã«<code>undefined</code>ã‚’ã‚ã–ã‚ã–æ¸¡ã—ã¦ã„ã‚‹ã®ã§ã—ã‚‡ã†ï¼Ÿãã‚Œã¯ã€ã“ã‚Œã‚‰ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒãã‚‚ãã‚‚<code>undefined</code>ã‚’æ¸¡ã—ã¦ä½¿ã†ã“ã¨ã‚’å‰æã«è¨­è¨ˆã•ã‚Œã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚<code>sizeOf</code>ãƒ»<code>alignment</code>ã¯ã¨ã‚‚ã«<code>Storable a =&gt; a -&gt; Int</code>ã¨ã„ã†å‹ã®é–¢æ•°ãªã®ã§ã€ç¬¬ä¸€å¼•æ•°ã«<code>Storable</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ã‚ã‚‹å‹<code>a</code>ã®å€¤ã‚’å—ã‘å–ã‚‹ã®ã§ã™ãŒã€ã“ã®ã¨ã<strong>æ¸¡ã•ã‚Œã‚‹<code>a</code>å‹ã®å€¤ã¯ã€ä½¿ã‚ãªã„</strong>ã“ã¨ã¨ãªã£ã¦ã„ã¾ã™ã€‚<a href="https://downloads.haskell.org/~ghc/8.10.1/docs/html/libraries/base-4.14.0.0/Foreign-Storable.html#v:sizeOf">ãã‚Œãã‚Œã®ãƒ¡ã‚½ãƒƒãƒ‰ã®èª¬æ˜</a>ã«ã‚‚ã€Œ<span class="ascii">The value of the argument is not used.</span>ã€ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã­ã€‚ã“ã‚Œã¯ã€<code>sizeOf</code>ã‚‚<code>alignment</code>ã‚‚ã€å‹æ¯ã«ä¸€æ„ãªå€¤ã¨ã—ã¦å®šã¾ã‚‹<small>ï¼ˆå¼•æ•°ã®å€¤ã«ã‚ˆã£ã¦<code>sizeOf</code>ã‚„<code>alignment</code>ã®çµæœãŒå¤‰ã‚ã‚‹ã“ã¨ãŒãªã„ï¼‰</small>ã®ã§ã€ç¬¬ä¸€å¼•æ•°ã®<code>a</code>ã¯ã€å˜ã«ã€Œã“ã®å‹ã®<code>sizeOf</code>ã‚’å‘¼ã‚“ã§ãã ã•ã„ã­ã€ã¨ã„ã†<strong>å‹ã®</strong>æƒ…å ±ã‚’æ¸¡ã™ãŸã‚ã®ã‚‚ã®ã§ã—ã‹ãªã„ã‹ã‚‰ã§ã™ã€‚ã ã‹ã‚‰å€¤ã«ã¯é–¢å¿ƒãŒãªã„ã®ã§<code>undefined</code>ã‚’æ¸¡ã—ã¦ã„ã‚‹ã‚ã‘ã§ã™ã€‚ãã‚‚ãã‚‚ã€<code>alloca</code>é–¢æ•°ã®ã‚ˆã†ã«å¼•æ•°ã¨ã—ã¦<code>Storable a =&gt; a</code>å‹ã®å€¤ã‚’ã¨ã‚‰ãªã„é–¢æ•°ã§ã¯ã€<code>a</code>å‹ã®å€¤ã‚’ç”¨æ„ã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã—ã€‚</p>
<p>ç¾ä»£ã§ã¯é€šå¸¸ã€ã“ã®ã‚ˆã†ã«ã€Œå€¤ã«é–¢å¿ƒãŒãªãã€ä½•ã®å‹ã§ã‚ã‚‹ã‹ã¨ã„ã†æƒ…å ±ã ã‘ã‚’å—ã‘å–ã‚ŠãŸã„ã€ã¨ã„ã†å ´åˆã¯ã€<a href="https://downloads.haskell.org/~ghc/8.10.1/docs/html/libraries/base-4.14.0.0/Data-Proxy.html#t:Proxy"><code>Proxy</code></a>å‹ã‚’ä½¿ã†ã®ãŒä¸€èˆ¬çš„ã§ã™ã€‚<code>Storable</code>ã¯æã‚‰ã<code>Proxy</code>ãŒç™ºæ˜ã•ã‚Œã‚‹å‰ã«ç”Ÿã¾ã‚ŒãŸãŸã‚ã€<code>undefined</code>ã‚’æ¸¡ã™ã“ã¨ã«ãªã£ã¦ã—ã¾ã£ã¦ã„ã‚‹ã®ã§ã—ã‚‡ã†ã€‚ãªã®ã§ã€<code>Storable</code>å‹ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’è‡ªå‰ã§å®šç¾©ã—ãŸã‚Šã—ãªã„é™ã‚Šã€ã“ã†ã—ãŸã‚±ãƒ¼ã‚¹ã«å‡ºé­ã†ã“ã¨ã¯ã¾ã‚Œã ã¨æ€ã„ã¾ã™ã€‚ãŸã ã€ãã‚Œã§ã‚‚<code>Proxy</code>ã‚’<code>import</code>ã™ã‚‹ã®ã‚’é¢å€’ãã•ãŒã£ã¦<code>undefined</code>ã‚’ä»£ã‚ã‚Šã«æ¸¡ã™ã€ãªã‚“ã¦ã‚±ãƒ¼ã‚¹ã¯ã‚ã‚Šãˆã‚‹ã®ã§ã€<code>Proxy</code>ã‚’ä½¿ã£ã¦å®šç¾©ã—ãŸå‹ã‚¯ãƒ©ã‚¹ã§ã‚‚åŒã˜å•é¡Œã«ãƒãƒã‚‹ã“ã¨ã¯ã‚ã‚‹ã‹ã‚‚çŸ¥ã‚Œã¾ã›ã‚“â€¦ã€‚</p>
<p>âš ï¸çµè«–ã¨ã—ã¦ã€<code>Storable</code>å‹ã‚¯ãƒ©ã‚¹ã‚„ã€<code>Proxy</code>ã‚’å—ã‘å–ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¤å‹ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã€<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãŸçŠ¶æ…‹ã§å®šç¾©ã™ã‚‹å ´åˆã¯ã€<code>Proxy</code>ã«ã‚ãŸã‚‹å¼•æ•°ã‚’è©•ä¾¡ã—ãªã„ã‚ˆã†ã€<code>~_</code>ãªã©ã‚’ä½¿ã£ã¦å®šç¾©ã—ã¾ã—ã‚‡ã†ã€‚</p>
<h1 id="ãŠã‚ã‚Šã«-ã‚„ã£ã±ã‚Šstrictã¯ä½¿ã†ä½¿ã‚ãªã„"><span class="link-to-here-outer"><a href="#ãŠã‚ã‚Šã«-ã‚„ã£ã±ã‚Šstrictã¯ä½¿ã†ä½¿ã‚ãªã„" title="ãŠã‚ã‚Šã«-ã‚„ã£ã±ã‚Šstrictã¯ä½¿ã†ä½¿ã‚ãªã„"><span class="link-to-here">Link to<br />
here</span></a></span>ãŠã‚ã‚Šã«<span class="ascii">:</span> ã‚„ã£ã±ã‚Š<code>Strict</code>ã¯ä½¿ã†ï¼Ÿä½¿ã‚ãªã„ï¼Ÿ</h1>
<p>ã•ã¦ã€ã“ã“ã¾ã§<code>Strict</code>æ‹¡å¼µã‚’æœ‰åŠ¹ã«ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦çŠ¯ã—ã†ã‚‹ã€æ•°ã€…ã®ãƒŸã‚¹ã‚’ç´¹ä»‹ã—ã¦ãã¾ã—ãŸã€‚ã“ã“ã¾ã§æ›¸ã„ãŸå€‹äººçš„ãªå°è±¡ã¨ã—ã¦ã¯ã€ã€Œæ•¢ãˆã¦æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ã¯ãªã„ã‚“ã˜ã‚ƒãªã„ã‹ã€ã¨ã„ã£ãŸã¨ã“ã‚ã§ã™<small>ï¼ˆã¾ãã€æ‚ªã„ã¨ã“ã‚ã°ã‹ã‚Šèª¿ã¹ãŸçµæœã®ãŸã‚ã€ã¨ã¦ã‚‚ãƒ•ã‚§ã‚¢ãªè¦–ç‚¹ã§ã®åˆ¤æ–­ã¨ã¯è¨€ãˆãªã„ã®ã§ã™ãŒâ€¦ï¼‰</small>ã€‚<code>foldr</code>ã®ä¾‹ã§ã‚‚è§¦ã‚ŒãŸã¨ãŠã‚Šã€<span class="ascii">Haskell</span>ã«ã¯é…å»¶è©•ä¾¡ã‚’å‰æã¨ã—ãŸã€é…å»¶è©•ä¾¡ã‚’å­˜åˆ†ã«æ´»ã‹ã—ãŸæ©Ÿèƒ½ãŒæº¢ã‚Œã¦ã„ã¾ã™ã€‚å½“ç„¶ãã‚Œã‚‰ã¯<code>Strict</code>æ‹¡å¼µãŒã§ãã‚‹ã‚ˆã‚Šã¯ã‚‹ã‹æ˜”ã‹ã‚‰ã‚ã‚Šã€<code>Strict</code>æ‹¡å¼µã®ã“ã¨ãªã©ä¸€åˆ‡è€ƒãˆãªã„ã§ä½œã‚‰ã‚ŒãŸã‚‚ã®ã§ã™ã€‚å‹•çš„å‹ä»˜ã‘è¨€èªã«å¾Œã‹ã‚‰é™çš„å‹æ¤œæŸ»ã‚’å°å…¥ã™ã‚‹ã®ãŒå¤§å¤‰ãªã‚ˆã†ã«ã€ç›¸å¯¾ã™ã‚‹æ©Ÿèƒ½ã‚’å¾Œä»˜ã‘ã™ã‚‹ã¨è¡çªãŒèµ·ã“ã‚‹ã®ã¯ä»•æ–¹ã®ãªã„ã“ã¨ã§ã™ãŒã€ã“ã¨<code>Strict</code>æ‹¡å¼µã«ã¤ã„ã¦ã¯æƒ³åƒä»¥ä¸Šã«å¤§ããªè¡çªã®ã‚ˆã†ã§ã™ğŸ˜ã€‚</p>
<p>ãã‚Œã§ã‚‚ä½¿ã„ãŸã„ã¨ã„ã†æ–¹ã«ã€ä»Šå›ã®è¨˜äº‹ãŒåŠ©ã‘ã«ãªã‚Œã°å¹¸ã„ã§ã™ğŸ’ªãã‚Œã§ã¯<code>Strict</code>ãªæ–¹ã‚‚<code>NoStrict</code>ãªæ–¹ã‚‚<span class="ascii">Happy Haskell Hacking!!</span></p>
<section class="footnotes">
<hr />
<ol>
<li id="fn1"><p>ä¾‹ãˆã°<span class="ascii">fumieval</span>ã•ã‚“ã«ã‚ˆã‚‹<a href="http://fumieval.hatenablog.com/entry/2015/12/10/200630">ã“ã®è¨˜äº‹</a>ã‚ˆã‚Š<span class="ascii">:</span> ã€Œã‚‚ã£ã¨ã‚‚ã€æ—¥å¸¸ã§ã¯ã“ã“ã¾ã§æ°—ã«ã—ãªã‘ã‚Œã°ã„ã‘ãªã„å ´é¢ã¯å°‘ãªã„ã®ã§ã€ã»ã¨ã‚“ã©ã®å ´åˆã¯æ°—ã«ã›ãšæ„Ÿå˜†ç¬¦ã‚’ã¤ã‘ã¦å¤§ä¸ˆå¤«ã ã‚ã†ã€‚<span class="ascii">GHC 8.0</span>ã‹ã‚‰ã¯ã€å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ­£æ ¼ã«ã™ã‚‹<code>StrictData</code>ã¨ã„ã†æ‹¡å¼µãŒå…¥ã‚‹ãŸã‚ã€ã“ã¡ã‚‰ã‚’ä½¿ãŠã†ã€<a href="#fnref1" class="footnote-back">â†©</a></p></li>
<li id="fn2"><p><code>BangPatterns</code>è¨€èªæ‹¡å¼µã‚’æœ‰åŠ¹ã«ã—ãŸä¸Šã§ä¸Šè¨˜ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã¦ã¿ã‚‹ã¨ã€<code>Strict</code>æ‹¡å¼µã®æœ‰ç„¡ã«é–¢ã‚ã‚‰ãšã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™ã€‚è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚<a href="#fnref2" class="footnote-back">â†©</a></p></li>
<li id="fn3"><p>å®Ÿéš›ã®ã¨ã“ã‚ä»Šå›ç´¹ä»‹ã™ã‚‹ã‚±ãƒ¼ã‚¹ä»¥å¤–ã«ã‚‚ã€ãƒã‚¤ãƒ³ãƒˆãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã«ã™ã‚‹ã‹ã—ãªã„ã‹ã§å®Ÿè¡ŒåŠ¹ç‡ãªã©ãŒå¤‰ã‚ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€<a href="https://treszkai.github.io/2019/07/13/haskell-eval"><span class="ascii">Evaluation of function calls in Haskell</span></a>ã‚’ã”è¦§ãã ã•ã„ã€‚<a href="#fnref3" class="footnote-back">â†©</a></p></li>
<li id="fn4"><p>ã‚‚ã£ã¨ã‚‚ã€ã“ã®ä¾‹ã§ã¯å¼•æ•°ã¯ãƒªã‚¹ãƒˆã§ã—ã‚‡ã†ã‹ã‚‰ã€<span class="ascii">WHNF</span>ã¾ã§ã®ã¿æ­£æ ¼è©•ä¾¡ã™ã‚‹ãƒ¡ãƒªãƒƒãƒˆã¯å°‘ãªãã†ã§ã™ãŒã€‚<a href="#fnref4" class="footnote-back">â†©</a></p></li>
<li id="fn5"><p>å¤§ããªãƒªã‚¹ãƒˆã«ã™ã‚‹ã¨ã€ä»Šåº¦ã¯ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã¾ã§ã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã—ã¾ã†ã®ã§â€¦ã€‚ã¡ãªã¿ã«ã€ã“ã®ã‚ˆã†ã«ã‚¹ã‚¿ãƒƒã‚¯é ˜åŸŸã‚’å°ã•ãã™ã‚‹ã“ã¨ã§ã‚¹ãƒšãƒ¼ã‚¹ãƒªãƒ¼ã‚¯ã‚’æ¤œå‡ºã™ã‚‹æ‰‹æ³•ã¯ã€<a href="https://github.com/ndmitchell/spaceleak"><span class="ascii">ndmitchell/spaceleak: Notes on space leaks</span></a>ã§ã‚‚ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚<a href="#fnref5" class="footnote-back">â†©</a></p></li>
<li id="fn6"><p><span class="ascii">GHC</span>ãŒã©ã®ã‚ˆã†ã«è©•ä¾¡ã—ã€ã‚¹ã‚¿ãƒƒã‚¯é ˜åŸŸã‚’æ¶ˆè²»ã™ã‚‹ã‹ã¯<a href="https://takenobu-hs.github.io/downloads/haskell_ghc_illustrated.pdf"><span class="ascii">GHC illustrated</span></a>ã‚„ã€ãã®å‚è€ƒæ–‡çŒ®ã‚’ã”è¦§ãã ã•ã„ã€‚<a href="#fnref6" class="footnote-back">â†©</a></p></li>
</ol>
</section>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
                <i class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="margin-right: 5px;"></i>
                <a href="/posts/2020/how-to-use-type-newtype-data.html" lang="ja">data / newtype / type ã®ä½¿ã„æ–¹</a>
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/2020/haskell-casually-at-work.html" style="margin-left: auto;" lang="ja">Haskellã‚’æ¥­å‹™ã§ä½¿ã†ã€ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ã«</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>
<entry>
    <title>Haskellã‚’æ¥­å‹™ã§ä½¿ã†ã€ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ã«</title>
    <link href="https://haskell.jp/blog/posts/2020/haskell-casually-at-work.html" />
    <id>https://haskell.jp/blog/posts/2020/haskell-casually-at-work.html</id>
    <published>2020-04-26T00:00:00Z</published>
    <updated>2020-04-26T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <hr />
<div id="table-of-contents-outer">
<div id="table-of-contents">
<div class="table-of-contents-title">
Contents
</div>
<ul>
<li><a href="#ã¯ã˜ã‚ã«" title="ã¯ã˜ã‚ã«">ã¯ã˜ã‚ã«</a></li>
<li><a href="#ä½œæ¥­ã®æ”¯æ´åŠ é€Ÿã«haskellã‚’ä½¿ã†" title="ä½œæ¥­ã®æ”¯æ´åŠ é€Ÿã«haskellã‚’ä½¿ã†">ğŸ”§ã€Œä½œæ¥­ã€ã®æ”¯æ´ãƒ»åŠ é€Ÿã«ã€<span class="ascii">Haskell</span>ã‚’ä½¿ã†</a>
<ul>
<li><a href="#ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ" title="ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ">ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ</a></li>
<li><a href="#ãƒ‘ãƒ¼ã‚µãƒ¼" title="ãƒ‘ãƒ¼ã‚µãƒ¼">ãƒ‘ãƒ¼ã‚µãƒ¼</a></li>
<li><a href="#éšå±¤ãƒ‡ãƒ¼ã‚¿å‡¦ç†" title="éšå±¤ãƒ‡ãƒ¼ã‚¿å‡¦ç†">éšå±¤ãƒ‡ãƒ¼ã‚¿å‡¦ç†</a></li>
<li><a href="#é«˜æ©Ÿèƒ½é›»å“" title="é«˜æ©Ÿèƒ½é›»å“">é«˜æ©Ÿèƒ½é›»å“</a></li>
<li><a href="#ãã®ä»–" title="ãã®ä»–">ãã®ä»–</a></li>
</ul></li>
<li><a href="#æ€è€ƒã®æ”¯æ´åŠ é€Ÿã«haskellã‚’ä½¿ã†" title="æ€è€ƒã®æ”¯æ´åŠ é€Ÿã«haskellã‚’ä½¿ã†">ğŸ’¡ã€Œæ€è€ƒã€ã®æ”¯æ´ãƒ»åŠ é€Ÿã«ã€<span class="ascii">Haskell</span>ã‚’ä½¿ã†</a>
<ul>
<li><a href="#ä»•æ§˜ç†è§£" title="ä»•æ§˜ç†è§£">ä»•æ§˜ç†è§£</a></li>
<li><a href="#ãƒ¢ãƒ‡ãƒ«ç¢ºèª" title="ãƒ¢ãƒ‡ãƒ«ç¢ºèª">ãƒ¢ãƒ‡ãƒ«ç¢ºèª</a></li>
<li><a href="#ãƒ¢ãƒ‡ãƒ«æ¢ç´¢" title="ãƒ¢ãƒ‡ãƒ«æ¢ç´¢">ãƒ¢ãƒ‡ãƒ«æ¢ç´¢</a></li>
<li><a href="#ãã®ä»–-1" title="ãã®ä»–-1">ãã®ä»–</a></li>
</ul></li>
<li><a href="#ãŠã‚ã‚Šã«" title="ãŠã‚ã‚Šã«">ãŠã‚ã‚Šã«</a></li>
</ul>
</div>
</div>
<h1 id="ã¯ã˜ã‚ã«"><span class="link-to-here-outer"><a href="#ã¯ã˜ã‚ã«" title="ã¯ã˜ã‚ã«"><span class="link-to-here">Link to<br />
here</span></a></span>ã¯ã˜ã‚ã«</h1>
<p>ã“ã®è¨˜äº‹ã§ã¯ã€<span class="ascii">Haskell</span>ã‚’æ¥­å‹™ã§ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ã«ä½¿ã†è¦³ç‚¹ã‚„ãƒ’ãƒ³ãƒˆã«ã¤ã„ã¦ã€ç°¡å˜ã«ç´¹ä»‹ã—ã¾ã™ã€‚</p>
<p><span class="ascii">Haskell</span>ã‚’æ¥­å‹™ã§ä½¿ãˆã‚‹å±€é¢ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã„ãã¤ã‹è€ƒãˆã‚‰ã‚Œã¾ã™ã€‚</p>
<ol type="1">
<li>ã€Œãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã€ã®é–‹ç™ºç”¨è¨€èªã¨ã—ã¦ã€<span class="ascii">Haskell</span>ã‚’ä½¿ã†</li>
<li>ã€Œä½œæ¥­ã€ã®æ”¯æ´ãƒ»åŠ é€Ÿç”¨ã«ã€<span class="ascii">Haskell</span>ã‚’ä½¿ã†</li>
<li>ã€Œæ€è€ƒã€ã®æ”¯æ´ãƒ»åŠ é€Ÿç”¨ã«ã€<span class="ascii">Haskell</span>ã‚’ä½¿ã†</li>
</ol>
<p>ã¤ã¾ã‚Šã€ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®é–‹ç™ºç”¨è¨€èªã¨ã—ã¦<span class="ascii">Haskell</span>ã‚’ç”¨ã„ãªã„æ¥­å‹™å½¢æ…‹ã«ãŠã„ã¦ã‚‚ã€ä¸Šè¨˜<span class="ascii">2</span>ã‚„<span class="ascii">3</span>ã®ã‚±ãƒ¼ã‚¹ã¨ã—ã¦ã€<span class="ascii">Haskell</span>ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚ã™ãªã‚ã¡ã€<span class="ascii">Haskell</span>ã¯å¹…åºƒã„å±€é¢ã§ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ã«ã€ã¤ã¾ã‚Šæ°—è»½ã«æ‰‹è»½ã«ä½¿ç”¨ã§ãã¾ã™ã€‚</p>
<p>æœ¬è¨˜äº‹ã§ã¯ã€ç‰¹ã«ã€ä¸Šè¨˜ã®<span class="ascii">2</span>ã¨<span class="ascii">3</span>ã«ã¤ã„ã¦ã€ã„ãã¤ã‹ã®è¦³ç‚¹ã‚„ãƒ’ãƒ³ãƒˆã‚„ä¾‹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚</p>
<p>ãªãŠã€ä¸Šè¨˜ã¯ã€<span class="ascii">Haskell</span>ã‚’ç”¨ã„ã‚‹å ´åˆã«ã¯é™ã‚Šã¾ã›ã‚“ã€‚<span class="ascii">Python, Perl, Ruby, Rust, Scala, OCaml, Clojure, Go, Elixir,</span> â€¦ ã¨ã„ã£ãŸã€æ§˜ã€…ãªãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã«ç½®ãæ›ãˆã¦æœ¬è¨˜äº‹ã‚’è§£é‡ˆã—ã¦ã‚‚ã‚‰ã£ã¦æ§‹ã„ã¾ã›ã‚“ã€‚</p>
<hr />
<h1 id="ä½œæ¥­ã®æ”¯æ´åŠ é€Ÿã«haskellã‚’ä½¿ã†"><span class="link-to-here-outer"><a href="#ä½œæ¥­ã®æ”¯æ´åŠ é€Ÿã«haskellã‚’ä½¿ã†" title="ä½œæ¥­ã®æ”¯æ´åŠ é€Ÿã«haskellã‚’ä½¿ã†"><span class="link-to-here">Link to<br />
here</span></a></span>ğŸ”§ã€Œä½œæ¥­ã€ã®æ”¯æ´ãƒ»åŠ é€Ÿã«ã€<span class="ascii">Haskell</span>ã‚’ä½¿ã†</h1>
<p><span class="ascii">Haskell</span>ï¼ˆã‚’å«ã‚€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªï¼‰ã¯ã€é–‹ç™ºãªã©ã®æ—¥å¸¸æ¥­å‹™ã«ãŠã„ã¦ã€ã€Œä½œæ¥­ã€ã®æ”¯æ´ãƒ»åŠ é€Ÿç”¨ã«ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚</p>
<p>ã¤ã¾ã‚Šã€é›»å“ã‚„<span class="ascii">Excel</span>ãªã©ã®ã‚ˆã†ã«ã€<span class="ascii">Haskell</span>ã‚’æ—¥å¸¸ãƒ„ãƒ¼ãƒ«ã®ä¸€ã¤ã¨ã—ã¦ä½¿ãˆã¾ã™ã€‚</p>
<p>ç‰¹ã«ã€ç›´è¿‘ã®æ¥­å‹™ä½œæ¥­ã‚’åŠ é€Ÿã™ã‚‹ãŸã‚ã«ã€æ›¸ãæ¨ã¦ã®ãƒ„ãƒ¼ãƒ«ã‚’é«˜å“è³ªã§ç´ æ—©ãæ¬²ã—ã„å ´åˆã‚„ã€ã¡ã‚‡ã£ã¨ã—ãŸå¯¾è©±ãƒ„ãƒ¼ãƒ«ã‚’æ¬²ã—ã„å ´åˆãªã©ã«ã‚‚ã€<span class="ascii">Haskell</span>ã‚’ä¾¿åˆ©ã«æ´»ç”¨ã§ãã¾ã™ã€‚</p>
<p>ä¾‹ãˆã°å…·ä½“çš„ã«ã¯ã€ä»¥ä¸‹ã®å ´åˆã«<span class="ascii">Haskell</span>ã‚’ä¾¿åˆ©ã«ä½¿ãˆã¾ã™ã€‚</p>
<ul>
<li>ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ</li>
<li>ãƒ‘ãƒ¼ã‚µãƒ¼</li>
<li>éšå±¤ãƒ‡ãƒ¼ã‚¿å‡¦ç†</li>
<li>é«˜æ©Ÿèƒ½é›»å“</li>
</ul>
<p>ä»¥ä¸‹ã€ãã‚Œãã‚Œã«ã¤ã„ã¦ç°¡å˜ã«ç´¹ä»‹ã—ã¾ã™ã€‚</p>
<h2 id="ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ"><span class="link-to-here-outer"><a href="#ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ" title="ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ"><span class="link-to-here">Link to<br />
here</span></a></span>ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ</h2>
<p>ä¾‹ãˆã°ã€è§£æäº‹æ¡ˆãŒç™ºç”Ÿã—ã€è‡³æ€¥<span class="ascii">10</span>åˆ†ç¨‹åº¦ã§ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’è¤‡æ•°ç”¨æ„ã—ãŸã„ã€ã¨ã„ã†ã‚ˆã†ãªå ´åˆã«ã€<span class="ascii">Haskell</span>ã§ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã•ã›ã‚‹ã“ã¨ã¯æœ‰åŠ¹ã§ã™ã€‚</p>
<p><span class="ascii">Haskell</span>ã¯ã€é–¢æ•°åˆæˆã‚„éƒ¨åˆ†é©ç”¨ã‚„é«˜éšé–¢æ•°ã‚„å¤šç›¸é–¢æ•°ãªã©ã®è¨€èªçš„ãªç‰¹å¾´ã«ã‚ˆã‚Šã€å°ã•ãªé–¢æ•°ã‚’çµ„ã¿åˆã‚ã›ã¦ã€ã‚ˆã‚Šå¤§ããªé–¢æ•°ã¨ã—ã¦ä½œã‚Šä¸Šã’ã‚‹ã“ã¨ãŒå®¹æ˜“ã§ã™ã€‚</p>
<p>å¯¾è©±ç’°å¢ƒï¼ˆ<span class="ascii">REPL</span>ï¼‰ã§ã‚ã‚‹<span class="ascii">GHCi</span>ã‚’ç”¨ã„ã¦ã€ãã‚Œã‚‰å°ã•ãªé–¢æ•°ã‚’ç´ æ—©ãé«˜å“è³ªã«ç¢ºèªã—ãŸä¸Šã§ã€å¾ã€…ã«å¤§ããªé–¢æ•°ã¨ã—ã¦çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€é«˜å“è³ªãªçµæœã‚’ç´ æ—©ãå¾—ã‚‹ã“ã¨ãŒã§ã§ãã¾ã™ã€‚</p>
<p>ç‰¹ã«ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ã‚„è¤‡é›‘ãªãƒ‡ãƒ¼ã‚¿ã‚’ã€ä¸€åˆ»ã‚‚æ—©ãé«˜å“è³ªã«ç”Ÿæˆã™ã‚‹ã“ã¨ãŒé‡è¦ãªå±€é¢ã§ã€<span class="ascii">Haskell</span>ã¯å¨åŠ›ã‚’ç™ºæ®ã—ã¾ã™ã€‚</p>
<h2 id="ãƒ‘ãƒ¼ã‚µãƒ¼"><span class="link-to-here-outer"><a href="#ãƒ‘ãƒ¼ã‚µãƒ¼" title="ãƒ‘ãƒ¼ã‚µãƒ¼"><span class="link-to-here">Link to<br />
here</span></a></span>ãƒ‘ãƒ¼ã‚µãƒ¼</h2>
<p>æ—¥å¸¸æ¥­å‹™ã«ãŠã„ã¦ã€å„ç¨®ãƒ­ã‚°ãªã©ã®ãƒ‡ãƒ¼ã‚¿ã‚’è§£æã—ãŸã„å±€é¢ã¯é »ç¹ã«æœ‰ã‚Šã¾ã™ã€‚ å˜ç´”ãªãƒ‡ãƒ¼ã‚¿ã§ã‚ã‚Œã°ã€<span class="ascii">grep</span>ã‚³ãƒãƒ³ãƒ‰ã‚„<span class="ascii">Perl</span>ãªã©ã®æ­£è¦è¡¨ç¾ã‚’ç”¨ã„ã¦æ‰‹æ—©ãä»•äº‹ã‚’æ¸ˆã¾ã›ã‚‹ã“ã¨ã‚‚å‡ºæ¥ã¾ã™ã€‚</p>
<p>ã—ã‹ã—ã€ãƒ‡ãƒ¼ã‚¿ã®æ§‹é€ ãŒè¤‡é›‘ã§ã‚ã£ãŸã‚Šå†å¸°çš„ãªæ§‹é€ ã§ã‚ã‚‹å ´åˆã«ã¯ã€æ­£è¦è¡¨ç¾ã‚’ãƒ‡ãƒãƒƒã‚°ã™ã‚‹ã‚ˆã‚Šã‚‚ã€<span class="ascii">Haskell</span>ã§æ€ã„åˆ‡ã£ã¦ãƒ‘ãƒ¼ã‚µãƒ¼ã‚’æ›¸ã„ã¦ã—ã¾ã†æ–¹ãŒæ‰‹æ—©ãæ¸ˆã¾ã›ã‚‰ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p><span class="ascii">Haskell</span>ã§ã¯ã€é–¢æ•°ã®çµ„ã¿ç«‹ã¦ãŒå®¹æ˜“ã§ã‚ã‚‹ã“ã¨ã‚„<span class="ascii">do</span>è¨˜æ³•ã¨ã„ã£ãŸè¨€èªçš„ãªç‰¹å¾´ã‚’æ´»ã‹ã—ã€ç°¡æ½”ã«ãƒ‘ãƒ¼ã‚µãƒ¼ã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ è¨€èªçš„ãªç‰¹å¾´ã‚’æ´»ã‹ã—ãŸä¾¿åˆ©ãªãƒ‘ãƒ¼ã‚µãƒ¼ã‚³ãƒ³ãƒ“ãƒãƒ¼ã‚¿é–¢é€£ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆ<a href="https://hackage.haskell.org/package/parsec"><code>Parsec</code></a>ã‚„<a href="https://hackage.haskell.org/package/megaparsec"><code>Megaparsec</code></a>ã‚„<a href="https://hackage.haskell.org/package/replace-attoparsec"><code>replace-attoparsec</code></a>ãªã©ï¼‰ãŒè±Šå¯Œã«å­˜åœ¨ã—ã¾ã™ã€‚</p>
<p>ä¸€åº¦ãƒ‘ãƒ¼ã‚µãƒ¼ã®éª¨æ ¼ã‚’ç”¨æ„ã—ã¦ã—ã¾ãˆã°ã€æµç”¨ã¯å®¹æ˜“ã§ã‚ã‚‹ãŸã‚ã€å¼·åŠ›ãªæ—¥å¸¸ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦<span class="ascii">Haskell</span>ã‚’ä¾¿åˆ©ã«ä½¿ç”¨ã§ãã¾ã™ã€‚</p>
<h2 id="éšå±¤ãƒ‡ãƒ¼ã‚¿å‡¦ç†"><span class="link-to-here-outer"><a href="#éšå±¤ãƒ‡ãƒ¼ã‚¿å‡¦ç†" title="éšå±¤ãƒ‡ãƒ¼ã‚¿å‡¦ç†"><span class="link-to-here">Link to<br />
here</span></a></span>éšå±¤ãƒ‡ãƒ¼ã‚¿å‡¦ç†</h2>
<p>ä¾‹ãˆã°ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®æ§‹é€ ã«å¯¾å¿œã—ãŸãƒ‡ãƒ¼ã‚¿ã®ã‚ˆã†ã«ã€ãƒ‡ãƒ¼ã‚¿ãŒå†å¸°çš„ãƒ»éšå±¤çš„ã«è¡¨ç¾ã•ã‚Œã¦ã„ã‚‹å ´åˆã¯å¤šãã‚ã‚Šã¾ã™ã€‚</p>
<p><span class="ascii">Haskell</span>ã¯ã€ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã‚’ç”¨ã„ã¦å†å¸°çš„ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ç°¡æ½”ã«è¡¨ç¾ã§ãã¾ã™ã€‚ã¾ãŸã€ç°¡æ½”ãªãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã®è¨˜æ³•ã¨å†å¸°çš„ãªé–¢æ•°ã«ã‚ˆã‚Šã€ã“ã‚Œã‚‰ã®å‡¦ç†ã‚’å®¹æ˜“ã«è¨˜è¿°ã§ãã‚‹å‚¾å‘ã«ã‚ã‚Šã¾ã™ã€‚</p>
<p>ã‚‚ã¡ã‚ã‚“ã€ã“ã®å†å¸°çš„ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚‚ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®é™çš„ãªå‹ãƒã‚§ãƒƒã‚¯ã®å¯¾è±¡ã¨ãªã‚‹ãŸã‚ã€å¤šãã®ä¸ç”¨æ„ãªãƒŸã‚¹ã‚’äº‹å‰ã«æŠ½å‡ºã§ãã¾ã™ã€‚</p>
<p>ç´ æ—©ãã€éå¸¸ã«é«˜å“è³ªã«ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã‚’è¡Œã†ã“ã¨ãŒé‡è¦ãªå±€é¢ã§ã€<span class="ascii">Haskell</span>ã¯æœ‰åŠ¹ã«æ©Ÿèƒ½ã—ã¾ã™ã€‚</p>
<h2 id="é«˜æ©Ÿèƒ½é›»å“"><span class="link-to-here-outer"><a href="#é«˜æ©Ÿèƒ½é›»å“" title="é«˜æ©Ÿèƒ½é›»å“"><span class="link-to-here">Link to<br />
here</span></a></span>é«˜æ©Ÿèƒ½é›»å“</h2>
<p>æ—¥å¸¸æ¥­å‹™ã«ãŠã„ã¦ã€ãªã‚“ã‚‰ã‹ã®å¤‰æ›ãƒ†ãƒ¼ãƒ–ãƒ«ã‚„ã€è¨ˆç®—å¼ã€å®šæ•°å€¤ãªã©ã®å€¤ã‚’ã€æ•£ç™ºçš„ã«ç›´ã¡ã«å¾—ãŸã„å±€é¢ãŒã‚ã‚Šã¾ã™ã€‚ ãã®éƒ½åº¦ã€é›»å“ã§è¨ˆç®—ã—ãŸã‚Šã€<span class="ascii">Excel</span>ãªã©ã®è¨ˆç®—ãƒ•ã‚©ãƒ¼ãƒ ã‚’ç”¨æ„ã™ã‚‹ã“ã¨ã§ã€æ‰‹è»½ã«æ¥­å‹™ã‚’æ¸ˆã¾ã›ã‚‰ã‚Œã‚‹å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚</p>
<p>ã—ã‹ã—ã€ç¹°ã‚Šè¿”ã—å¿…è¦ã¨ãªã‚‹è¨ˆç®—å¼ã‚„ã€ã‚ã‚‹ç¨‹åº¦è¤‡é›‘ãªè¨ˆç®—ã§ã‚ã‚Œã°ã€ã“ã‚Œã‚‰ã®è¨ˆç®—å¼ãªã©ã‚’ã€<span class="ascii">Haskell</span>ã®é–¢æ•°ç¾¤ã¨ã—ã¦å®šç¾©ã—ã¦ãŠãã€å¯¾è©±ç’°å¢ƒ<span class="ascii">GHCi</span>ã‹ã‚‰ç”¨ã„ã‚‹ã“ã¨ã§ã€ä½¿ã„å‹æ‰‹è‰¯ãç´ æ—©ãå€¤ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>æ•°å€¤ã‚„å¯¾è©±æ“ä½œãªã©ã‚’è£œåŠ©ã™ã‚‹ä¾¿åˆ©ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒª<span class="ascii">(</span><a href="https://hackage.haskell.org/package/base/docs/Numeric.html"><code>Numeric</code></a>ã‚„<a href="https://hackage.haskell.org/package/base/docs/Data-Bits.html"><code>Data.Bits</code></a>ã‚„<a href="http://hackage.haskell.org/package/ghci-hexcalc/docs/Data-GHex.html"><code>Data.GHex</code></a><span class="ascii">)</span>ã‚„è¨€èªæ‹¡å¼µ<span class="ascii">(</span><a href="https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/glasgow_exts.html#binary-integer-literals"><code>BinaryLiterals</code></a>ã‚„<a href="https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/glasgow_exts.html#numeric-underscores"><code>NumericUnderscores</code></a><span class="ascii">)</span>ãªã©ãŒè±Šå¯Œã«å­˜åœ¨ã—ã¾ã™ã€‚</p>
<p><span class="ascii">Haskell</span>ã«ãŠã‘ã‚‹é–¢æ•°ã®çµ„ã¿ç«‹ã¦ãŒå®¹æ˜“ãªç‰¹å¾´ã¯ã€å¯¾è©±ç’°å¢ƒã«ãŠã‘ã‚‹å¯¾è©±çš„ãªæ“ä½œã¨ã®ç›¸æ€§ãŒè‰¯ã„ãŸã‚ã€è©¦è¡ŒéŒ¯èª¤çš„ãªè¨ˆç®—ä½œæ¥­ã«ã‚‚æœ‰ç”¨ã§ã™ã€‚</p>
<h2 id="ãã®ä»–"><span class="link-to-here-outer"><a href="#ãã®ä»–" title="ãã®ä»–"><span class="link-to-here">Link to<br />
here</span></a></span>ãã®ä»–</h2>
<p>ä»–ã«ã‚‚ã€å®šå‹çš„ãªãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†ã‚„<span class="ascii">CLI</span>ã‚³ãƒãƒ³ãƒ‰ã‚„<span class="ascii">DSL</span>ã®æ§‹ç¯‰ãªã©ã‚’ã€<span class="ascii">Haskell</span>ã‚’ç”¨ã„ã¦ä¾¿åˆ©ã«å®Ÿç¾å‡ºæ¥ã¾ã™ã€‚ æ‰‹å…ƒã«å„ç¨®é››å½¢ã‚’è“„ç©ã—ã¦ã„ã‚‹ã¨ã€ä½œæ¥­ã®ç´ æ—©ã•ã¨æ­£ç¢ºã•ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹å ´åˆã«ã€æœ‰ç›Šã§ã—ã‚‡ã†ã€‚</p>
<p>ã‚‚ã¡ã‚ã‚“ã€ã“ã‚Œã‚‰ã¯<span class="ascii">Haskell</span>ã«é™ã‚‰ãšã€å¤šãã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã«ã‚‚è¨€ãˆã¾ã™ã€‚</p>
<p><span class="ascii">Haskell</span>ã¯ã€å‹ã‚·ã‚¹ãƒ†ãƒ ã«å®ˆã‚‰ã‚ŒãªãŒã‚‰ã€é–¢æ•°ã‚’å®¹æ˜“ã«çµ„ã¿ç«‹ã¦ã‚‰ã‚Œã‚‹ç‰¹å¾´ã‚’æŒã¡ã¾ã™ã€‚ã¾ãŸã€ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã¨ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã®ç‰¹å¾´ã«ã‚ˆã‚Šã€ç›´æ„Ÿçš„ãƒ»ã‚·ãƒ³ãƒ—ãƒ«ã§é«˜å“è³ªãªãƒ‡ãƒ¼ã‚¿è¡¨ç¾ãƒ»å‡¦ç†ãŒå¯èƒ½ã§ã™ã€‚ã•ã‚‰ã«ã€<span class="ascii">GHCi</span>ã‚’ç”¨ã„ã‚‹å¯¾è©±æ“ä½œã«ã‚ˆã‚Šã€æ—¥å¸¸ä½œæ¥­ã‚’é«˜å“è³ªã‹ã¤æ‰‹æ—©ãè¡Œãˆã¾ã™ã€‚</p>
<p><span class="ascii">Haskell</span>ã¯ã€ï¼ˆå‹ã‚·ã‚¹ãƒ†ãƒ ã®é«˜åº¦ãªæ©Ÿèƒ½ãªã©ã‚’ä½¿ã‚ãªã„ï¼‰åŸºæœ¬çš„ãªæ©Ÿèƒ½ã®ã¿ã«ãŠã„ã¦ã‚‚ã€æ—¥å¸¸æ¥­å‹™ã«ãŠã„ã¦æœ‰åŠ¹ã«æ´»ç”¨ã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã®ä¸€ã¤ã§ã™ã€‚</p>
<hr />
<h1 id="æ€è€ƒã®æ”¯æ´åŠ é€Ÿã«haskellã‚’ä½¿ã†"><span class="link-to-here-outer"><a href="#æ€è€ƒã®æ”¯æ´åŠ é€Ÿã«haskellã‚’ä½¿ã†" title="æ€è€ƒã®æ”¯æ´åŠ é€Ÿã«haskellã‚’ä½¿ã†"><span class="link-to-here">Link to<br />
here</span></a></span>ğŸ’¡ã€Œæ€è€ƒã€ã®æ”¯æ´ãƒ»åŠ é€Ÿã«ã€<span class="ascii">Haskell</span>ã‚’ä½¿ã†</h1>
<p><span class="ascii">Haskell</span>ï¼ˆã‚’å«ã‚€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªï¼‰ã¯ã€é–‹ç™ºãªã©ã®æ—¥å¸¸æ¥­å‹™ã«ãŠã„ã¦ã€ã€Œæ€è€ƒã€ã®æ”¯æ´ãƒ»åŠ é€Ÿç”¨ã«ã‚‚ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚</p>
<p>ã¤ã¾ã‚Šã€ç´™ã¨é‰›ç­†ãªã©ã®ã‚ˆã†ã«ã€<span class="ascii">Haskell</span>ã‚’æ€è€ƒãƒ„ãƒ¼ãƒ«ã®ä¸€ã¤ã¨ã—ã¦ä½¿ãˆã¾ã™ã€‚</p>
<p>ç‰¹ã«ã€è©¦è¡ŒéŒ¯èª¤çš„ãªæ€è€ƒãƒ•ã‚§ãƒ¼ã‚ºã‚„ã€æ¢ç´¢ãƒ•ã‚§ãƒ¼ã‚ºã«ãŠã„ã¦ã€æ€è€ƒã‚’æ•´ç†ãƒ»åŠ é€Ÿã™ã‚‹å ´åˆãªã©ã«ã€<span class="ascii">Haskell</span>ã¯ä¾¿åˆ©ã§ã™ã€‚</p>
<p>ä¾‹ãˆã°å…·ä½“çš„ã«ã¯ã€ä»¥ä¸‹ã®å ´åˆã«<span class="ascii">Haskell</span>ã‚’ä¾¿åˆ©ã«ä½¿ãˆã¾ã™ã€‚</p>
<ul>
<li>ä»•æ§˜ç†è§£</li>
<li>ãƒ¢ãƒ‡ãƒ«ç¢ºèª</li>
<li>ãƒ¢ãƒ‡ãƒ«æ¢ç´¢</li>
</ul>
<p>ä»¥ä¸‹ã€ãã‚Œãã‚Œã«ã¤ã„ã¦ç°¡å˜ã«ç´¹ä»‹ã—ã¾ã™ã€‚</p>
<h2 id="ä»•æ§˜ç†è§£"><span class="link-to-here-outer"><a href="#ä»•æ§˜ç†è§£" title="ä»•æ§˜ç†è§£"><span class="link-to-here">Link to<br />
here</span></a></span>ä»•æ§˜ç†è§£</h2>
<p>ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‚„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºéç¨‹ãªã©ã§ã¯ã€ä¾‹ãˆã°ã€è‡ªç„¶è¨€èªã¨å›³è¡¨ã‚„å¼ã®çµ„ã¿åˆã‚ã›ã§è¡¨ç¾ã•ã‚ŒãŸä»•æ§˜æ›¸ã‚’ç†è§£ã™ã‚‹äº‹ãŒå¿…è¦ãªå±€é¢ãŒå¤šãã‚ã‚Šã¾ã™ã€‚</p>
<p>è¨­è¨ˆã®ä¸Šæµå·¥ç¨‹ã§æ€è€ƒã‚’åºƒãæ·±ãåŠã°ã›ã¦ãŠãã“ã¨ã«ã‚ˆã‚Šã€ä»•æ§˜ã«å¯¾ã™ã‚‹æ€ã‚ã¬è€ƒãˆæ¼ã‚Œã‚„å‹˜é•ã„ã‚’é˜²ãã“ã¨ã¯ã€é–‹ç™ºå…¨ä½“ã®è³ªã‚„é–‹ç™ºé€Ÿåº¦ã‚’ä¸Šã’ã‚‹è¦³ç‚¹ã§éå¸¸ã«æœ‰åŠ¹ã§ã™ã€‚</p>
<p><span class="ascii">Haskell</span>ã¯ã€ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã‚„ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã‚’ç°¡æ½”ã«è¨˜è¿°ã§ãã‚‹è¨€èªçš„ãªç‰¹å¾´ã‚’æŒã¤ãŸã‚ã€ä»•æ§˜ã‚’ç°¡æ½”ã«è¡¨ç¾ã™ã‚‹ã“ã¨ã«å‘ã„ã¦ã„ã¾ã™ã€‚ã•ã‚‰ã«ã€å¯¾è©±ç’°å¢ƒ<span class="ascii">GHCi</span>ã‚’ç”¨ã„ã¦ã€è‡ªåˆ†ã®è€ƒãˆã‚’è©¦è¡ŒéŒ¯èª¤çš„ã«ç¢ºèªã§ãã¾ã™ã€‚</p>
<p>è‡ªç„¶è¨€èªç­‰ã®ä»•æ§˜ã‚’ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã‚’ç”¨ã„ã¦è¡¨ç¾ãƒ»å†™çµŒã™ã‚‹éç¨‹ã¯ã€å˜ç´”ã§ã™ãŒã€å¯¾è±¡ã¸ã®ç†è§£ã‚’æ·±ã‚ã‚‹ä¸Šã§ã€æ„å¤–ã«å¤§ããªæŠ•è³‡å¯¾åŠ¹æœãŒã‚ã‚Šã¾ã™ã€‚<span class="ascii">Haskell</span>ã¯ã€ã“ã®ã‚ˆã†ãªå ´åˆã«å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ã¨ãªã‚Šã¾ã™ã€‚</p>
<h2 id="ãƒ¢ãƒ‡ãƒ«ç¢ºèª"><span class="link-to-here-outer"><a href="#ãƒ¢ãƒ‡ãƒ«ç¢ºèª" title="ãƒ¢ãƒ‡ãƒ«ç¢ºèª"><span class="link-to-here">Link to<br />
here</span></a></span>ãƒ¢ãƒ‡ãƒ«ç¢ºèª</h2>
<p>è¨­è¨ˆã®åˆæœŸæ®µéšã«ãŠã„ã¦ã€è‡ªåˆ†ã®è€ƒãˆãƒŸã‚¹ã‚’æŠ½å‡ºã™ã‚‹ãŸã‚ã«ã€è¨­è¨ˆã®ä¸­æ ¸éƒ¨åˆ†ã‚’ç°¡å˜ãªãƒ¢ãƒ‡ãƒ«ã§è¡¨ç¾ã—ã¦ç¢ºèªã™ã‚‹ã“ã¨ã¯ã€é–‹ç™ºå…¨ä½“ã®è³ªã‚„é–‹ç™ºé€Ÿåº¦ã‚’ä¸Šã’ã‚‹è¦³ç‚¹ã§éå¸¸ã«æœ‰åŠ¹ã§ã™ã€‚</p>
<p>å‰ç¯€ã®ä»•æ§˜ç†è§£ã®å ´åˆã¨åŒæ§˜ã«ã€è¨­è¨ˆã®ä¸­æ ¸ãƒ¢ãƒ‡ãƒ«ã‚’ç°¡æ½”ã«è¨˜è¿°ã™ã‚‹ç›®çš„ã§ã€<span class="ascii">Haskell</span>ã‚’ç”¨ã„ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚</p>
<p><span class="ascii">Haskell</span>ã®ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã¨ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã¯ã€ãƒ¢ãƒ‡ãƒ«ã®ç°¡æ½”è¡¨ç¾ã«ã‚‚ãƒ•ã‚£ãƒƒãƒˆã™ã‚‹å ´åˆãŒå¤šãã€è‡ªåˆ†ã®è€ƒãˆã‚’æ‰‹æ—©ãç¢ºèªã™ã‚‹ã“ã¨ã«æœ‰åŠ¹ã«ä½¿ç”¨ã§ãã¾ã™ã€‚</p>
<p>ã•ã‚‰ã«ã€<span class="ascii">Haskell</span>ã§è¨˜è¿°ã—ãŸãƒ¢ãƒ‡ãƒ«ã‚’ã€<a href="https://hackage.haskell.org/package/QuickCheck"><code>QuickCheck</code></a>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã©ã«ã‚ˆã‚‹ãƒ©ãƒ³ãƒ€ãƒ ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç”¨ã„ã¦ç°¡æ˜“æ¤œæŸ»ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€å€¤ã®ç¯„å›²ã‚„ç‰¹æ€§ã«å¯¾ã™ã‚‹è€ƒãˆä¸è¶³ã‚’ã€å®¹èµ¦ãªãåŠ¹ç‡çš„ã«æŠ½å‡ºã§ãã¾ã™ã€‚</p>
<h2 id="ãƒ¢ãƒ‡ãƒ«æ¢ç´¢"><span class="link-to-here-outer"><a href="#ãƒ¢ãƒ‡ãƒ«æ¢ç´¢" title="ãƒ¢ãƒ‡ãƒ«æ¢ç´¢"><span class="link-to-here">Link to<br />
here</span></a></span>ãƒ¢ãƒ‡ãƒ«æ¢ç´¢</h2>
<p>è¨­è¨ˆã®åˆæœŸæ®µéšã«ãŠã„ã¦ã€ãƒ¢ãƒ‡ãƒ«ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãªã©ã«ã¤ã„ã¦ã®è¨­è¨ˆç©ºé–“ã‚’ã€è©¦è¡ŒéŒ¯èª¤ã—ãªãŒã‚‰æ¢ç´¢ã—ãŸã„å±€é¢ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p>å‰ç¯€ã®ãƒ¢ãƒ‡ãƒ«ç†è§£ã®å ´åˆã¨åŒæ§˜ã«ã€è¨­è¨ˆç©ºé–“ã‚’æ¢ç´¢ã™ã‚‹ç›®çš„ã§ã€<span class="ascii">Haskell</span>ã‚’ç”¨ã„ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚</p>
<p><span class="ascii">Haskell</span>ã®ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã¨ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã‚’ç”¨ã„ã¦ãƒ¢ãƒ‡ãƒ«ã‚’ç°¡æ½”ã«è¨˜è¿°ã§ãã‚Œã°ã€ç³»ã®å¤§ãã•ãªã©ã®å¤šãã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æŒ¯ã‚ŠãªãŒã‚‰ã€æœ€é©ãªè¨­è¨ˆå€¤ã‚’æ¢ç´¢ã™ã‚‹ã“ã¨ã«æ´»ç”¨ã§ãã¾ã™ã€‚</p>
<h2 id="ãã®ä»–-1"><span class="link-to-here-outer"><a href="#ãã®ä»–-1" title="ãã®ä»–-1"><span class="link-to-here">Link to<br />
here</span></a></span>ãã®ä»–</h2>
<p>æ€è€ƒãƒ•ã‚§ãƒ¼ã‚ºã§ã¯ã€è¨˜è¿°ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿè¡Œé€Ÿåº¦ã‚ˆã‚Šã‚‚ã€æ€è€ƒå†…å®¹ã‚’ã‚³ãƒ¼ãƒ‰ã§è¡¨ç¾ã™ã‚‹é€Ÿã•ã‚„ã€è©¦è¡ŒéŒ¯èª¤çš„ã«ã‚³ãƒ¼ãƒ‰ã®å†…å®¹ã‚’ç¢ºèªãƒ»å¤‰æ›´ã™ã‚‹é€Ÿã•ã®æ–¹ãŒé‡è¦ãªã“ã¨ãŒæœ‰ã‚Šã¾ã™ã€‚</p>
<p>å„ã€…ã®äººã®æ€è€ƒç‰¹æ€§ã«ã‚ˆã‚Šã¾ã™ãŒã€<span class="ascii">Haskell</span>ã®ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã¨ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãªã©ã®è¨€èªçš„ãªç‰¹å¾´ã¯ã€å®Ÿè¡Œå¯èƒ½ä»•æ§˜æ›¸ãƒ»å®Ÿè¡Œå¯èƒ½æ€è€ƒè¡¨ç¾ã¨ã—ã¦ã€æ€è€ƒã‚’æ•´ç†ã™ã‚‹ã“ã¨ã«å‘ã„ã¦ã„ã¾ã™ã€‚</p>
<p>ä»¥ä¸‹ã®ã‚ˆã†ã«ã€<span class="ascii">Haskell</span>ã‚’ç”¨ã„ã¦ã€ç°¡æ½”ã«ã€ç´ æ—©ãã€æ‰‹è»½ã«ã€æ€è€ƒä½œæ¥­ã‚’æ”¯æ´ãƒ»åŠ é€Ÿã§ãã¾ã™ã€‚</p>
<ul>
<li>ãƒ¢ãƒ‡ãƒ«ãªã©ã®æ€è€ƒã‚’ã€ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ã§ç›´æ„Ÿçš„ãƒ»ç°¡æ½”ã«è¨˜è¿°ã™ã‚‹</li>
<li>å‡¦ç†ã‚’ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã‚’ç”¨ã„ã¦ç°¡æ½”ã«è¨˜è¿°ã™ã‚‹</li>
<li>å¯¾è©±ç’°å¢ƒ<span class="ascii">GHCi</span>ã§ã€æŒ™å‹•ã¨æ€è€ƒã‚’æ‰‹æ—©ãè©¦è¡ŒéŒ¯èª¤çš„ã«ç¢ºèªã™ã‚‹</li>
</ul>
<p>ä¾¿åˆ©ã§ã™ã­ã€‚</p>
<hr />
<h1 id="ãŠã‚ã‚Šã«"><span class="link-to-here-outer"><a href="#ãŠã‚ã‚Šã«" title="ãŠã‚ã‚Šã«"><span class="link-to-here">Link to<br />
here</span></a></span>ãŠã‚ã‚Šã«</h1>
<p>ã“ã®è¨˜äº‹ã§ã¯ã€<span class="ascii">Haskell</span>ã‚’æ¥­å‹™ã§ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ã«ä½¿ã†è¦³ç‚¹ã‚„ãƒ’ãƒ³ãƒˆã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã—ãŸã€‚ ã€Œä½œæ¥­ã€ã‚„ã€Œæ€è€ƒã€ãŒå¿…è¦ãªã€ã‚ˆã‚ŠãŸãã•ã‚“ã®å±€é¢ã§<span class="ascii">Haskell</span>ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚</p>
<p>é–¢æ•°åˆæˆã€éƒ¨åˆ†é©ç”¨ã€é«˜éšé–¢æ•°ã€å¤šç›¸é–¢æ•°ãªã©ã®è¨€èªçš„ãªç‰¹å¾´ã¯ã€é–¢æ•°ã‚’ãƒœãƒˆãƒ ã‚¢ãƒƒãƒ—ã‚„å¯¾è©±çš„ã«ã€ç´ æ—©ãã‹ã¤é«˜å“è³ªã«çµ„ã¿ä¸Šã’ã‚‹ã®ã«ä¾¿åˆ©ã§ã™ã€‚ä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ãªã©ã®è¨€èªçš„ãªç‰¹å¾´ã¯ã€ã‚ã‚‹ç¨®ã®æ€è€ƒãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆé¸æŠã€éä¸€æ§˜ã€å…¥ã‚Œå­ãªã©ï¼‰ã‚’ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆã«è¡¨ç¾ã™ã‚‹ã®ã«ä¾¿åˆ©ã§ã™ã€‚å¯¾è©±ç’°å¢ƒ<span class="ascii">GHCi</span>ã¯ã€è©¦è¡ŒéŒ¯èª¤çš„ã«ä½œæ¥­ã‚„æ€è€ƒã‚’é€²ã‚ã‚‹ã®ã«ä¾¿åˆ©ã§ã™ã€‚</p>
<p><span class="ascii">Haskell</span>ã«é™ã‚‰ãšã€è‡ªåˆ†ã®æ€è€ƒç‰¹æ€§ã«ã‚ã£ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã‚’ã€æ¥­å‹™ã‚’åŠ é€Ÿã™ã‚‹æ—¥å¸¸çš„ãªãƒ„ãƒ¼ãƒ«ã¨ã—ã¦å‚™ãˆã¦ãŠãã“ã¨ã¯æœ‰ç”¨ã§ã™ã€‚</p>
<p>ã—ã‹ã—ã€ãã‚‚ãã‚‚ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã®å¯èƒ½æ€§ãƒ»é©ç”¨ç¯„å›²ã¯éå¸¸ã«åºƒã„ã‚‚ã®ã§ã™ã€‚ãã®é©ç”¨ç¯„å›²ã‚’ã€ã€Œæ¥­å‹™ã€ã«ç‹­ã‚ã¦ã—ã¾ã†å¿…è¦ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<p>ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã¯ã€æ¥­å‹™ã®ã¿ã«é™ã‚‰ãšã€æ—¥ã€…ã®ã€Œæ€è€ƒã€ã®æ”¯æ´ãƒ»åŠ é€Ÿã«åºƒãä½¿ç”¨ã§ãã‚‹ã‚‚ã®ã§ã™ã€‚</p>
<p>ä»¥ä¸Šã€ <span class="ascii">Enjoy programming</span>ï¼</p>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
                <i class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="margin-right: 5px;"></i>
                <a href="/posts/2020/strict-gotchas.html" lang="ja">Strictæ‹¡å¼µã‚’ä½¿ç”¨ã™ã‚‹éš›ã®æ³¨æ„ç‚¹</a>
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/2020/io-monad-and-sideeffect.html" style="margin-left: auto;" lang="ja">IO ãƒ¢ãƒŠãƒ‰ã¨å‰¯ä½œç”¨</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>

</feed>
