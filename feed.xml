<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>Haskell-jp Blog</title>
    <link href="https://haskell.jp/blog/feed.xml" rel="self" />
    <link href="https://haskell.jp/blog" />
    <id>https://haskell.jp/blog/feed.xml</id>
    <author>
        <name>Haskell-jp</name>
        <email></email>
    </author>
    <updated>2019-10-01T00:00:00Z</updated>
    <entry>
    <title>HIW 2019ã§ç™ºè¡¨ã•ã‚ŒãŸã€Copilotã¨ã„ã†å†…éƒ¨DSLã«ã¤ã„ã¦</title>
    <link href="https://haskell.jp/blog/posts/2019/hiw-copilot.html" />
    <id>https://haskell.jp/blog/posts/2019/hiw-copilot.html</id>
    <published>2019-10-01T00:00:00Z</published>
    <updated>2019-10-01T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <hr />
<p><a href="/posts/2019/hiw-gibbon.html">å‰å›</a>ã‹ã‚‰å¼•ãç¶šãã€<a href="https://icfp19.sigplan.org/home/hiw-2019#About"><span class="ascii">Haskell Implementors</span>â€™ <span class="ascii">Workshop 2019</span></a>ã¸ã®å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã¨ã—ã¦ã€ç§ã®å°è±¡ã«æ®‹ã£ãŸç™ºè¡¨ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚<br />
ä»Šå›ã¯ã€<a href="https://copilot-language.github.io/"><span class="ascii">Copilot</span></a>ã¨ã„ã†ã€<span class="ascii">C</span>è¨€èªã®ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹<span class="ascii">Haskell</span>è£½å†…éƒ¨<span class="ascii">DSL</span>ã«ã¤ã„ã¦ã®ç™ºè¡¨ã§ã™ã€‚</p>
<div id="table-of-contents-outer">
<div id="table-of-contents">
<div class="table-of-contents-title">
Contents
</div>
<ul>
<li><a href="#copilot-3.0-a-haskell-runtime-verification-framework-for-uavs" title="copilot-3.0-a-haskell-runtime-verification-framework-for-uavs"><span class="ascii">Copilot 3.0: a Haskell runtime verification framework for UAVs</span></a></li>
<li><a href="#copilotã‚’è©¦ã—ã¦ã¿ã‚‹" title="copilotã‚’è©¦ã—ã¦ã¿ã‚‹"><span class="ascii">Copilot</span>ã‚’è©¦ã—ã¦ã¿ã‚‹</a></li>
</ul>
</div>
</div>
<h1 id="copilot-3.0-a-haskell-runtime-verification-framework-for-uavs"><span class="link-to-here-outer"><a href="#copilot-3.0-a-haskell-runtime-verification-framework-for-uavs" title="copilot-3.0-a-haskell-runtime-verification-framework-for-uavs"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Copilot 3.0: a Haskell runtime verification framework for UAVs</span></h1>
<p>ç™ºè¡¨è€…<span class="ascii">: Frank Dedden</span> <em><span class="ascii">Royal Netherlands Aerospace Center</span></em><span class="ascii">, Alwyn Goodloe</span> <em><span class="ascii">NASA Langley Research Center</span></em><span class="ascii">, Ivan Perez</span> <em><span class="ascii">NIA / NASA Formal Methods</span></em></p>
<p><span class="ascii">Haskell</span>è£½ã®å†…éƒ¨<span class="ascii">DSL</span>ã‹ã‚‰<span class="ascii">C</span>è¨€èªã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹ã€<a href="https://copilot-language.github.io/"><span class="ascii">Copilot</span></a>ã®ç´¹ä»‹ã§ã™ã€‚<br />
ä¼¼ãŸè¬³ã„æ–‡å¥ã®å†…éƒ¨<span class="ascii">DSL</span>ã¨ã—ã¦<a href="http://hackage.haskell.org/package/ivory"><span class="ascii">ivory</span></a>ãŒã‚ã‚Šã¾ã™ãŒã€<span class="ascii">Copilot</span>ã¯ã€ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã®å®Ÿè¡Œæ™‚æ¤œè¨¼ã‚’è¡Œã†<span class="ascii">C</span>è¨€èªã®ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã«ã€ã‚ˆã‚Šç‰¹åŒ–ã—ã¦ã„ã¾ã™ã€‚<br />
ã€Œã‚»ãƒ³ã‚µãƒ¼ã‹ã‚‰ä¿¡å·ã‚’å—ã‘å–ã£ã¦ã€ä¸€å®šã®æ¡ä»¶ã‚’æº€ãŸã—ãŸå ´åˆã«ä½•ã‚‰ã‹ã®å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ã€ã¨ã„ã†å‡¦ç†ã‚’<span class="ascii">Haskell</span>ã§å®£è¨€çš„ã«è¨˜è¿°ã™ã‚‹ã¨ã€ãƒ¡ãƒ¢ãƒªã®æ¶ˆè²»é‡ãƒ»å®Ÿè¡Œæ™‚é–“ã«ãŠã„ã¦å¸¸ã«ä¸€å®šãª<span class="ascii">C</span>è¨€èªã®ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚</p>
<p>ãƒ¡ãƒ¢ãƒªãŒé™ã‚‰ã‚Œã¦ã„ã¦ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãªå‡¦ç†ãŒå¿…è¦ãªãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã«ã¨ã£ã¦ã€Œé‚ªé­”ã«ãªã‚‰ãªã„ç›£è¦–ã€ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®å¿…é ˆæ¡ä»¶ãªã®ã§ã—ã‚‡ã†ã€‚<br />
ç¾çŠ¶<span class="ascii">Haskell</span>ã¯<span class="ascii">GC</span>ãŒå¿…è¦ã§ã‚ã‚‹ã¨ã„ã£ãŸåˆ¶ç´„ã‚‚ã‚ã‚Šã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãªå‡¦ç†ã‚„å³æ ¼ãªãƒ¡ãƒ¢ãƒªãƒ¼ç®¡ç†ãŒå¿…è¦ãªæ©Ÿå™¨ã§ã®æ¡ç”¨ã¯é›£ã—ã„ã§ã™ãŒã€<span class="ascii">Ivory</span>ã‚„ä»Šå›ç™ºè¡¨ã•ã‚ŒãŸ<span class="ascii">Copilot</span>ã¯ã‚ãã¾ã§ã‚‚ã€Œ<span class="ascii">C</span>è¨€èªã®ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹ã ã‘ã€ãªã®ã§ã€ç”Ÿæˆã™ã‚‹<span class="ascii">Haskell</span>ã§ã¯ãƒ¡ãƒ¢ãƒªãƒ¼ç®¡ç†ã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ã€‚<br />
ã«ã£ããã‚¹ãƒšãƒ¼ã‚¹ãƒªãƒ¼ã‚¯ã«æ‚©ã¾ã•ã‚Œã‚‹å¿ƒé…ã‚‚ãªã„ã®ã§ã™ã€‚<br />
ã“ã†ã„ã£ãŸ<span class="ascii">Haskell</span>è£½å†…éƒ¨<span class="ascii">DSL</span>ã¯ã€<span class="ascii">Haskell</span>ã®æŒã¤å¼·ã„å‹ä»˜ã‘ã«ã‚ˆã‚‹ãƒ¡ãƒªãƒƒãƒˆã‚’äº«å—ã—ãªãŒã‚‰ã€å¤‰æ›ã—ãŸè¨€èªã®å®Ÿè¡Œæ™‚ã«ãŠã‘ã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å‡ºã—ã‚„ã™ã„ã€ã¨ã„ã†ã„ã„ã¨ã“å–ã‚Šãªãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ã®ã§ã€ã‚‚ã£ã¨åºƒã¾ã£ã¦ã»ã—ã„ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã™ã­ã€‚</p>
<h1 id="copilotã‚’è©¦ã—ã¦ã¿ã‚‹"><span class="link-to-here-outer"><a href="#copilotã‚’è©¦ã—ã¦ã¿ã‚‹" title="copilotã‚’è©¦ã—ã¦ã¿ã‚‹"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Copilot</span>ã‚’è©¦ã—ã¦ã¿ã‚‹</h1>
<ul>
<li>â„¹ï¸ å®Ÿéš›ã«ä½¿ç”¨ã—ãŸã‚³ãƒ¼ãƒ‰ã¯<a href="https://github.com/haskell-jp/blog/tree/master/examples/2019/hiw-copilot"><span class="ascii">Haskell-jp Blog</span>ã®<span class="ascii">GitHub</span>ã®ãƒªãƒã‚¸ãƒˆãƒªãƒ¼</a>ã«ã‚ã‚Šã¾ã™ã€‚</li>
<li>â„¹ï¸ ä½¿ç”¨ã—ãŸ<span class="ascii">copilot</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã€<span class="ascii">3.0.1</span>ã§ã™ã€‚</li>
<li>â„¹ï¸ ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®è§£èª¬ã«ã¤ã„ã¦ã¯ã€<span class="ascii">notogawa</span>ã•ã‚“ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚‚å‚è€ƒã«ãªã‚Šã¾ã—ãŸ<small>ï¼ˆ<a href="https://haskell.jp/slack-log/html/C4M4TT8JJ/46.html#message-1554858057.072700"><span class="ascii">Haskell-jp</span>ã®<span class="ascii">slack-log</span>ã§ã¯ã“ã®ã‚ãŸã‚Š</a>ã€‚åŸ·ç­†æ™‚ç‚¹ã§<span class="ascii">CSS</span>ãŒå½“ãŸã£ã¦ãªã„ãŸã‚èª­ã¿ã¥ã‚‰ã„ã§ã™ãŒä¸€å¿œï¼‰</small>ã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼</li>
</ul>
<p>ã›ã£ã‹ããªã‚“ã§<span class="ascii">Copilot</span>ã‚’è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚<br />
å…¬å¼ã‚µã‚¤ãƒˆã«ã‚ã£ãŸã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ãã®ã¾ã‚“ã¾ã§ã™ãŒã€ç”Ÿæˆã•ã‚Œã‚‹<span class="ascii">C</span>ã®ã‚³ãƒ¼ãƒ‰ã‚’çœºã‚ã¦ã¿ã¾ã™ã€‚</p>
<p>ğŸ‘‡ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ãŒå…¥ã£ãŸãƒªãƒã‚¸ãƒˆãƒªãƒ¼ã‚’<span class="ascii">git clone</span>ã—ãŸå¾Œã€</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">git</span> clone https://github.com/haskell-jp/blog</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="bu">cd</span> blog/examples/2019/hiw-copilot</a></code></pre></div>
<p>ğŸ‘‡ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒ“ãƒ«ãƒ‰ãƒ»<span class="ascii">C</span>è¨€èªã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰ã®ç”Ÿæˆã§ãã‚‹ã¯ãšã§ã™ã€‚</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="ex">stack</span> build copilot</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="ex">stack</span> exec runghc heater.hs</a></code></pre></div>
<p>ã“ã¡ã‚‰ãŒç”Ÿæˆå…ƒã®<span class="ascii">Haskell</span>ã®ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode haskell:heater.hs"><code class="sourceCode haskell"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">import</span> <span class="dt">Language.Copilot</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">import</span> <span class="dt">Copilot.Compile.C99</span></a>
<a class="sourceLine" id="cb3-3" title="3"></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="kw">import</span> <span class="dt">Prelude</span> <span class="kw">hiding</span> ((&gt;), (&lt;), div)</a>
<a class="sourceLine" id="cb3-5" title="5"></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="ot">temp ::</span> <span class="dt">Stream</span> <span class="dt">Word8</span></a>
<a class="sourceLine" id="cb3-7" title="7">temp <span class="ot">=</span> extern <span class="st">&quot;temperature&quot;</span> <span class="dt">Nothing</span></a>
<a class="sourceLine" id="cb3-8" title="8"></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="ot">ctemp ::</span> <span class="dt">Stream</span> <span class="dt">Float</span></a>
<a class="sourceLine" id="cb3-10" title="10">ctemp <span class="ot">=</span> (unsafeCast temp) <span class="op">*</span> (<span class="fl">150.0</span> <span class="op">/</span> <span class="fl">255.0</span>) <span class="op">-</span> <span class="fl">50.0</span></a>
<a class="sourceLine" id="cb3-11" title="11"></a>
<a class="sourceLine" id="cb3-12" title="12">spec <span class="ot">=</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb3-13" title="13">  trigger <span class="st">&quot;heaton&quot;</span>  (ctemp <span class="op">&lt;</span> <span class="fl">18.0</span>) [arg ctemp]</a>
<a class="sourceLine" id="cb3-14" title="14">  trigger <span class="st">&quot;heatoff&quot;</span> (ctemp <span class="op">&gt;</span> <span class="fl">21.0</span>) [arg ctemp]</a>
<a class="sourceLine" id="cb3-15" title="15"></a>
<a class="sourceLine" id="cb3-16" title="16">main <span class="ot">=</span> reify spec <span class="op">&gt;&gt;=</span> compile <span class="st">&quot;heater&quot;</span></a></code></pre></div>
<p>ã¾ãšã€<code>temp</code>ã¨<code>ctemp</code>ã¨ã„ã†è­˜åˆ¥å­ã«å®šç¾©ã—ãŸå¼ãŒã€ã‚»ãƒ³ã‚µãƒ¼ãŒç™ºä¿¡ã™ã‚‹ã€é€£ç¶šçš„ã«å¤‰åŒ–ã™ã‚‹å€¤ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚<br />
<span class="ascii">Copilot</span>ã®è¨€è‘‰ã¯ã“ã‚Œã‚’<code>Stream</code>ã¨å‘¼ã‚“ã§ã„ã¾ã™ã€‚</p>
<p><code>spec</code>ã¨ã„ã†è­˜åˆ¥å­ã§å®šç¾©ã—ã¦ã„ã‚‹å¼ãŒã€ã€Œã©ã®ã‚»ãƒ³ã‚µãƒ¼ã‹ã‚‰ä¿¡å·ã‚’å—ã‘å–ã£ã¦ã€ã©ã‚“ãªæ¡ä»¶ã‚’æº€ãŸã—ãŸå ´åˆã«ã©ã®å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ã‹ã€è¦å®šã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚<br />
ğŸ‘†ã®å ´åˆã€<code>ctemp</code>ã¨ã„ã†<code>Stream</code>ãŒ<code>18.0</code>ã‚’ä¸‹å›ã£ãŸã‚‰<code>heaton</code>ã¨ã„ã†ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºç«ã—ã€<code>21.0</code>ã‚’è¶…ãˆãŸã‚‰<code>heatoff</code>ã¨ã„ã†ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºç«ã™ã‚‹ã€ã¨å®šã‚ã¦ã„ã‚‹ã‚ã‘ã§ã™ã­ã€‚<br />
ãã—ã¦<code>main</code>é–¢æ•°ã§å®Ÿè¡Œã—ã¦ã„ã‚‹<code>reify spec &gt;&gt;= compile "heater"</code>ã¨ã„ã†ç®‡æ‰€ã§ã€<code>.h</code>ãƒ•ã‚¡ã‚¤ãƒ«ã¨<code>.c</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›¸ãè¾¼ã‚“ã§ã„ã¾ã™ã€‚</p>
<p>ãã—ã¦ã€ç”Ÿæˆã•ã‚ŒãŸãƒ˜ãƒƒãƒ€ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«<code>heater.h</code>ãŒã“ã†ğŸ‘‡</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode c:heater.h"><code class="sourceCode c"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">extern</span> <span class="dt">uint8_t</span> temperature;</a>
<a class="sourceLine" id="cb4-2" title="2"><span class="dt">void</span> heatoff(<span class="dt">float</span> heatoff_arg0);</a>
<a class="sourceLine" id="cb4-3" title="3"><span class="dt">void</span> heaton(<span class="dt">float</span> heaton_arg0);</a>
<a class="sourceLine" id="cb4-4" title="4"><span class="dt">void</span> step(<span class="dt">void</span>);</a></code></pre></div>
<p>ã§ã€è‚å¿ƒã®<span class="ascii">C</span>ã®ã‚³ãƒ¼ãƒ‰æœ¬ä½“<code>heater.c</code>ãŒã“ã¡ã‚‰ã§ã™ã€‚</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode c:heater.c"><code class="sourceCode c"><a class="sourceLine" id="cb5-1" title="1"><span class="pp">#include </span><span class="im">&lt;stdint.h&gt;</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="pp">#include </span><span class="im">&lt;stdbool.h&gt;</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="pp">#include </span><span class="im">&lt;string.h&gt;</span></a>
<a class="sourceLine" id="cb5-4" title="4"></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="pp">#include </span><span class="im">&quot;heater.h&quot;</span></a>
<a class="sourceLine" id="cb5-6" title="6"></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="dt">static</span> <span class="dt">uint8_t</span> temperature_cpy;</a>
<a class="sourceLine" id="cb5-8" title="8"></a>
<a class="sourceLine" id="cb5-9" title="9"><span class="dt">bool</span> heatoff_guard(<span class="dt">void</span>) {</a>
<a class="sourceLine" id="cb5-10" title="10">  <span class="cf">return</span> ((((<span class="dt">float</span>)(temperature_cpy)) * ((<span class="fl">150.0</span>) / (<span class="fl">255.0</span>))) - (<span class="fl">50.0</span>)) &gt; (<span class="fl">21.0</span>);</a>
<a class="sourceLine" id="cb5-11" title="11">}</a>
<a class="sourceLine" id="cb5-12" title="12"></a>
<a class="sourceLine" id="cb5-13" title="13"><span class="dt">float</span> heatoff_arg0(<span class="dt">void</span>) {</a>
<a class="sourceLine" id="cb5-14" title="14">  <span class="cf">return</span> (((<span class="dt">float</span>)(temperature_cpy)) * ((<span class="fl">150.0</span>) / (<span class="fl">255.0</span>))) - (<span class="fl">50.0</span>);</a>
<a class="sourceLine" id="cb5-15" title="15">}</a>
<a class="sourceLine" id="cb5-16" title="16"></a>
<a class="sourceLine" id="cb5-17" title="17"><span class="dt">bool</span> heaton_guard(<span class="dt">void</span>) {</a>
<a class="sourceLine" id="cb5-18" title="18">  <span class="cf">return</span> ((((<span class="dt">float</span>)(temperature_cpy)) * ((<span class="fl">150.0</span>) / (<span class="fl">255.0</span>))) - (<span class="fl">50.0</span>)) &lt; (<span class="fl">18.0</span>);</a>
<a class="sourceLine" id="cb5-19" title="19">}</a>
<a class="sourceLine" id="cb5-20" title="20"></a>
<a class="sourceLine" id="cb5-21" title="21"><span class="dt">float</span> heaton_arg0(<span class="dt">void</span>) {</a>
<a class="sourceLine" id="cb5-22" title="22">  <span class="cf">return</span> (((<span class="dt">float</span>)(temperature_cpy)) * ((<span class="fl">150.0</span>) / (<span class="fl">255.0</span>))) - (<span class="fl">50.0</span>);</a>
<a class="sourceLine" id="cb5-23" title="23">}</a>
<a class="sourceLine" id="cb5-24" title="24"></a>
<a class="sourceLine" id="cb5-25" title="25"><span class="dt">void</span> step(<span class="dt">void</span>) {</a>
<a class="sourceLine" id="cb5-26" title="26">  (temperature_cpy) = (temperature);</a>
<a class="sourceLine" id="cb5-27" title="27">  <span class="cf">if</span> ((heatoff_guard)()) {</a>
<a class="sourceLine" id="cb5-28" title="28">    (heatoff)(((heatoff_arg0)()));</a>
<a class="sourceLine" id="cb5-29" title="29">  };</a>
<a class="sourceLine" id="cb5-30" title="30">  <span class="cf">if</span> ((heaton_guard)()) {</a>
<a class="sourceLine" id="cb5-31" title="31">    (heaton)(((heaton_arg0)()));</a>
<a class="sourceLine" id="cb5-32" title="32">  };</a>
<a class="sourceLine" id="cb5-33" title="33">}</a></code></pre></div>
<p>å…ˆã»ã©<code>Stream</code>ã¨ã—ã¦å®šç¾©ã—ãŸå€¤ã®ã†ã¡ã€<code>temp</code>ã¯ã€<code>temperature</code>ã¨ã„ã†ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã¨ã€ãã‚Œã‚’ä¸€æ™‚çš„ã«ä¿å­˜ã™ã‚‹<code>temperature_cpy</code>ã¨ã„ã†äºŒã¤ã®å¤‰æ•°ã«ç¿»è¨³ã•ã‚Œã¾ã—ãŸã€‚<br />
<code>spec</code>ã«ãŠã„ã¦<code>trigger</code>ã¨ã„ã†é–¢æ•°ã§åˆ—æŒ™ã—ãŸã€Œã©ã®ã‚»ãƒ³ã‚µãƒ¼ã‹ã‚‰ä¿¡å·ã‚’å—ã‘å–ã£ã¦ã€ã©ã‚“ãªæ¡ä»¶ã‚’æº€ãŸã—ãŸå ´åˆã«ã©ã®å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ã‹ã€ã¨ã„ã†ãƒ«ãƒ¼ãƒ«ã¯ã€<code>step</code>ã¨ã„ã†é–¢æ•°ã«ç¾ã‚ŒãŸã‚ˆã†ã§ã™ã€‚<br />
ã“ã®é–¢æ•°ã‚’åˆ©ç”¨ã™ã‚‹å´ã§ã¯ã€<code>heaton</code>é–¢æ•°ã¨<code>heatoff</code>é–¢æ•°ã‚’åˆ¥é€”å®šç¾©ã—ãŸä¸Šã§ã€<code>temperature</code>ã«ã‚»ãƒ³ã‚µãƒ¼ã‹ã‚‰å—ã‘å–ã£ãŸå€¤ã‚’ä»£å…¥ã—ã¦<code>step</code>ã‚’å‘¼ã¶ã“ã¨ã«ã‚ˆã£ã¦ã€<code>temperature</code>ã®å€¤ãŒæ¡ä»¶ã«ä¸€è‡´ã—ãŸã¨ãã€<code>heaton</code>é–¢æ•°ã¨<code>heatoff</code>é–¢æ•°ã‚’å®Ÿè¡Œã—ã¦ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã®åˆ¶å¾¡ãŒã§ãã‚‹ã®ã§ã—ã‚‡ã†ã€‚<br />
<span class="ascii">Haskell</span>å´ã§å®šç¾©ã—ãŸã‚‚ã†ä¸€ã¤ã®<code>Stream</code>ã€<code>ctemp</code>ã¯ã€<code>heaton_guard</code>ã€<code>heaton_arg0</code>ã€<code>heatoff_guard</code>ã€<code>heatoff_arg0</code>ã€ãã‚Œãã‚Œã®é–¢æ•°ã«æ›¸ã‹ã‚ŒãŸã€<code>temperature_cpy</code>ã®å€¤ã‚’å¤‰æ›ã™ã‚‹å¼ã«ç¾ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚</p>
<p>æ­£ç›´ãªã¨ã“ã‚ã“ã®ç¨‹åº¦ã§ã‚ã‚Œã°ã€ç›´æ¥<span class="ascii">C</span>ã§æ›¸ã„ãŸæ–¹ãŒä½™è¨ˆãªã‚«ãƒƒã‚³ã‚‚ãªã„ã—èª­ã¿ã‚„ã™ãã†ã§ã¯ã‚ã‚Šã¾ã™ã€‚<br />
<code>temp</code>ã‚’<code>ctemp</code>ã«å¤‰æ›ã™ã‚‹å¼<code>(150.0 / 255.0) - 50.0</code>ãŒå¤‰æ›å¾Œã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã§ã¯å†—é•·ã«é©ç”¨ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‹ã‚‰ã€ã‚‚ã£ã¨æœ€é©åŒ–ã§ããã†ã§ã™ã—ã€‚<br />
ã¨ã¯ã„ãˆã€ã‚ã–ã‚ã–<span class="ascii">DSL</span>ã‚’ä½œã£ãŸã‹ã‚‰ã«ã¯ã€ã‚ˆã‚Šè¤‡é›‘ã§ã€<span class="ascii">Haskell</span>ã§ãªã‘ã‚Œã°æ›¸ã„ã¦ã‚‰ã‚Œãªã„ã‚ˆã†ãªã‚±ãƒ¼ã‚¹ãŒã€<span class="ascii">Copilot</span>ã®é–‹ç™ºè€…ã®ç¾å ´ã§ã¯ã‚ã‚‹ã®ã§ã—ã‚‡ã†<small>ï¼ˆãªã‚“ã›<span class="ascii">NASA</span>ã®æ–¹ã‚‚é–¢ã‚ã£ã¦ã„ã‚‹ãã‚‰ã„ã§ã™ã‹ã‚‰ï¼ï¼‰</small>ã€‚<br />
è©³ã—ã„ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚„ã€ãƒ“ãƒ«ãƒ‰æ™‚ã®ãƒ•ãƒ­ãƒ¼ã¨ã„ã£ãŸé‹ç”¨æ–¹æ³•ã‚’èããŸã„ã¨ã“ã‚ã§ã™ã­ã€‚</p>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/2019/haskell-symposium.html" style="margin-left: auto;" lang="ja">Haskell Symposium 2019 ãƒ¬ãƒãƒ¼ãƒˆ</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>
<entry>
    <title>Haskell Symposium 2019 ãƒ¬ãƒãƒ¼ãƒˆ</title>
    <link href="https://haskell.jp/blog/posts/2019/haskell-symposium.html" />
    <id>https://haskell.jp/blog/posts/2019/haskell-symposium.html</id>
    <published>2019-10-01T00:00:00Z</published>
    <updated>2019-10-01T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <p><a href="https://icfp19.sigplan.org/home/haskellsymp-2019"><span class="ascii">Haskell Symposium 2019</span></a>ã«<span class="ascii">IIJ</span>ã¨ã—ã¦å‚åŠ ã—ã¦ãã¾ã—ãŸã€‚</p>
<p>è´è¬›ã—ãŸç™ºè¡¨ã«ã¤ã„ã¦ã®æ¦‚è¦ã‚’ã¾ã¨ã‚ã¾ã—ãŸã®ã§ã€ã©ã®è«–æ–‡ã‚’èª­ã‚“ã§ã¿ã‚‹ã‹æ±ºã‚ã‚‹ãªã©ã®éš›ã«ã”æ´»ç”¨ãã ã•ã„ã€‚å†…å®¹ã«ã¤ã„ã¦ã¯ç§ã®èãã¾ã¡ãŒã„ãƒ»èª­ã¿ã¾ã¡ãŒã„ãªã©ã‚ã‚‹ã¨æ€ã„ã¾ã™ã®ã§ã”äº†æ‰¿ãã ã•ã„ã€‚</p>
<div id="table-of-contents-outer">
<div id="table-of-contents">
<div class="table-of-contents-title">
Contents
</div>
<ul>
<li><a href="#haskell-symposiumã¨ã¯" title="haskell-symposiumã¨ã¯"><span class="ascii">Haskell Symposium</span>ã¨ã¯</a></li>
<li><a href="#bidirectional-type-class-instances" title="bidirectional-type-class-instances"><span class="ascii">Bidirectional Type Class Instances</span></a></li>
<li><a href="#generic-and-flexible-defaults-for-verified-law-abiding-type-class-instances" title="generic-and-flexible-defaults-for-verified-law-abiding-type-class-instances"><span class="ascii">Generic and Flexible Defaults for Verified, Law-Abiding Type-Class Instances</span></a></li>
<li><a href="#modular-effects-in-haskell-through-effect-polymorphism-and-explicit-dictionary-applications---a-new-approach-and-the-Î¼verifast-verifier-as-a-case-study" title="modular-effects-in-haskell-through-effect-polymorphism-and-explicit-dictionary-applications---a-new-approach-and-the-Î¼verifast-verifier-as-a-case-study"><span class="ascii">Modular effects in Haskell through effect polymorphism and explicit dictionary applications - A new approach and the</span> Î¼<span class="ascii">VeriFast verifier as a case study</span></a></li>
<li><a href="#verifying-effectful-haskell-programs-in-coq" title="verifying-effectful-haskell-programs-in-coq"><span class="ascii">Verifying Effectful Haskell Programs in Coq</span></a></li>
<li><a href="#solving-haskell-equality-constraints-using-coq" title="solving-haskell-equality-constraints-using-coq"><span class="ascii">Solving Haskell equality constraints using Coq</span></a></li>
<li><a href="#formal-verification-of-spacecraft-control-programs-an-experience-report" title="formal-verification-of-spacecraft-control-programs-an-experience-report"><span class="ascii">Formal Verification of Spacecraft Control Programs: An Experience Report</span></a></li>
<li><a href="#g2q-haskell-constraint-solving" title="g2q-haskell-constraint-solving"><span class="ascii">G2Q: Haskell Constraint Solving</span></a></li>
<li><a href="#making-a-faster-curry-with-extensional-types" title="making-a-faster-curry-with-extensional-types"><span class="ascii">Making a Faster Curry with Extensional Types</span></a></li>
<li><a href="#multi-stage-programs-in-context" title="multi-stage-programs-in-context"><span class="ascii">Multi-Stage Programs in Context</span></a></li>
<li><a href="#working-with-source-plugins" title="working-with-source-plugins"><span class="ascii">Working with Source Plugins</span></a></li>
<li><a href="#stclang-state-thread-composition-as-a-foundation-for-monadic-dataflow-parallelism" title="stclang-state-thread-composition-as-a-foundation-for-monadic-dataflow-parallelism"><span class="ascii">STCLang: State Thread Composition as a Foundation for Monadic Dataflow Parallelism</span></a></li>
<li><a href="#synthesizing-functional-reactive-programs" title="synthesizing-functional-reactive-programs"><span class="ascii">Synthesizing Functional Reactive Programs</span></a></li>
<li><a href="#the-essence-of-live-coding-change-the-program-keep-the-state" title="the-essence-of-live-coding-change-the-program-keep-the-state"><span class="ascii">The essence of live coding: Change the program, keep the state!</span></a></li>
<li><a href="#monad-transformers-and-modular-algebraic-effects-what-binds-them-together" title="monad-transformers-and-modular-algebraic-effects-what-binds-them-together"><span class="ascii">Monad Transformers and Modular Algebraic Effects: What Binds Them Together</span></a></li>
<li><a href="#scoping-monadic-relational-database-queries" title="scoping-monadic-relational-database-queries"><span class="ascii">Scoping Monadic Relational Database Queries</span></a></li>
</ul>
</div>
</div>
<h1 id="haskell-symposiumã¨ã¯"><span class="link-to-here-outer"><a href="#haskell-symposiumã¨ã¯" title="haskell-symposiumã¨ã¯"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Haskell Symposium</span>ã¨ã¯</h1>
<p><a href="https://icfp19.sigplan.org/"><span class="ascii">International Conference on Functional Programming</span></a>ï¼ˆ<span class="ascii">ICFP</span>ï¼‰ã«åˆã‚ã›ã¦é–‹å‚¬ã•ã‚Œã‚‹<span class="ascii">Haskell</span>ã«é–¢ã™ã‚‹å›½éš›ä¼šè­°ã§ã™ã€‚<span class="ascii">Haskell</span>ã«é–¢ã™ã‚‹ç ”ç©¶ã‚’ç™ºè¡¨ã—ãŸã‚Šã€å®Ÿè·µçš„ãªçµŒé¨“ã‚„å°†æ¥ã®è¨€èªã®é–‹ç™ºã«ã¤ã„ã¦è­°è«–ã—ãŸã‚Šã€ãã®ä»–ã®å®£è¨€çš„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’ä¿ƒé€²ã—ãŸã‚Šã—ã¾ã™ã€‚</p>
<h1 id="bidirectional-type-class-instances"><span class="link-to-here-outer"><a href="#bidirectional-type-class-instances" title="bidirectional-type-class-instances"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Bidirectional Type Class Instances</span></h1>
<ul>
<li>è‘—è€…ï¼š<span class="ascii">Koen Pauwels (KU Leuven), Georgios Karachalias (KU Leuven), Michiel Derhaeg (Guardsquare), Tom Schrijvers (KU Leuven)</span></li>
<li>æ¦‚è¦ï¼š<a href="https://icfp19.sigplan.org/details/haskellsymp-2019-papers/8/Bidirectional-Type-Class-Instances" class="uri"><span class="ascii">https://icfp19.sigplan.org/details/haskellsymp-2019-papers/8/Bidirectional-Type-Class-Instances</span></a></li>
<li>è«–æ–‡ï¼š<a href="https://arxiv.org/abs/1906.12242" class="uri"><span class="ascii">https://arxiv.org/abs/1906.12242</span></a></li>
</ul>
<p><span class="ascii">GADT</span>ã¨å‹ã‚¯ãƒ©ã‚¹ã¯ãã‚Œãã‚Œä¾¿åˆ©ã ãŒæ··ãœã‚‹ã¨å•é¡ŒãŒèµ·ãã‚‹å ´åˆãŒã‚ã‚‹ã€‚</p>
<p>æ¬¡ã®ã‚ˆã†ãª<code>Term</code>ãŒã‚ã‚‹ã¨ãã€ãã®<code>Show</code>ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’è€ƒãˆã‚‹ã€‚</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">data</span> <span class="dt">Term</span><span class="ot"> ::</span> <span class="dt">Type</span> <span class="ot">-&gt;</span> <span class="dt">Type</span> <span class="kw">where</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="dt">Con</span><span class="ot"> ::</span> a <span class="ot">-&gt;</span> <span class="dt">Term</span> a</a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="dt">Tup</span><span class="ot"> ::</span> <span class="dt">Term</span> b <span class="ot">-&gt;</span> <span class="dt">Term</span> c <span class="ot">-&gt;</span> <span class="dt">Term</span> (b, c)</a></code></pre></div>
<p>æ¬¡ã®ã‚ˆã†ã«<code>Show</code>ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å®šç¾©ã™ã‚‹ã¨å‹ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã€‚</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">instance</span> <span class="dt">Show</span> a <span class="ot">=&gt;</span> <span class="dt">Show</span> (<span class="dt">Term</span> a) <span class="kw">where</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="fu">show</span> (<span class="dt">Con</span> a) <span class="ot">=</span> <span class="fu">show</span> a</a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="fu">show</span> (<span class="dt">Tup</span> x y) <span class="ot">=</span> <span class="fu">unwords</span> [<span class="st">&quot;(&quot;</span>, <span class="fu">show</span> x, <span class="st">&quot;,&quot;</span>, <span class="fu">show</span> y, <span class="st">&quot;)&quot;</span>]</a></code></pre></div>
<pre><code>Could not deduce (Show b) arising from a use of `show&#39;
from the context (Show a) or from (a ~ (b, c))</code></pre>
<p>ã“ã‚Œã¯<code>Show (b, c)</code>ãªã‚‰ã°<code>Show b</code>ã¨ã„ã†é–¢ä¿‚ãŒãªã„ãŸã‚ã«èµ·ã“ã‚‹ã€‚</p>
<p>ä¸€æ–¹ã‚¿ãƒ—ãƒ«ã«ã¤ã„ã¦ã®<code>Show</code>ã¯ã€<code>Show a</code>ã‹ã¤<code>Show b</code>ãªã‚‰ã°<code>Show (a, b)</code>ã¨ã„ã†é–¢ä¿‚ã§ã‚ã‚‹ã€‚</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">instance</span> (<span class="dt">Show</span> a, <span class="dt">Show</span> b) <span class="ot">=&gt;</span> <span class="dt">Show</span> (a, b) <span class="kw">where</span></a>
<a class="sourceLine" id="cb4-2" title="2">  â€¦</a></code></pre></div>
<p>ã“ã®ã€Œãªã‚‰ã°ã€ã‚’ä¸¡æ–¹å‘ã«ã™ã‚Œã°å•é¡Œã¯è§£æ±ºã§ãã‚‹ã®ã§ã¯ãªã„ã‹ã¨ã„ã†ã®ãŒã€ã“ã®è«–æ–‡ã®ä¸»å¼µã§ã‚ã‚‹ã€‚</p>
<h1 id="generic-and-flexible-defaults-for-verified-law-abiding-type-class-instances"><span class="link-to-here-outer"><a href="#generic-and-flexible-defaults-for-verified-law-abiding-type-class-instances" title="generic-and-flexible-defaults-for-verified-law-abiding-type-class-instances"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Generic and Flexible Defaults for Verified, Law-Abiding Type-Class Instances</span></h1>
<ul>
<li>è‘—è€…ï¼š<span class="ascii">Ryan Scott (Indiana University), Ryan R. Newton (Indiana University)</span></li>
<li>æ¦‚è¦ï¼š<a href="https://icfp19.sigplan.org/details/haskellsymp-2019-papers/3/Generic-and-Flexible-Defaults-for-Verified-Law-Abiding-Type-Class-Instances" class="uri"><span class="ascii">https://icfp19.sigplan.org/details/haskellsymp-2019-papers/3/Generic-and-Flexible-Defaults-for-Verified-Law-Abiding-Type-Class-Instances</span></a></li>
<li>è«–æ–‡ï¼š<a href="https://ryanglscott.github.io/papers/verified-classes.pdf" class="uri"><span class="ascii">https://ryanglscott.github.io/papers/verified-classes.pdf</span></a></li>
</ul>
<p>å‹ã‚¯ãƒ©ã‚¹ã®æ³•å‰‡ã¯ä¾å­˜å‹ã‚’ä½¿ãˆã°è¨¼æ˜ã§ãã‚‹ãŒã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã”ã¨ã«æ›¸ãã®ã¯ã‚ã‚“ã©ã†ãªã®ã§<code>Generics</code>ã§å‡ºæ¥ã‚‹ã‚ˆã†ã«ã—ã‚ˆã†ã¨ã„ã†è©±ã§ã‚ã‚‹ã€‚</p>
<h1 id="modular-effects-in-haskell-through-effect-polymorphism-and-explicit-dictionary-applications---a-new-approach-and-the-Î¼verifast-verifier-as-a-case-study"><span class="link-to-here-outer"><a href="#modular-effects-in-haskell-through-effect-polymorphism-and-explicit-dictionary-applications---a-new-approach-and-the-Î¼verifast-verifier-as-a-case-study" title="modular-effects-in-haskell-through-effect-polymorphism-and-explicit-dictionary-applications---a-new-approach-and-the-Î¼verifast-verifier-as-a-case-study"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Modular effects in Haskell through effect polymorphism and explicit dictionary applications - A new approach and the</span> Î¼<span class="ascii">VeriFast verifier as a case study</span></h1>
<ul>
<li>è‘—è€…ï¼š<span class="ascii">Dominique Devriese (Vrije Universiteit Brussel)</span></li>
<li>æ¦‚è¦ãƒ»è«–æ–‡ï¼š<a href="https://icfp19.sigplan.org/details/haskellsymp-2019-papers/1/Modular-effects-in-Haskell-through-effect-polymorphism-and-explicit-dictionary-applic" class="uri"><span class="ascii">https://icfp19.sigplan.org/details/haskellsymp-2019-papers/1/Modular-effects-in-Haskell-through-effect-polymorphism-and-explicit-dictionary-applic</span></a></li>
</ul>
<p>æ§˜ã€…ãªç¨®é¡ã®åŠ¹æœãŒè¤‡é›‘ã«çµ¡ã¿åˆã†ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ•´ç†ã™ã‚‹ãŸã‚ã«ã€ã€ŒåŠ¹æœã‚’ä¼´ã†å‡¦ç†ã‚’æŒã£ãŸè¾æ›¸ã€ã‚’æ˜ç¤ºçš„ã«æ¸¡ã™æ–¹å¼ã®ææ¡ˆã§ã‚ã‚‹ã€‚</p>
<p>ææ¡ˆã—ãŸæ–¹å¼ã«ã‚ˆã£ã¦<span class="ascii">VeriFast</span>ã‚’å†å®Ÿè£…ã—ã¦ã¿ã‚‹ã“ã¨ã§ã€å®Ÿéš›ã«ç™ºç”Ÿã—ãŸå•é¡Œã¨è§£æ±ºæ–¹æ³•ã‚’è§£èª¬ã—ã¦ã„ã‚‹ã€‚</p>
<h1 id="verifying-effectful-haskell-programs-in-coq"><span class="link-to-here-outer"><a href="#verifying-effectful-haskell-programs-in-coq" title="verifying-effectful-haskell-programs-in-coq"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Verifying Effectful Haskell Programs in Coq</span></h1>
<ul>
<li>è‘—è€…ï¼š<span class="ascii">Jan Christiansen (Flensburg University of Applied Sciences), Sandra Dylus (University of Kiel), Niels Bunkenburg (University of Kiel)</span></li>
<li>æ¦‚è¦ï¼š<a href="https://icfp19.sigplan.org/details/haskellsymp-2019-papers/4/Verifying-Effectful-Haskell-Programs-in-Coq" class="uri"><span class="ascii">https://icfp19.sigplan.org/details/haskellsymp-2019-papers/4/Verifying-Effectful-Haskell-Programs-in-Coq</span></a></li>
<li>è«–æ–‡ï¼š<a href="https://dl.acm.org/citation.cfm?id=3342592" class="uri"><span class="ascii">https://dl.acm.org/citation.cfm?id=3342592</span></a></li>
</ul>
<p><span class="ascii">Coq</span>ã«ã‚ˆã‚‹ã€åŠ¹æœã‚’ä¼´ã†ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®è¨¼æ˜ã«é–¢ã™ã‚‹è©±ã€‚</p>
<p>åŠ¹æœã«ã¤ã„ã¦ç›´æ¥è¨¼æ˜ã™ã‚‹ã“ã¨ã¯ã›ãšã€<span class="ascii">Free</span>ãƒ¢ãƒŠãƒ‰ã‚’ç”¨ã„ã¦ã®è¨¼æ˜ã‚’è©¦ã¿ã¦ã‚‚ã€ãã®ã¾ã¾<span class="ascii">Coq</span>ã«ç¿»è¨³ã™ã‚‹ã¨åœæ­¢æ€§ãƒã‚§ãƒƒã‚¯ã«ã‚ˆã£ã¦ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã†ã€‚</p>
<p>ãã®ãŸã‚ã«è¡Œã£ãŸå·¥å¤«ã«åŠ ãˆã€å…·ä½“ä¾‹ã¨ã—ã¦ã€<code>trace</code>ã‚„ï¼ˆéƒ¨åˆ†é–¢æ•°ã«ã‚ˆã‚‹ï¼‰ã‚¨ãƒ©ãƒ¼ãªã©ã€<span class="ascii">Haskell</span>ã«ãŠã„ã¦æš—é»™ã«ç™ºç”Ÿã™ã‚‹åŠ¹æœã‚’è€ƒæ…®ã—ãŸãƒ¢ãƒ‡ãƒ«åŒ–ã«ã¤ã„ã¦æ¤œè¨ã—ãŸã€‚</p>
<h1 id="solving-haskell-equality-constraints-using-coq"><span class="link-to-here-outer"><a href="#solving-haskell-equality-constraints-using-coq" title="solving-haskell-equality-constraints-using-coq"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Solving Haskell equality constraints using Coq</span></h1>
<ul>
<li>è‘—è€…ï¼š<span class="ascii">Zubin Duggal</span></li>
<li>æ¦‚è¦ãƒ»è«–æ–‡ï¼š<a href="https://icfp19.sigplan.org/details/haskellsymp-2019-papers/15/Solving-Haskell-equality-constraints-using-Coq" class="uri"><span class="ascii">https://icfp19.sigplan.org/details/haskellsymp-2019-papers/15/Solving-Haskell-equality-constraints-using-Coq</span></a></li>
</ul>
<p><span class="ascii">data kinds</span>ã‚„<span class="ascii">type families</span>ã¨ã„ã£ãŸ<span class="ascii">GHC</span>æ‹¡å¼µã«ã‚ˆã£ã¦å³æ ¼ãªãƒ‡ãƒ¼ã‚¿å‹ã‚’å®šç¾©ã§ãã‚‹ãŒã€ãã‚Œã«å¯¾ã™ã‚‹æ“ä½œã‚’å®šç¾©ã™ã‚‹ã¨<span class="ascii">GHC</span>ã«ã¯è§£ã‘ãªã„å‹ãƒ¬ãƒ™ãƒ«ã®ç­‰å¼ãŒç”Ÿæˆã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚</p>
<p>åˆ¶ç´„ã‚«ã‚¤ãƒ³ãƒ‰ã®å‹ã«å¯¾ã™ã‚‹å‹ã‚¯ãƒ©ã‚¹ã¨ã—ã¦<code>Proven</code>ã‚’æä¾›ã—ã€ã“ã®åˆ¶ç´„ãŒã‚ã‚‹ç®‡æ‰€ã‚’<span class="ascii">GHC</span>å‹æ¤œæŸ»ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæ¤œå‡ºã—ã¦å¯¾å¿œã™ã‚‹<span class="ascii">Coq</span>ã‚³ãƒ¼ãƒ‰ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã€‚</p>
<p>ãã®<span class="ascii">Coq</span>ã‚³ãƒ¼ãƒ‰ã«è¨¼æ˜ãŒãªã‘ã‚Œã°è­¦å‘Šã‚’è¡¨ç¤ºã™ã‚‹ã€‚</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">type</span> <span class="dt">ProofName</span> <span class="ot">=</span> <span class="dt">Symbol</span></a>
<a class="sourceLine" id="cb5-2" title="2"></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="kw">class</span> c <span class="ot">=&gt;</span> <span class="dt">Proven</span> (<span class="ot">prf ::</span> <span class="dt">ProofName</span>) (<span class="ot">c ::</span> <span class="dt">Constraint</span>)</a>
<a class="sourceLine" id="cb5-4" title="4">  <span class="kw">where</span> {}</a>
<a class="sourceLine" id="cb5-5" title="5"></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="ot">applyProof ::</span> <span class="kw">forall</span> prf c a<span class="op">.</span> <span class="dt">Proven</span> prf c <span class="ot">=&gt;</span> (c <span class="ot">=&gt;</span> a) <span class="ot">-&gt;</span> a</a>
<a class="sourceLine" id="cb5-7" title="7">applyProof x <span class="ot">=</span> x</a>
<a class="sourceLine" id="cb5-8" title="8"></a>
<a class="sourceLine" id="cb5-9" title="9">lemma3 <span class="ot">=</span> applyProof <span class="op">@</span><span class="st">&quot;nonzero_pop&quot;</span> <span class="op">@</span>(<span class="dt">NNonZero</span> (<span class="dt">Popcount</span> b) <span class="op">~</span> <span class="dt">True</span>) <span class="dt">Refl</span></a></code></pre></div>
<p>ã„ãã¤ã‹åˆ¶ç´„ãŒã‚ã‚‹ãŒ<span class="ascii">Haskell</span>ã®å‹ã‚’<span class="ascii">Coq</span>ã«è‡ªå‹•çš„ã«å¤‰æ›ã—ã¦ã„ã‚‹ã€‚</p>
<h1 id="formal-verification-of-spacecraft-control-programs-an-experience-report"><span class="link-to-here-outer"><a href="#formal-verification-of-spacecraft-control-programs-an-experience-report" title="formal-verification-of-spacecraft-control-programs-an-experience-report"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Formal Verification of Spacecraft Control Programs: An Experience Report</span></h1>
<ul>
<li>è‘—è€…ï¼š<span class="ascii">Andrey Mokhov (Newcastle University), Georgy Lukyanov (Newcastle University), Jakob Lechner (RUAG Space Austria GmbH)</span></li>
<li>æ¦‚è¦ï¼š<a href="https://icfp19.sigplan.org/details/haskellsymp-2019-papers/5/Formal-Verification-of-Spacecraft-Control-Programs-An-Experience-Report" class="uri"><span class="ascii">https://icfp19.sigplan.org/details/haskellsymp-2019-papers/5/Formal-Verification-of-Spacecraft-Control-Programs-An-Experience-Report</span></a></li>
<li>è«–æ–‡ï¼š<a href="https://dl.acm.org/citation.cfm?id=3342593" class="uri"><span class="ascii">https://dl.acm.org/citation.cfm?id=3342593</span></a></li>
</ul>
<p><span class="ascii">REDFIN</span>ã¨ã„ã†å›ºå®šå°æ•°æ¼”ç®—ã¨æ•´æ•°æ¼”ç®—ã®ãŸã‚ã®å‡¦ç†ç³»ãŒã‚ã‚‹ã®ã ãŒã€ãã®ã‚¢ã‚»ãƒ³ãƒ–ãƒªãƒ¼ã‚³ãƒ¼ãƒ‰ã«å¯¾ã—ã¦å½¢å¼æ¤œè¨¼ã‚’ã—ãŸã¨ã„ã†å ±å‘Šã§ã‚ã‚‹ã€‚</p>
<h1 id="g2q-haskell-constraint-solving"><span class="link-to-here-outer"><a href="#g2q-haskell-constraint-solving" title="g2q-haskell-constraint-solving"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">G2Q: Haskell Constraint Solving</span></h1>
<ul>
<li>è‘—è€…ï¼š<span class="ascii">William T. Hallahan (Yale University), Anton Xue (Yale University), Ruzica Piskac (Yale University)</span></li>
<li>æ¦‚è¦ï¼š<a href="https://icfp19.sigplan.org/details/haskellsymp-2019-papers/2/G2Q-Haskell-Constraint-Solving" class="uri"><span class="ascii">https://icfp19.sigplan.org/details/haskellsymp-2019-papers/2/G2Q-Haskell-Constraint-Solving</span></a></li>
<li>è«–æ–‡ï¼š<a href="https://dl.acm.org/citation.cfm?id=3342590" class="uri"><span class="ascii">https://dl.acm.org/citation.cfm?id=3342590</span></a></li>
</ul>
<p><span class="ascii">G2Q</span>ã¯<span class="ascii">Haskell</span>ã®ã‚½ãƒ¼ã‚¹ã«<span class="ascii">quasi quote</span>ã§åŸ‹ã‚è¾¼ã‚€<span class="ascii">DSL</span>ã§ã‚ã‚‹ã€‚</p>
<p><span class="ascii">Haskell</span>ã§æ›¸ã„ãŸæ¡ä»¶å¼ã‚’<span class="ascii">symbolic execution</span>ã—ã¦ã€<span class="ascii">SMT solver</span>ã«æ¸¡ã™å¼ã«å¤‰æ›ã—ã¦ã€<span class="ascii">SMT solver</span>ã«æ¡ä»¶ã‚’æº€ãŸã™é–¢æ•°ã‚’å°å‡ºã•ã›ã‚‹ã€‚</p>
<h1 id="making-a-faster-curry-with-extensional-types"><span class="link-to-here-outer"><a href="#making-a-faster-curry-with-extensional-types" title="making-a-faster-curry-with-extensional-types"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Making a Faster Curry with Extensional Types</span></h1>
<ul>
<li>è‘—è€…ï¼š<span class="ascii">Paul Downen (University of Oregon), Zachary Sullivan, Zena M. Ariola (University of Oregon), Simon Peyton Jones (Microsoft)</span></li>
<li>æ¦‚è¦ï¼š<a href="https://icfp19.sigplan.org/details/haskellsymp-2019-papers/6/Making-a-Faster-Curry-with-Extensional-Types" class="uri"><span class="ascii">https://icfp19.sigplan.org/details/haskellsymp-2019-papers/6/Making-a-Faster-Curry-with-Extensional-Types</span></a></li>
<li>è«–æ–‡ï¼š<a href="https://ix.cs.uoregon.edu/~pdownen/publications/eta.pdf" class="uri"><span class="ascii">https://ix.cs.uoregon.edu/~pdownen/publications/eta.pdf</span></a></li>
</ul>
<p>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ãŸã‚ã«Î·å¤‰æ›ã—ã¦ã»ã—ã„ã¨ã“ã‚ã‚’æ˜ç¤ºã—ãŸã„ã“ã¨ãŒã‚ã‚‹ã€‚</p>
<p>ä¾‹ãˆã°ã€æ¬¡ã®ã‚ˆã†ãªæ„å‘³è«–ä¸Šã¯ç­‰ä¾¡ãªé–¢æ•°<code>f1</code>ã¨<code>f2</code>ãŒã‚ã‚‹ã¨ã™ã‚‹ã€‚</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb6-1" title="1">f1 <span class="ot">=</span> \x <span class="ot">-&gt;</span> <span class="kw">let</span> z <span class="ot">=</span> h x x <span class="kw">in</span> \y <span class="ot">-&gt;</span> e y z</a>
<a class="sourceLine" id="cb6-2" title="2">f2 <span class="ot">=</span> \x <span class="ot">-&gt;</span> \y <span class="ot">-&gt;</span> <span class="kw">let</span> z <span class="ot">=</span> h x x <span class="kw">in</span> e y z</a></code></pre></div>
<p>å®Ÿéš›ã¯<code>f1</code>ã¯å¼•æ•°<code>x</code>ã‚’å–ã£ãŸå¾Œã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ãƒ¼ç”Ÿæˆã®ãŸã‚ã«ãƒ’ãƒ¼ãƒ—ç¢ºä¿ã™ã‚‹ã®ã«å¯¾ã—ã¦ã€<code>f2</code>ã¯ã‚¢ãƒªãƒ†ã‚£ãŒ<span class="ascii">2</span>ã®é–¢æ•°ã¨è§£é‡ˆã•ã‚Œã¦ä¸­é–“ã®ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ãƒ¼ãŒå¿…è¦ãªããªã‚‹ã€‚</p>
<p><code>~&gt;</code>ã¨ã„ã†ã‚¢ãƒªãƒ†ã‚£ã®æƒ…å ±ã‚’æŒã£ãŸé–¢æ•°å‹ã‚’æ–°ãŸã«å°å…¥ã—ã¦<code>-&gt;</code>ã®ä»£ã‚ã‚Šã«ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚</p>
<p><code>TYPE (a :: RuntimeRep (FunRep 2))</code>ã¨ã„ã†ã‚ˆã†ãªæ–°ãŸãªãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ ã‚’å°å…¥ã™ã‚‹ã€‚ã“ã“ã§ã®<code>2</code>ãŒã‚¢ãƒªãƒ†ã‚£ã€‚</p>
<p><code>Int</code>ã«å¯¾ã—ã¦<code>Int#</code>ãŒã‚ã‚‹ã‚ˆã†ã«åŸºæœ¬çš„ã«ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¼ãªã©å†…éƒ¨çš„ã«ä½¿ç”¨ã™ã‚‹æƒ³å®šã€‚</p>
<h1 id="multi-stage-programs-in-context"><span class="link-to-here-outer"><a href="#multi-stage-programs-in-context" title="multi-stage-programs-in-context"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Multi-Stage Programs in Context</span></h1>
<ul>
<li>è‘—è€…ï¼š<span class="ascii">Matthew Pickering (University of Bristol), Nicolas Wu (Imperial College London), Csongor Kiss (Imperial College London)</span></li>
<li>æ¦‚è¦ï¼š<a href="https://icfp19.sigplan.org/details/haskellsymp-2019-papers/9/Multi-Stage-Programs-in-Context" class="uri"><span class="ascii">https://icfp19.sigplan.org/details/haskellsymp-2019-papers/9/Multi-Stage-Programs-in-Context</span></a></li>
<li>è«–æ–‡ï¼š<a href="https://dl.acm.org/citation.cfm?id=3342597" class="uri"><span class="ascii">https://dl.acm.org/citation.cfm?id=3342597</span></a></li>
</ul>
<p>æ¬¡ã®ã‚ˆã†ãªæº–å¼•ç”¨ãŒã‚ã£ãŸã¨ãã«ã€çµ„ã¿åˆã‚ã›ã‚‹ã¨å…ƒã€…ã‚ã£ãŸã¯ãšã®æƒ…å ±ãŒæ¬ è½ã™ã‚‹å ´åˆãŒã‚ã‚‹ã€‚</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb7-1" title="1"><span class="ot">qshow ::</span> <span class="dt">Code</span> (<span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">String</span>)</a>
<a class="sourceLine" id="cb7-2" title="2">qshow <span class="ot">=</span> [q| show |]</a>
<a class="sourceLine" id="cb7-3" title="3"></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="ot">qread ::</span> <span class="dt">Code</span> (<span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">Int</span>)</a>
<a class="sourceLine" id="cb7-5" title="5">qread <span class="ot">=</span> [q| read |]</a>
<a class="sourceLine" id="cb7-6" title="6"></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="ot">trim ::</span> <span class="dt">Code</span> (<span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">String</span>)</a>
<a class="sourceLine" id="cb7-8" title="8">trim <span class="ot">=</span> [q| $(qshow) . $(qread) |]</a></code></pre></div>
<p><code>qshow</code>ã¨<code>qread</code>ã«ã‚ã£ãŸ<code>Int</code>ã¨ã„ã†æƒ…å ±ãŒã€çµ„ã¿åˆã‚ã›ã¦<code>trim</code>ã¨ã™ã‚‹ã¨æ¬ è½ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã†ã€‚</p>
<p><span class="ascii">splice</span>ã™ã‚‹ã¨ãã«<span class="ascii">Haskell</span>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®æ§‹æ–‡æœ¨ã§ã¯ãªã<span class="ascii">Core</span>ã«å¯¾ã™ã‚‹ã‚‚ã®ã‚’å‡ºåŠ›ã™ã‚Œã°ãã‚Œã¯å‹ãŒæ˜ç¤ºã•ã‚Œã¦ã„ã‚‹ã—å•é¡ŒãŒãªã„ã€‚</p>
<p>ã—ã‹ã‚‚ã€<span class="ascii">splice</span>å¾Œã®å‹æ¤œæŸ»ã‚’çœç•¥ã§ãã‚‹ã®ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã®é«˜é€ŸåŒ–ã«ã‚‚å¯„ä¸ã™ã‚‹ã€‚</p>
<h1 id="working-with-source-plugins"><span class="link-to-here-outer"><a href="#working-with-source-plugins" title="working-with-source-plugins"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Working with Source Plugins</span></h1>
<ul>
<li>è‘—è€…ï¼š<span class="ascii">Matthew Pickering (University of Bristol), Nicolas Wu (Imperial College London), BoldizsÃ¡r NÃ©meth (EÃ¶tvÃ¶s LorÃ¡nd University)</span></li>
<li>æ¦‚è¦ï¼š<a href="https://icfp19.sigplan.org/details/haskellsymp-2019-papers/11/Working-with-Source-Plugins" class="uri"><span class="ascii">https://icfp19.sigplan.org/details/haskellsymp-2019-papers/11/Working-with-Source-Plugins</span></a></li>
<li>è«–æ–‡ï¼š<a href="https://dl.acm.org/citation.cfm?id=3342599" class="uri"><span class="ascii">https://dl.acm.org/citation.cfm?id=3342599</span></a></li>
</ul>
<p><span class="ascii">souce plugins</span>ã®ã—ãã¿ã‚„ã€æ›¸ãæ–¹ã€å®Ÿè£…æ™‚ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã®ç´¹ä»‹ã§ã‚ã‚‹ã€‚</p>
<h1 id="stclang-state-thread-composition-as-a-foundation-for-monadic-dataflow-parallelism"><span class="link-to-here-outer"><a href="#stclang-state-thread-composition-as-a-foundation-for-monadic-dataflow-parallelism" title="stclang-state-thread-composition-as-a-foundation-for-monadic-dataflow-parallelism"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">STCLang: State Thread Composition as a Foundation for Monadic Dataflow Parallelism</span></h1>
<ul>
<li>è‘—è€…ï¼š<span class="ascii">Sebastian Ertel, Justus Adam (Technische UniversitÃ¤t Dresden), Norman A. Rink (TU Dresden), AndrÃ©s Goens, Jeronimo Castrillon (TU Dresden)</span></li>
<li>æ¦‚è¦ï¼š<a href="https://icfp19.sigplan.org/details/haskellsymp-2019-papers/12/STCLang-State-Thread-Composition-as-a-Foundation-for-Monadic-Dataflow-Parallelism" class="uri"><span class="ascii">https://icfp19.sigplan.org/details/haskellsymp-2019-papers/12/STCLang-State-Thread-Composition-as-a-Foundation-for-Monadic-Dataflow-Parallelism</span></a></li>
<li>è«–æ–‡ï¼š<a href="https://dl.acm.org/citation.cfm?id=3342600" class="uri"><span class="ascii">https://dl.acm.org/citation.cfm?id=3342600</span></a></li>
</ul>
<p>åŒã˜æ™‚åˆ»ã®<span class="ascii">HIW</span>ã®ç™ºè¡¨ã‚’è´è¬›ã—ã¦ã„ãŸãŸã‚ã“ã¡ã‚‰ã¯è´è¬›ã—ã¦ã„ã¾ã›ã‚“ã€‚</p>
<h1 id="synthesizing-functional-reactive-programs"><span class="link-to-here-outer"><a href="#synthesizing-functional-reactive-programs" title="synthesizing-functional-reactive-programs"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Synthesizing Functional Reactive Programs</span></h1>
<ul>
<li>è‘—è€…ï¼š<span class="ascii">Bernd Finkbeiner, Felix Klein (Saarland University), Ruzica Piskac (Yale University, Mark Santolucito (Yale University)</span></li>
<li>æ¦‚è¦ï¼š<a href="https://icfp19.sigplan.org/details/haskellsymp-2019-papers/13/Synthesizing-Functional-Reactive-Programs" class="uri"><span class="ascii">https://icfp19.sigplan.org/details/haskellsymp-2019-papers/13/Synthesizing-Functional-Reactive-Programs</span></a></li>
<li>è«–æ–‡ï¼š<a href="https://dl.acm.org/citation.cfm?id=3342601" class="uri"><span class="ascii">https://dl.acm.org/citation.cfm?id=3342601</span></a></li>
</ul>
<p>åŒã˜æ™‚åˆ»ã®<span class="ascii">HIW</span>ã®ç™ºè¡¨ã‚’è´è¬›ã—ã¦ã„ãŸãŸã‚ã“ã¡ã‚‰ã¯è´è¬›ã—ã¦ã„ã¾ã›ã‚“ã€‚</p>
<h1 id="the-essence-of-live-coding-change-the-program-keep-the-state"><span class="link-to-here-outer"><a href="#the-essence-of-live-coding-change-the-program-keep-the-state" title="the-essence-of-live-coding-change-the-program-keep-the-state"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">The essence of live coding: Change the program, keep the state!</span></h1>
<ul>
<li>è‘—è€…ï¼š<span class="ascii">Manuel BÃ¤renz (sonnen eServices GmbH)</span></li>
<li>æ¦‚è¦ãƒ»è«–æ–‡ï¼š<a href="https://icfp19.sigplan.org/details/haskellsymp-2019-papers/14/The-essence-of-live-coding-Change-the-program-keep-the-state-" class="uri"><span class="ascii">https://icfp19.sigplan.org/details/haskellsymp-2019-papers/14/The-essence-of-live-coding-Change-the-program-keep-the-state-</span></a></li>
</ul>
<p>åŒã˜æ™‚åˆ»ã®<span class="ascii">HIW</span>ã®ç™ºè¡¨ã‚’è´è¬›ã—ã¦ã„ãŸãŸã‚ã“ã¡ã‚‰ã¯è´è¬›ã—ã¦ã„ã¾ã›ã‚“ã€‚</p>
<h1 id="monad-transformers-and-modular-algebraic-effects-what-binds-them-together"><span class="link-to-here-outer"><a href="#monad-transformers-and-modular-algebraic-effects-what-binds-them-together" title="monad-transformers-and-modular-algebraic-effects-what-binds-them-together"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Monad Transformers and Modular Algebraic Effects: What Binds Them Together</span></h1>
<ul>
<li>è‘—è€…ï¼š<span class="ascii">Tom Schrijvers (KU Leuven), Maciej PirÃ³g (University of Wroc</span>Å‚<span class="ascii">aw), Nicolas Wu (Imperial College London), Mauro Jaskelioff (CONICET)</span></li>
<li>æ¦‚è¦ï¼š<a href="https://icfp19.sigplan.org/details/haskellsymp-2019-papers/7/Monad-Transformers-and-Modular-Algebraic-Effects-What-Binds-Them-Together" class="uri"><span class="ascii">https://icfp19.sigplan.org/details/haskellsymp-2019-papers/7/Monad-Transformers-and-Modular-Algebraic-Effects-What-Binds-Them-Together</span></a></li>
<li>è«–æ–‡ï¼š<a href="https://dl.acm.org/citation.cfm?id=3342595" class="uri"><span class="ascii">https://dl.acm.org/citation.cfm?id=3342595</span></a></li>
</ul>
<p>ãƒ¢ãƒŠãƒ‰ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒãƒ¼ã¨ä»£æ•°çš„åŠ¹æœã¨ã®å¯¾æ¯”ã§ã‚ã‚‹ã€‚</p>
<p>ãƒ¢ãƒŠãƒ‰ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒãƒ¼ã‹ã‚‰ä»£æ•°çš„åŠ¹æœã¸ã®å¤‰æ›ã¾ãŸãã®é€†ã®ã¨ãã«ã©ã†ã„ã†æ‰‹æ³•ãŒã‚ã£ã¦ã€ãã‚Œãã‚Œã‚’æ§‹æˆã™ã‚‹è¦ç´ ãŒã©ã†å¯¾å¿œã—ã¦ã„ã‚‹ã‹ã‚’èª¬æ˜ã—ã¦ã„ã‚‹ã€‚</p>
<p>ãƒ¢ãƒŠãƒ‰ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒãƒ¼ã¨ä»£æ•°çš„åŠ¹æœã ã¨ãƒ¢ãƒŠãƒ‰ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒãƒ¼ã®æ–¹ãŒè¡¨ç¾ã§ãã‚‹ã‚‚ã®ãŒå¤§ãã„ã®ã§ãƒ¢ãƒŠãƒ‰ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒãƒ¼ã‹ã‚‰ä»£æ•°çš„åŠ¹æœã¸ã¯ã©ã‚“ãªã‚‚ã®ã§ã‚‚å¤‰æ›ã§ãã‚‹ã‚ã‘ã§ã¯ãªã„ã€‚</p>
<p>ä¾‹ãˆã°<code>catch</code>ã‚„<code>local</code>ã¯ä»£æ•°çš„åŠ¹æœã«ã§ããªã„ã€‚</p>
<h1 id="scoping-monadic-relational-database-queries"><span class="link-to-here-outer"><a href="#scoping-monadic-relational-database-queries" title="scoping-monadic-relational-database-queries"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Scoping Monadic Relational Database Queries</span></h1>
<ul>
<li>è‘—è€…ï¼š<span class="ascii">Anton Ekblad (Chalmers University of Technology)</span></li>
<li>æ¦‚è¦ï¼š<a href="https://icfp19.sigplan.org/details/haskellsymp-2019-papers/10/Scoping-Monadic-Relational-Database-Queries" class="uri"><span class="ascii">https://icfp19.sigplan.org/details/haskellsymp-2019-papers/10/Scoping-Monadic-Relational-Database-Queries</span></a></li>
<li>è«–æ–‡ï¼š<a href="https://dl.acm.org/citation.cfm?id=3342598" class="uri"><span class="ascii">https://dl.acm.org/citation.cfm?id=3342598</span></a></li>
</ul>
<p>ãƒ¢ãƒŠãƒ‰ã¯<span class="ascii">Haskell</span>ç•Œéšˆã§éå¸¸ã«æ™®åŠã—ã¦ã„ã‚‹ã®ã§<span class="ascii">SQL</span>ã«å¯¾ã™ã‚‹<span class="ascii">EDSL</span>ã¨ã—ã¦ãƒ¢ãƒŠãƒ‰ã®æ§‹é€ ã‚’æ¡ç”¨ã—ãŸã„ã€‚</p>
<p>ã“ã®ã¨ã<span class="ascii">SQL</span>ã®çµåˆã‚’è¡¨ç¾ã™ã‚‹ã¨ã€<span class="ascii">SQL</span>ã¨ã—ã¦ã¯ã‚¹ã‚³ãƒ¼ãƒ—å¤–ã«ã‚‚ã‹ã‹ã‚ã‚‰ãš<span class="ascii">EDSL</span>ã¨ã—ã¦ã¯ã‚¹ã‚³ãƒ¼ãƒ—å†…ã¨ãªã£ã¦ä½¿ãˆã‚‹å¤‰æ•°ãŒã§ãã¦ã—ã¾ã†ã€‚</p>
<p>ã“ã‚Œã‚’<span class="ascii">EDSL</span>ã¨ã—ã¦ã‚‚ã‚¨ãƒ©ãƒ¼ã¨ã—ãŸã„ã€‚</p>
<p>ä¾‹ãˆã°ã€æ¬¡ã®ã‚ˆã†ãªä¾‹ã§å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã¨ãªã£ã¦ã—ã¾ã†ã€‚ã“ã“ã§<code>a0</code>ã¯<code>tableA</code>ã®åˆ—ã¨ã™ã‚‹ã€‚</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">SELECT</span> a0, b0</a>
<a class="sourceLine" id="cb8-2" title="2"><span class="kw">FROM</span></a>
<a class="sourceLine" id="cb8-3" title="3">  tableA</a>
<a class="sourceLine" id="cb8-4" title="4">    <span class="kw">LEFT</span> <span class="kw">JOIN</span></a>
<a class="sourceLine" id="cb8-5" title="5">      (<span class="kw">SELECT</span> b0 <span class="kw">FROM</span> tableB <span class="kw">WHERE</span> a0 <span class="op">==</span> b1)</a>
<a class="sourceLine" id="cb8-6" title="6">  <span class="kw">ON</span> tableA.a2 <span class="op">==</span> tableb.b2</a></code></pre></div>
<p><code>SELECT b0 FROM tableB WHERE a0 == b1</code>ã®éƒ¨åˆ†ã§ã‚¹ã‚³ãƒ¼ãƒ—å¤–ã®<code>a0</code>ã‚’å‚ç…§ã—ã¦ã„ã‚‹ãŸã‚ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã€‚</p>
<p>å˜ç´”ãªãƒ¢ãƒŠãƒ‰<span class="ascii">EDSL</span>ã ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé€šã‚‹ã€‚</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">do</span></a>
<a class="sourceLine" id="cb9-2" title="2">  a0 <span class="op">:*:</span> a1 <span class="op">:*:</span> a2 <span class="ot">&lt;-</span> from table0</a>
<a class="sourceLine" id="cb9-3" title="3">  leftJoin <span class="op">$</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb9-4" title="4">    b0 <span class="op">:*:</span> b1 <span class="op">:*:</span> b2 <span class="ot">&lt;-</span> from table1</a>
<a class="sourceLine" id="cb9-5" title="5">    ristrict <span class="op">$</span> a0 <span class="op">.==</span> b1</a>
<a class="sourceLine" id="cb9-6" title="6">  on <span class="op">$</span> a2 <span class="op">.==</span> b2</a></code></pre></div>
<p><code>ristrict $ a0 .== b1</code>ã®éƒ¨åˆ†ã«ãŠã„ã¦<code>a0</code>ã¯<span class="ascii">Haskell</span>ã¨ã—ã¦ã¯ã‚¹ã‚³ãƒ¼ãƒ—å†…ã«ã‚ã‚‹ã€‚</p>
<p>ã“ã®å•é¡Œã‚’æ¬¡ã®ã‚ˆã†ãªå‹ãƒ¬ãƒ™ãƒ«é–¢æ•°ã‚’é§†ä½¿ã™ã‚‹ã“ã¨ã§<span class="ascii">EDSL</span>ã«ãŠã„ã¦ã‚‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã‚¨ãƒ©ãƒ¼ã¨ã™ã‚‹ã“ã¨ãŒã§ããŸã€‚</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">type</span> <span class="kw">family</span> <span class="dt">Cols</span> a</a>
<a class="sourceLine" id="cb10-2" title="2"><span class="kw">type</span> <span class="kw">family</span> <span class="dt">Outer</span> a</a>
<a class="sourceLine" id="cb10-3" title="3"><span class="kw">type</span> <span class="kw">family</span> <span class="dt">UnAggr</span> a</a>
<a class="sourceLine" id="cb10-4" title="4"><span class="kw">type</span> <span class="kw">family</span> <span class="dt">FromRow</span> a</a></code></pre></div>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
                <i class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="margin-right: 5px;"></i>
                <a href="/posts/2019/hiw-copilot.html" lang="ja">HIW 2019ã§ç™ºè¡¨ã•ã‚ŒãŸã€Copilotã¨ã„ã†å†…éƒ¨DSLã«ã¤ã„ã¦</a>
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/2019/hiw-gibbon.html" style="margin-left: auto;" lang="ja">HIW 2019ã§ç™ºè¡¨ã•ã‚ŒãŸã€Gibbonã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã«ã¤ã„ã¦</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>
<entry>
    <title>HIW 2019ã§ç™ºè¡¨ã•ã‚ŒãŸã€Gibbonã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã«ã¤ã„ã¦</title>
    <link href="https://haskell.jp/blog/posts/2019/hiw-gibbon.html" />
    <id>https://haskell.jp/blog/posts/2019/hiw-gibbon.html</id>
    <published>2019-09-28T00:00:00Z</published>
    <updated>2019-09-28T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <hr />
<p><a href="/posts/2019/hiw-ghc-future.html">å‰å›</a>ã‹ã‚‰å¼•ãç¶šãã€<a href="https://icfp19.sigplan.org/home/hiw-2019#About"><span class="ascii">Haskell Implementors</span>â€™ <span class="ascii">Workshop 2019</span></a>ã¸ã®å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã¨ã—ã¦ã€ç§ã®å°è±¡ã«æ®‹ã£ãŸç™ºè¡¨ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚<br />
ä»Šå›ã¯ã€<a href="http://iu-parfunc.github.io/gibbon/"><span class="ascii">Gibbon</span></a>ã¨ã„ã†ã€<span class="ascii">GHC</span>ä»¥å¤–ã®<span class="ascii">Haskell</span><small>ï¼ˆã®ã€ã‚µãƒ–ã‚»ãƒƒãƒˆï¼‰</small>ã®å‡¦ç†ç³»ã«ã¤ã„ã¦ã®ç™ºè¡¨ã§ã™ã€‚</p>
<div id="table-of-contents-outer">
<div id="table-of-contents">
<div class="table-of-contents-title">
Contents
</div>
<ul>
<li><a href="#the-gibbon-compiler-accelerating-a-small-subset-of-haskell" title="the-gibbon-compiler-accelerating-a-small-subset-of-haskell"><span class="ascii">The Gibbon Compiler: Accelerating a small subset of Haskell</span></a></li>
</ul>
</div>
</div>
<h1 id="the-gibbon-compiler-accelerating-a-small-subset-of-haskell"><span class="link-to-here-outer"><a href="#the-gibbon-compiler-accelerating-a-small-subset-of-haskell" title="the-gibbon-compiler-accelerating-a-small-subset-of-haskell"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">The Gibbon Compiler: Accelerating a small subset of Haskell</span></h1>
<p>ç™ºè¡¨è€…<span class="ascii">: Ryan R. Newton</span> <em><span class="ascii">Indiana University</span></em><span class="ascii">, Michael Vollmer</span> <em><span class="ascii">Indiana University, USA</span></em><span class="ascii">, Chaitanya Koparkar</span> <em><span class="ascii">Indiana University</span></em></p>
<p><span class="ascii">Gibbon</span>ã¯æœ€é©åŒ–ã®æ‰‹æ³•ã‚’ç ”ç©¶ã™ã‚‹ãŸã‚ã«ä½œã‚‰ã‚ŒãŸã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã§ã™ã€‚<br />
å…·ä½“çš„ã«ã¯ã€æˆ‘ã€…<small>ï¼ˆç‰¹ã«<span class="ascii">Haskeller</span>ï¼‰</small>ãŒã‚ˆãä½¿ã†ã€æœ¨æ§‹é€ å…¨ä½“ã«å¯¾ã™ã‚‹å‡¦ç†ã®æœ€é©åŒ–ã§ã™ã€‚</p>
<p>ã“ã†ã—ãŸæœ¨æ§‹é€ ã®ãƒ‡ãƒ¼ã‚¿ã¯ã€é€šå¸¸ãƒã‚¤ãƒ³ã‚¿ãƒ¼ã‚’ä½¿ã£ã¦ãƒ¡ãƒ¢ãƒªãƒ¼å†…ã«ãƒãƒ©ãƒãƒ©ã«æ ¼ç´ã•ã‚Œã¾ã™ãŒã€<span class="ascii">Gibbon</span>ã«ã‚ˆã‚‹æœ€é©åŒ–ã‚’è¡Œã†ã¨ã€å®Ÿéš›ã«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒã©ã®ã‚ˆã†ãªé †ç•ªã§æœ¨ã‚’å‡¦ç†ã—ã¦ã„ã‚‹ã®ã‹è§£æã—ã¦ã€ï¼ˆå…ƒã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’é…åˆ—ã«å¤‰æ›ã—ãŸä¸Šã§ï¼‰ãã®é †ç•ªã«ä¸¦ã¹ã‚‰ã‚ŒãŸé…åˆ—ã¨ã—ã¦å‡¦ç†ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã«å¤‰æ›ã™ã‚‹ã€ã¨ã„ã†å¤§èƒ†ãªå¤‰æ›ã‚’è¡Œã„ã¾ã™ã€‚ å›³ã«ã™ã‚‹ã¨ã“ã‚“ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã—ã‚‡ã†ã‹ï¼Ÿ</p>
<figure>
<img src="/img/2019/hiw-gibbon/tree-and-array1.svg" alt="å¤‰æ›å‰ã®æœ¨æ§‹é€ ã€‚å„ãƒãƒ¼ãƒ‰ãŒãã‚Œãã‚Œï¼ˆãƒ¬ãƒ™ãƒ«é †ã§ï¼‰A, B, â€¦ , Gã¨ã„ã†å€¤ã‚’æŒã£ã¦ã„ã‚‹" /><figcaption>å¤‰æ›å‰ã®æœ¨æ§‹é€ ã€‚å„ãƒãƒ¼ãƒ‰ãŒãã‚Œãã‚Œï¼ˆãƒ¬ãƒ™ãƒ«é †ã§ï¼‰<span class="ascii">A, B,</span> â€¦ <span class="ascii">, G</span>ã¨ã„ã†å€¤ã‚’æŒã£ã¦ã„ã‚‹</figcaption>
</figure>
<p>ğŸ‘†ã®ã‚ˆã†ãªæœ¨æ§‹é€ ãŒã‚ã£ãŸã¨ã—ã¦ã€</p>
<figure>
<img src="/img/2019/hiw-gibbon/tree-and-array2.svg" alt="è¡ŒããŒã‘é †ï¼ˆA, B, D, E, C, F, Gã®é †ï¼‰ã§ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹" /><figcaption>è¡ŒããŒã‘é †ï¼ˆ<span class="ascii">A, B, D, E, C, F, G</span>ã®é †ï¼‰ã§ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹</figcaption>
</figure>
<p>ğŸ‘†ã«ãŠã‘ã‚‹ã€èµ¤ã„ç·šã®é †ç•ª<small>ï¼ˆè¡ŒããŒã‘é †ï¼‰</small>ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹é–¢æ•°ãŒã‚ã£ãŸã¨ã—ã¾ã™ã€‚<br />
é©å½“ã«<span class="ascii">Haskell</span>ã®å†å¸°é–¢æ•°ã¨ã—ã¦æ›¸ãã¨ã€ğŸ‘‡ã“ã†ã„ã†ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">data</span> <span class="dt">Tree</span> <span class="ot">=</span> <span class="dt">Node</span> <span class="dt">Char</span> (<span class="dt">Maybe</span> <span class="dt">Tree</span>) (<span class="dt">Maybe</span> <span class="dt">Tree</span>) <span class="kw">deriving</span> <span class="dt">Show</span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="ot">tree ::</span> <span class="dt">Tree</span></a>
<a class="sourceLine" id="cb1-4" title="4">tree <span class="ot">=</span></a>
<a class="sourceLine" id="cb1-5" title="5">  <span class="dt">Node</span> <span class="ch">&#39;A&#39;</span></a>
<a class="sourceLine" id="cb1-6" title="6">    ( <span class="dt">Just</span></a>
<a class="sourceLine" id="cb1-7" title="7">      ( <span class="dt">Node</span> <span class="ch">&#39;B&#39;</span></a>
<a class="sourceLine" id="cb1-8" title="8">        (<span class="dt">Just</span> (<span class="dt">Node</span> <span class="ch">&#39;D&#39;</span> <span class="dt">Nothing</span> <span class="dt">Nothing</span>))</a>
<a class="sourceLine" id="cb1-9" title="9">        (<span class="dt">Just</span> (<span class="dt">Node</span> <span class="ch">&#39;E&#39;</span> <span class="dt">Nothing</span> <span class="dt">Nothing</span>))</a>
<a class="sourceLine" id="cb1-10" title="10">      )</a>
<a class="sourceLine" id="cb1-11" title="11">    )</a>
<a class="sourceLine" id="cb1-12" title="12">    ( <span class="dt">Just</span></a>
<a class="sourceLine" id="cb1-13" title="13">      ( <span class="dt">Node</span> <span class="ch">&#39;C&#39;</span></a>
<a class="sourceLine" id="cb1-14" title="14">        (<span class="dt">Just</span> (<span class="dt">Node</span> <span class="ch">&#39;F&#39;</span> <span class="dt">Nothing</span> <span class="dt">Nothing</span>))</a>
<a class="sourceLine" id="cb1-15" title="15">        (<span class="dt">Just</span> (<span class="dt">Node</span> <span class="ch">&#39;G&#39;</span> <span class="dt">Nothing</span> <span class="dt">Nothing</span>))</a>
<a class="sourceLine" id="cb1-16" title="16">      )</a>
<a class="sourceLine" id="cb1-17" title="17">    )</a>
<a class="sourceLine" id="cb1-18" title="18"></a>
<a class="sourceLine" id="cb1-19" title="19"><span class="ot">preOrder ::</span> (<span class="dt">Char</span> <span class="ot">-&gt;</span> <span class="dt">IO</span> ()) <span class="ot">-&gt;</span> <span class="dt">Tree</span> <span class="ot">-&gt;</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb1-20" title="20">preOrder access (<span class="dt">Node</span> char mLeft mRight) <span class="ot">=</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb1-21" title="21">  access char</a>
<a class="sourceLine" id="cb1-22" title="22"></a>
<a class="sourceLine" id="cb1-23" title="23">  <span class="kw">case</span> mLeft <span class="kw">of</span></a>
<a class="sourceLine" id="cb1-24" title="24">    <span class="dt">Just</span> left <span class="ot">-&gt;</span> preOrder access left</a>
<a class="sourceLine" id="cb1-25" title="25">    <span class="dt">Nothing</span> <span class="ot">-&gt;</span> <span class="fu">return</span> ()</a>
<a class="sourceLine" id="cb1-26" title="26"></a>
<a class="sourceLine" id="cb1-27" title="27">  <span class="kw">case</span> mRight <span class="kw">of</span></a>
<a class="sourceLine" id="cb1-28" title="28">    <span class="dt">Just</span> right <span class="ot">-&gt;</span> preOrder access right</a>
<a class="sourceLine" id="cb1-29" title="29">    <span class="dt">Nothing</span> <span class="ot">-&gt;</span> <span class="fu">return</span> ()</a></code></pre></div>
<p><span class="ascii">Gibbon</span>ã¯ã“ã®é–¢æ•°ã¨ã€ãã‚ŒãŒå‡¦ç†ã™ã‚‹æœ¨æ§‹é€ ã‚’è§£æã—ã¦ã€</p>
<figure>
<img src="/img/2019/hiw-gibbon/tree-and-array3.svg" alt="å¤‰æ›ã•ã‚ŒãŸé…åˆ—ã€‚A, B, D, E, C, F, Gã®é †ã«è¦ç´ ãŒä¸¦ã‚“ã ãŸã ã®é…åˆ—" /><figcaption>å¤‰æ›ã•ã‚ŒãŸé…åˆ—ã€‚<span class="ascii">A, B, D, E, C, F, G</span>ã®é †ã«è¦ç´ ãŒä¸¦ã‚“ã ãŸã ã®é…åˆ—</figcaption>
</figure>
<p>ğŸ‘†ã®ã‚ˆã†ãªã€ãŸã ã®é…åˆ—ï¼ˆã¨ãã‚Œã«å¯¾ã™ã‚‹é–¢æ•°ï¼‰ã«ã¾ã¨ã‚ã¦å¤‰æ›ã—ã¦ã—ã¾ã†ã€ã¨ã„ã†ã®ã§ã™ï¼</p>
<p>ç¾ä»£ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã¯ã€ã“ã®ã‚ˆã†ãªé…åˆ—ã®è¦ç´ ã«ã¾ã¨ã‚ã¦ã‚¢ã‚¯ã‚»ã‚¹å‡¦ç†ã™ã‚‹æ–¹ãŒã€ãƒã‚¤ãƒ³ã‚¿ãƒ¼ã‚’ãŸã©ã£ã¦å„è¦ç´ ã‚’å‡¦ç†ã™ã‚‹ã‚ˆã‚Šã€ãŸã„ã¦ã„é™ã‹ã«é€Ÿã„ã§ã™ã€‚<br />
<span class="ascii">Gibbon</span>ã¯ã“ã®ç‰¹æ€§ã‚’æ´»ã‹ã™ã¹ãã€æˆ‘ã€…<span class="ascii">Haskeller</span>ãŒå¥½ã‚“ã§ä½¿ã†ã‚ˆã†ãªã€ãƒã‚¤ãƒ³ã‚¿ãƒ¼ã ã‚‰ã‘ã®æœ¨æ§‹é€ ã‚’å¯èƒ½ãªé™ã‚Šé…åˆ—ã«å¤‰æ›ã™ã‚‹ã“ã¨ã§ã€è¦ç´ ã‚’ã¾ã¨ã‚ã¦å‡¦ç†ã™ã‚‹ï¼ˆ<span class="ascii">traverse</span>ã™ã‚‹ï¼‰æ¼”ç®—ã®æœ€é©åŒ–ã‚’å›³ã‚‹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã§ã™ã€‚</p>
<p>ã¡ãªã¿ã«ã€å…ƒã®æœ¨ã«å¯¾ã™ã‚‹ãƒãƒ¼ãƒ‰ã®è¿½åŠ ã«ç›¸å½“ã™ã‚‹å‡¦ç†ã¯ã€æ–°ã—ã„ãƒãƒ¼ãƒ‰ã«å¯¾ã™ã‚‹ãƒã‚¤ãƒ³ã‚¿ãƒ¼ã‚’æ›¸ãè¾¼ã‚€å‡¦ç†ã«å¤‰æ›ã™ã‚‹ãã†ã§ã™ã€‚<br />
ãªã®ã§ä½•åº¦ã‚‚è¿½åŠ ã‚’ç¹°ã‚Šè¿”ã™ã¨ã€ã‚ã¾ã‚Šæ©æµãŒå—ã‘ã‚‰ã‚Œãªããªã£ã¦ã—ã¾ã„ãã†ã§ã™ã€‚</p>
<p>ãªã‹ãªã‹èˆˆå‘³æ·±ã„ã‚¢ã‚¤ãƒ‡ã‚£ã‚¢ã§ã™ãŒã€å€‹äººçš„ã«èããã³ã‚ŒãŸç–‘å•ãŒ<span class="ascii">2</span>ã¤ã‚ã‚Šã¾ã™ã€‚<br />
ä¸€ã¤ã¯ã€ãã‚‚ãã‚‚æœ¨æ§‹é€ ã‚’å®šç¾©ã™ã‚‹ã‚ˆã†ãªçŠ¶æ³ã¨ã„ã†ã®ã¯ã€ã„ã‚ã„ã‚ãªé †ç•ªã§ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã„ã—ã€æ–°ã—ã„è¦ç´ ã®è¿½åŠ ã‚‚ç¹°ã‚Šè¿”ã—è¡Œã„ãŸã„ã‚±ãƒ¼ã‚¹ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ï¼Ÿ<br />
ä¾‹ãˆã°<a href="http://hackage.haskell.org/package/unordered-containers"><span class="ascii">unordered-containers</span></a>ã«ã‚ã‚‹<code>HashMap</code>å‹ã¯æ¢ç´¢æœ¨ã‚’ä½¿ã£ãŸé »ç¹ã«ä½¿ã‚ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã™ãŒã€<code>HashMap</code>ã‚’ä½¿ã†å ´åˆã«è¡Œã†å‡¦ç†ã®å¤šãã¯ã€ãƒ©ãƒ³ãƒ€ãƒ ã‚¢ã‚¯ã‚»ã‚¹ã‚„è¦ç´ ã®è¿½åŠ ãƒ»å‰Šé™¤ã§ã—ã‚‡ã†ã€‚</p>
<p>ãªã®ã§ã€<span class="ascii">Gibbon</span>ãŒæœ€é©åŒ–ã—ãŸã„ã€Œæœ¨æ§‹é€ ã€ã¨ã„ã†ã®ã¯ã€ã©ã¡ã‚‰ã‹ã¨ã„ã†ã¨æ¢ç´¢æœ¨ã®ã‚ˆã†ãªæœ¨ã§ã¯ãªãã€æ§‹æ–‡æœ¨ã®ã‚ˆã†ãªã€è¦ç´ ã‚’ã¾ã¨ã‚ã¦å‡¦ç†ã™ã‚‹ã“ã¨ã‚’å‰æã¨ã—ãŸæœ¨ã®ã“ã¨ãªã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚<br />
ç¢ºã‹ã«äººé–“ãŒæ›¸ãè¨€èªã®æ§‹æ–‡æœ¨ç¨‹åº¦ã§ã‚ã‚Œã°ã€ã™ã¹ã¦ãƒ¡ãƒ¢ãƒªãƒ¼ä¸Šã§å‡¦ç†ã§ãã‚‹ç¨‹åº¦ã®ã‚µã‚¤ã‚ºã«åã¾ã‚‹<small>ï¼ˆã¨ã„ã†æƒ³å®šã§ãªã‘ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ä½œã‚ŠãŒã‚‚ã®ã™ã”ãé›£ã—ããªã‚‹ï¼‰</small>ã§ã—ã‚‡ã†ã—ã€æ§‹æ–‡æœ¨ã®å‡¦ç†ã‚’é«˜é€ŸåŒ–ã§ãã‚Œã°ã€é…ã„é…ã„ã¨è¨€ã‚ã‚Œã‚‹<span class="ascii">GHC</span>ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«é€Ÿåº¦ã‚‚é«˜ã‚ã‚‰ã‚Œã‚‹ã¯ãšã§ã™ã€‚ãã‚Œã¯ãã‚Œã§ã‚ã‚ŠãŒãŸã„ã€‚</p>
<p>ã‚‚ã†ä¸€ã¤ã¯ã€ã“ã‚Œã¾ãŸä¾‹ãˆã°<code>HashMap</code>å‹ã®ã‚ˆã†ãªæœ¨ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ãŸé€£æƒ³é…åˆ—ã‚‚ã€é…åˆ—ãƒ™ãƒ¼ã‚¹ã®ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¤‰æ›ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ<br />
ã‚‚ã—ãã†ã ã¨ã™ã‚‹ã¨ã€ãƒ©ãƒ³ãƒ€ãƒ ã‚¢ã‚¯ã‚»ã‚¹ã«å¯¾ã™ã‚‹è¨ˆç®—é‡ã®ã‚ªãƒ¼ãƒ€ãƒ¼ã‚‚<span class="ascii">O(log n)</span>ã‹ã‚‰<span class="ascii">O(1)</span>ã«å¤‰ã‚ã‚‹ã‚ã‘ã§ã™ã—ã€è¦ç´ ã‚’ã¾ã¨ã‚ã¦å‡¦ç†ã™ã‚‹ä»¥å¤–ã®æ¼”ç®—ã«ã¤ã„ã¦ã‚‚åŠ‡çš„ãªæ”¹å–„ãŒè¦‹è¾¼ã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚<br />
ã‚‚ã¡ã‚ã‚“ã“ã‚Œã‚‚å…ˆã»ã©ã®æ¨æ¸¬ãŒæ­£ã—ã‘ã‚Œã°ç„¡æ„å‘³ãªæƒ³åƒã§ã™ãŒã€å¤¢ã®ã‚ã‚‹è©±ã§ã™ã­ã€‚</p>
<p><span class="ascii">Gibbon</span>ã¯å°†æ¥çš„ã«ã¯ã€<code>Packed</code>ã¨ã„ã†å‹ã‚¯ãƒ©ã‚¹ã‚’æä¾›ã™ã‚‹ã“ã¨ã§ã€<span class="ascii">GHC</span>æœ¬ä½“ã¸ã®çµ±åˆã‚‚è¦–é‡ã«å…¥ã‚Œã¦ã„ã‚‹ãã†ã§ã™ã€‚<br />
<code>Packed</code>ã‚’å®Ÿè£…ã—ãŸå‹ã¯ã€å€¤ã‚’ã©ã®ã‚ˆã†ã«é…åˆ—ã«å¤‰æ›ã™ã‚‹ã®ã‹å®šç¾©ã™ã‚‹ã“ã¨ã§ã€<span class="ascii">Gibbon</span>ã«ã‚ˆã‚‹æœ€é©åŒ–ã®ãŸã‚ã®ãƒ’ãƒ³ãƒˆã‚’ä¸ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>å‚è€ƒ<span class="ascii">:</span> <a href="https://ja.wikipedia.org/w/index.php?title=%E6%9C%A8%E6%A7%8B%E9%80%A0_(%E3%83%87%E3%83%BC%E3%82%BF%E6%A7%8B%E9%80%A0)&amp;oldid=72655479">æœ¨æ§‹é€  <span class="ascii">(</span>ãƒ‡ãƒ¼ã‚¿æ§‹é€ <span class="ascii">) - Wikipedia</span></a></p>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
                <i class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="margin-right: 5px;"></i>
                <a href="/posts/2019/haskell-symposium.html" lang="ja">Haskell Symposium 2019 ãƒ¬ãƒãƒ¼ãƒˆ</a>
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/2019/hiw-ghc-future.html" style="margin-left: auto;" lang="ja">HIW 2019ã§ç™ºè¡¨ã•ã‚ŒãŸã€GHC 8.10ã«å°å…¥ã•ã‚Œã‚‹ã§ã‚ã‚ã†æ©Ÿèƒ½</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>
<entry>
    <title>HIW 2019ã§ç™ºè¡¨ã•ã‚ŒãŸã€GHC 8.10ã«å°å…¥ã•ã‚Œã‚‹ã§ã‚ã‚ã†æ©Ÿèƒ½</title>
    <link href="https://haskell.jp/blog/posts/2019/hiw-ghc-future.html" />
    <id>https://haskell.jp/blog/posts/2019/hiw-ghc-future.html</id>
    <published>2019-09-17T00:00:00Z</published>
    <updated>2019-09-17T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <hr />
<p><a href="/posts/2019/hiw-ghc8.8.html">å‰å›</a>ã‹ã‚‰å¼•ãç¶šãã€<a href="https://icfp19.sigplan.org/home/hiw-2019#About"><span class="ascii">Haskell Implementors</span>â€™ <span class="ascii">Workshop 2019</span></a>ã¸ã®å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã¨ã—ã¦ã€ç§ã®å°è±¡ã«æ®‹ã£ãŸç™ºè¡¨ã‚’ã„ãã¤ã‹ç´¹ä»‹ã—ã¾ã™ã€‚<br />
ä»Šå›ã¯ã€ã€Œ<span class="ascii">GHC 8.10</span>ã«å°å…¥ã•ã‚Œã‚‹ã§ã‚ã‚ã†æ©Ÿèƒ½ã€ã§ã™ã€‚<br />
ã„ãšã‚Œã‚‚è©²å½“ã™ã‚‹<span class="ascii">Merge Request</span>ã¯<span class="ascii">master</span>ãƒ–ãƒ©ãƒ³ãƒã«ãƒãƒ¼ã‚¸æ¸ˆã¿ãªã®ã§ã€ãŠãã‚‰ã<span class="ascii">GHC 8.10</span>ã§æä¾›ã•ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚</p>
<div id="table-of-contents-outer">
<div id="table-of-contents">
<div class="table-of-contents-title">
Contents
</div>
<ul>
<li><a href="#holefitplugins-and-the-future-of-interactive-development-in-ghc" title="holefitplugins-and-the-future-of-interactive-development-in-ghc"><span class="ascii">HoleFitPlugins and the future of interactive development in GHC</span></a></li>
<li><a href="#visible-dependent-quantification" title="visible-dependent-quantification"><span class="ascii">Visible dependent quantification</span></a></li>
</ul>
</div>
</div>
<h2 id="holefitplugins-and-the-future-of-interactive-development-in-ghc"><span class="link-to-here-outer"><a href="#holefitplugins-and-the-future-of-interactive-development-in-ghc" title="holefitplugins-and-the-future-of-interactive-development-in-ghc"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">HoleFitPlugins and the future of interactive development in GHC</span></h2>
<ul>
<li>ç™ºè¡¨è€…<span class="ascii">: MatthÃ­as PÃ¡ll Gissurarson</span> <em><span class="ascii">Chalmers University of Technology, Sweden</span></em></li>
<li>è©²å½“ã®<span class="ascii">Merge Request:</span> <a href="https://gitlab.haskell.org/ghc/ghc/merge_requests/153"><span class="ascii">!153</span></a></li>
<li>è©²å½“ã®<span class="ascii">GHC Proposal:</span> ãªã—</li>
</ul>
<p><a href="https://icfp18.sigplan.org/details/haskellsymp-2018-papers/10/Suggesting-Valid-Hole-Fits-for-Typed-Holes-Experience-Report-">æ˜¨å¹´ã®<span class="ascii">Haskell Symposium</span>ã§ã‚‚ç™ºè¡¨</a>ã•ã‚Œã¦<span class="ascii">GHC 8.6</span>ã§å°å…¥ã•ã‚ŒãŸã€ã€Œ<span class="ascii">Valid Hole Fits</span>ã€ã¨ã„ã†æ©Ÿèƒ½ã®ã•ã‚‰ãªã‚‹æ‹¡å¼µã«ã¤ã„ã¦ã€‚</p>
<p>ã¾ãšã€ã€Œ<span class="ascii">Valid Hole Fits</span>ã€ã¨ã„ã†æ©Ÿèƒ½ã«ã¤ã„ã¦è»½ãç´¹ä»‹ã—ã¾ã™<small>ï¼ˆè©³ã—ãã¯<a href="https://wataru86.github.io/slides/vhs/">ã“ã¡ã‚‰ã®ã‚¹ãƒ©ã‚¤ãƒ‰</a>ãŒå‚è€ƒã«ãªã‚‹ã‹ã¨æ€ã„ã¾ã™ï¼‰</small>ã€‚<br />
ã€Œ<span class="ascii">Valid Hole Fits</span>ã€ã¯ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ <code>_</code>ã§å§‹ã¾ã‚‹è­˜åˆ¥å­ã‚’æ›¸ã„ãŸã¨ãã€<span class="ascii">GHC</span>ãŒæ¨è«–ã—ãŸå‹ã«ãƒãƒƒãƒã™ã‚‹é–¢æ•°ã‚’ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ä»˜è¨˜ã™ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã©ã‚“ãªå¼ã‚’æ›¸ã‘ã°ã‚ˆã„ã‹ã€ãƒ’ãƒ³ãƒˆã‚’ä¸ãˆã¦ãã‚Œã‚‹ã‚‚ã®ã§ã™ã€‚</p>
<p>ä¾‹ãˆã°ã€</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">map</span> (<span class="fu">length</span> <span class="op">.</span> _someFunc) [<span class="dt">True</span>, <span class="dt">False</span>, <span class="dt">True</span>]</a></code></pre></div>
<p>ä¸Šè¨˜ã®ã‚ˆã†ã«ã€ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ <code>_</code>ã§å§‹ã¾ã‚‹è­˜åˆ¥å­ã‚’æ›¸ã„ãŸã¨ãã€</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb2-1" title="1"><span class="op">&lt;</span>interactive<span class="op">&gt;:</span><span class="dv">1</span><span class="op">:</span><span class="dv">16</span><span class="op">:</span> <span class="fu">error</span><span class="op">:</span></a>
<a class="sourceLine" id="cb2-2" title="2">    <span class="op">...</span></a>
<a class="sourceLine" id="cb2-3" title="3">      <span class="dt">Valid</span> hole fits include</a>
<a class="sourceLine" id="cb2-4" title="4"><span class="ot">        enumFrom ::</span> <span class="kw">forall</span> a<span class="op">.</span> <span class="dt">Enum</span> a <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> [a]</a>
<a class="sourceLine" id="cb2-5" title="5">          with <span class="fu">enumFrom</span> <span class="op">@</span><span class="dt">Bool</span></a>
<a class="sourceLine" id="cb2-6" title="6">          (imported from â€˜<span class="dt">Prelude</span>â€™ (<span class="fu">and</span> originally defined <span class="kw">in</span> â€˜<span class="dt">GHC.Enum</span>â€™))</a>
<a class="sourceLine" id="cb2-7" title="7"><span class="ot">        show ::</span> <span class="kw">forall</span> a<span class="op">.</span> <span class="dt">Show</span> a <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> <span class="dt">String</span></a>
<a class="sourceLine" id="cb2-8" title="8">          with <span class="fu">show</span> <span class="op">@</span><span class="dt">Bool</span></a>
<a class="sourceLine" id="cb2-9" title="9">          (imported from â€˜<span class="dt">Prelude</span>â€™ (<span class="fu">and</span> originally defined <span class="kw">in</span> â€˜<span class="dt">GHC.Show</span>â€™))</a>
<a class="sourceLine" id="cb2-10" title="10"><span class="ot">        repeat ::</span> <span class="kw">forall</span> a<span class="op">.</span> a <span class="ot">-&gt;</span> [a]</a>
<a class="sourceLine" id="cb2-11" title="11">          with <span class="fu">repeat</span> <span class="op">@</span><span class="dt">Bool</span></a>
<a class="sourceLine" id="cb2-12" title="12">          (imported from â€˜<span class="dt">Prelude</span>â€™ (<span class="fu">and</span> originally defined <span class="kw">in</span> â€˜<span class="dt">GHC.List</span>â€™))</a>
<a class="sourceLine" id="cb2-13" title="13"><span class="ot">        return ::</span> <span class="kw">forall</span> (<span class="ot">m ::</span> <span class="op">*</span> <span class="ot">-&gt;</span> <span class="op">*</span>) a<span class="op">.</span> <span class="dt">Monad</span> m <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> m a</a>
<a class="sourceLine" id="cb2-14" title="14">          with <span class="fu">return</span> <span class="op">@</span>[] <span class="op">@</span><span class="dt">Bool</span></a>
<a class="sourceLine" id="cb2-15" title="15">          (imported from â€˜<span class="dt">Prelude</span>â€™ (<span class="fu">and</span> originally defined <span class="kw">in</span> â€˜<span class="dt">GHC.Base</span>â€™))</a>
<a class="sourceLine" id="cb2-16" title="16"><span class="ot">        pure ::</span> <span class="kw">forall</span> (<span class="ot">f ::</span> <span class="op">*</span> <span class="ot">-&gt;</span> <span class="op">*</span>) a<span class="op">.</span> <span class="dt">Applicative</span> f <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> f a</a>
<a class="sourceLine" id="cb2-17" title="17">          with <span class="fu">pure</span> <span class="op">@</span>[] <span class="op">@</span><span class="dt">Bool</span></a>
<a class="sourceLine" id="cb2-18" title="18">          (imported from â€˜<span class="dt">Prelude</span>â€™ (<span class="fu">and</span> originally defined <span class="kw">in</span> â€˜<span class="dt">GHC.Base</span>â€™))</a>
<a class="sourceLine" id="cb2-19" title="19"><span class="ot">        mempty ::</span> <span class="kw">forall</span> a<span class="op">.</span> <span class="dt">Monoid</span> a <span class="ot">=&gt;</span> a</a>
<a class="sourceLine" id="cb2-20" title="20">          with <span class="fu">mempty</span> <span class="op">@</span>(<span class="dt">Bool</span> <span class="ot">-&gt;</span> [a0])</a>
<a class="sourceLine" id="cb2-21" title="21">          (imported from â€˜<span class="dt">Prelude</span>â€™ (<span class="fu">and</span> originally defined <span class="kw">in</span> â€˜<span class="dt">GHC.Base</span>â€™))</a></code></pre></div>
<p>ã¨ã„ã£ãŸå…·åˆã«ã€ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã§å§‹ã¾ã‚‹è­˜åˆ¥å­<code>_someFunc</code>ã®å‹ã‚’<code>Bool -&gt; [a0]</code>ã¨æ¨è«–ã—ãŸä¸Šã§<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>ã€å®Ÿéš›ã«ãã®å‹ã«è©²å½“ã™ã‚‹é–¢æ•°ã‚’ã€å½“è©²ã®ã‚¹ã‚³ãƒ¼ãƒ—ã«ãŠã„ã¦ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹é–¢æ•°ã®ä¸­ã‹ã‚‰æ¢ã—ã¦æ•™ãˆã¦ãã‚Œã‚‹ã€ãã‚ŒãŒã€Œ<span class="ascii">Valid Hole Fits</span>ã€ã¨ã„ã†æ©Ÿèƒ½ã§ã™ã€‚</p>
<p>ä»Šå›ç™ºè¡¨ã•ã‚ŒãŸã€Œ<span class="ascii">HoleFitPlugins</span>ã€ã¨ã„ã†æ©Ÿèƒ½ã¯ã€åå‰ã®ã¨ãŠã‚Šã“ã®ã€Œ<span class="ascii">Valid Hole Fits</span>ã€ã«å¯¾ã™ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ©Ÿæ§‹ã§ã™ã€‚<br />
ã€Œ<span class="ascii">Valid Hole Fits</span>ã€ãŒè¡¨ç¤ºã™ã‚‹ã€Œå‹ã«ãƒãƒƒãƒã—ãŸé–¢æ•°ã€ã‚’æ¢ã™å‡¦ç†ã‚’ã€<span class="ascii">Haskell</span>ã®ã‚³ãƒ¼ãƒ‰ã§æ›¸ãæ›ãˆã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ãã‚Œã¾ã™ï¼</p>
<p>ã€Œãã“ã¾ã§ã™ã‚‹å¿…è¦ã‚ã‚‹ã®ï¼Ÿã€ã¨ã„ã†æ°—ã‚‚ã—ã¦ãã¾ã™ãŒã€ç™ºè¡¨è€…æ›°ã</p>
<ul>
<li><span class="ascii">Hoogle</span>ã‚’ã¯ã˜ã‚ã€<span class="ascii">TensorFlow</span>ãªã©<span class="ascii">GHC</span>ã®å¤–éƒ¨ã«ã‚ã‚‹ã‚‚ã®ã‚’åˆ©ç”¨ã—ã¦ã€Œå‹ã«ãƒãƒƒãƒã—ãŸé–¢æ•°ã€ã‚’æ¢ã›ã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«å¿…è¦</li>
<li><span class="ascii">GHCi</span>ã¨ã“ã®æ©Ÿæ§‹ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€ã‚‚ã£ã¨ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªé–‹ç™ºã‚’ä¿ƒé€²ã—ãŸã„</li>
</ul>
<p>ã¨ã„ã†æ„å›³ãŒã‚ã‚‹ãã†ã§ã™ã€‚</p>
<p>æœ€æ–°å®‰å®šç‰ˆã®<span class="ascii">GHC</span>ã§ã¯åˆ©ç”¨ã§ãã¾ã›ã‚“ãŒã€<a href="https://ghc.gitlab.haskell.org/ghc/doc/users_guide/extending_ghc.html#hole-fit-plugins">ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒã“ã¡ã‚‰</a>ã«ã‚ã‚‹ã®ã§ã€<span class="ascii">GHC</span>ã®<span class="ascii">HEAD</span><small>ï¼ˆ<span class="ascii">master</span>ãƒ–ãƒ©ãƒ³ãƒã§é–‹ç™ºä¸­ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰</small>ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚Œã°ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã§ã™ã€‚</p>
<p>åŠ ãˆã¦ç™ºè¡¨ã§ã¯ã€<code>_</code>ã§å§‹ã¾ã‚‹è­˜åˆ¥å­ã‚’æ›¸ãéš›ã®æ§‹æ–‡ã‚’æ‹¡å¼µã™ã‚‹ã“ã¨ã§ã€ã©ã®ã‚ˆã†ã«<span class="ascii">candidate</span>ã‚’æ¢ã™ã‹æŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€ãªã‚“ã¦æ©Ÿèƒ½ã‚‚ç´¹ä»‹ã•ã‚Œã¾ã—ãŸ<small>ï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã‚€é™ã‚Šã“ã®æ©Ÿèƒ½ã¯ã¾ã <span class="ascii">HEAD</span>ã«å…¥ã£ã¦ãªã„ï¼Ÿï¼‰</small>ã€‚<br />
ä¾‹ãˆã°ã€<span class="ascii">Hoogle</span>ã‚’ä½¿ã£ã¦<span class="ascii">Valid Hole Fits</span>ã‚’æ¢ã—ãŸã„ã¨ãã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã§æ¤œç´¢å¯¾è±¡ã‚’<code>Control.Applicative</code>ã«é™å®šã™ã‚‹ã€ã¨ã„ã£ãŸã“ã¨ã‚’ã§ãã‚‹ã‚ˆã†ã—ã¦ãã‚Œã¾ã™ã€‚</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb3-1" title="1"><span class="ot">g ::</span> [a] <span class="ot">-&gt;</span> [[a]]</a>
<a class="sourceLine" id="cb3-2" title="2">g <span class="ot">=</span> _{hoogleLookup <span class="st">&quot;+Control.Applicative&quot;</span>}</a></code></pre></div>
<p><span class="ascii">Valid Hole Fits</span>ã®æ¤œç´¢æ–¹æ³•ã‚’ãã®å ´ã§å¾®èª¿æ•´ã—ãŸã„ã€ã¨ã„ã†ã¨ãã«ä½¿ã†ã‚‚ã®ã§ã™ã­ã€‚</p>
<h2 id="visible-dependent-quantification"><span class="link-to-here-outer"><a href="#visible-dependent-quantification" title="visible-dependent-quantification"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Visible dependent quantification</span></h2>
<ul>
<li>ç™ºè¡¨è€…<span class="ascii">: Ryan Scott</span> <em><span class="ascii">Indiana University at Bloomington, USA</span></em></li>
<li>è©²å½“ã®<span class="ascii">Merge Request:</span> <a href="https://gitlab.haskell.org/ghc/ghc/merge_requests/378"><span class="ascii">!378</span></a></li>
<li>è©²å½“ã®<span class="ascii">GHC Proposal:</span> <a href="https://github.com/ghc-proposals/ghc-proposals/blob/master/proposals/0081-forall-arrow.rst"><span class="ascii">0081-forall-arrow</span></a></li>
</ul>
<p>ã‚¿ã‚¤ãƒˆãƒ«ã®ã¨ãŠã‚Šã€ã€Œ<span class="ascii">Visible dependent quantification</span>ã€ã¨ã„ã†æ©Ÿèƒ½ã®ç´¹ä»‹ã§ã™ã€‚</p>
<p>æœ€è¿‘ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®<span class="ascii">GHCi</span>ã«ãŠã‘ã‚‹<code>:kind</code>ã‚³ãƒãƒ³ãƒ‰ã¯ã€æ¬¡ã®ã‚ˆã†ãªã€<span class="ascii">GHC</span>ãŒã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„æ§‹æ–‡ã®å‹æ³¨é‡ˆã‚’å‡ºåŠ›ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚<br />
ä¾‹ãˆã°</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb4-1" title="1"><span class="op">&gt;</span> <span class="op">:</span>set <span class="op">-</span><span class="dt">XKindSignatures</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="op">&gt;</span> <span class="op">:</span>set <span class="op">-</span><span class="dt">XPolyKinds</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="op">&gt;</span> <span class="kw">data</span> <span class="dt">SomeType</span> k (<span class="ot">a ::</span> k)</a>
<a class="sourceLine" id="cb4-4" title="4"><span class="op">&gt;</span> <span class="op">:</span>kind <span class="dt">SomeType</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="dt">SomeType</span><span class="ot"> ::</span> <span class="kw">forall</span> k <span class="ot">-&gt;</span> k <span class="ot">-&gt;</span> <span class="op">*</span></a></code></pre></div>
<p>ã«ãŠã‘ã‚‹ã€<code>SomeType :: forall k -&gt; k -&gt; *</code>ã®<code>forall k -&gt;</code>ã¨ã„ã†éƒ¨åˆ†ã§ã™ã€‚<br />
ç¾åœ¨ã®<span class="ascii">Haskell</span>ã§<code>forall k</code>ãªã©ã¨æ›¸ãã¨ãã¯ã€å¿…ãš</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb5-1" title="1"><span class="dt">SomeType</span><span class="ot"> ::</span> <span class="kw">forall</span> k<span class="op">.</span> k <span class="ot">-&gt;</span> <span class="op">*</span></a></code></pre></div>
<p>ã¨ã„ã£ãŸå…·åˆã«ã€ãƒ”ãƒªã‚ªãƒ‰ã§åŒºåˆ‡ã£ãŸæ§‹æ–‡ã«ãªã‚Šã¾ã™ã€‚<br />
ã¨ã“ã‚ãŒå…ˆã»ã©ã®<code>:kind</code>ã®å‡ºåŠ›ã§ã¯ã€<code>forall k -&gt;</code>ã¨ã‚ã‚‹ã¨ãŠã‚Šã€<code>forall k</code>ã«<small>ï¼ˆå‹ã§ã¯ãªãã€ã‚«ã‚¤ãƒ³ãƒ‰ã¨ã—ã¦ã®ï¼‰</small>é–¢æ•°ã‚’è¡¨ã™<code>-&gt;</code>ãŒä½¿ã‚ã‚Œã¦ã„ã¾ã™ã€‚<br />
ã€Œ<span class="ascii">Visible dependent quantification</span>ã€ã¯ã¾ã•ã«ã“ã‚Œã‚’ã€<code>:kind</code>ã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã£ã¦å‡ºåŠ›ã•ã‚Œã‚‹æ§‹æ–‡ã ã‘ã§ã¯ãªãã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç›´æ¥æ›¸ã‘ã‚‹æ§‹æ–‡ã«ã—ã‚ˆã†ã€ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚ <span class="ascii">GHC</span>ã«ã€Œä¾å­˜å‹ã€ã¨ã„ã†æ©Ÿèƒ½ã‚’åŠ ãˆã‚‹ã€Œ<span class="ascii">Dependent Haskell</span>ã€ã«ã‚‚å¿…è¦ãªæ©Ÿèƒ½ã ãã†ã§ã™ã€‚<br />
ç§è‡ªèº«ã¯ã“ã®æ©Ÿèƒ½ã‚’ä½¿ã†æ©Ÿä¼šãŒã¡ã‚‡ã£ã¨æ€ã„æµ®ã‹ã°ãªã‹ã£ãŸã®ã§çœç•¥ã—ã¾ã™ãŒã€ã‚ˆã‚Šè©³ã—ã„è§£èª¬ã¯ç™ºè¡¨è€…ã§ã‚ã‚‹<a href="https://ryanglscott.github.io/2019/03/15/visible-dependent-quantification-in-haskell/"><span class="ascii">Ryan</span>è‡ªèº«ã«ã‚ˆã‚‹è¨˜äº‹ï¼ˆè‹±èªï¼‰</a>ã‚’ã”è¦§ãã ã•ã„ã€‚ä½•ãŒã€Œ<span class="ascii">Visible</span>ã€ã§ã©ã†ã€Œ<span class="ascii">Dependent</span>ã€ãªã®ã‹ã‚ã‹ã‚‹ã¯ãšã§ã™ã€‚</p>
<section class="footnotes">
<hr />
<ol>
<li id="fn1"><p>å¾©ç¿’<span class="ascii">:</span> ã“ã®ã€ã€Œã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã§å§‹ã¾ã‚‹è­˜åˆ¥å­<code>_someFunc</code>ã®å‹ã‚’<code>Bool -&gt; [a0]</code>ã¨æ¨è«–ã—ãŸä¸Šã§ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ãŠã„ã¦<code>Found hole: _someFunc :: Bool -&gt; [a0]</code>ã¨æ•™ãˆã¦ãã‚Œã‚‹ã®ãŒã€Œ<span class="ascii">Type Hole</span>ã€ã¨ã„ã†æ©Ÿèƒ½ãªã®ã§ã—ãŸã€‚<a href="#fnref1" class="footnote-back">â†©</a></p></li>
</ol>
</section>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
                <i class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="margin-right: 5px;"></i>
                <a href="/posts/2019/hiw-gibbon.html" lang="ja">HIW 2019ã§ç™ºè¡¨ã•ã‚ŒãŸã€Gibbonã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã«ã¤ã„ã¦</a>
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/2019/hiw-ghc8.8.html" style="margin-left: auto;" lang="ja">HIW 2019ã§ç™ºè¡¨ã•ã‚ŒãŸã€GHC 8.8ã§å°å…¥ã•ã‚ŒãŸæ©Ÿèƒ½</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>
<entry>
    <title>HIW 2019ã§ç™ºè¡¨ã•ã‚ŒãŸã€GHC 8.8ã§å°å…¥ã•ã‚ŒãŸæ©Ÿèƒ½</title>
    <link href="https://haskell.jp/blog/posts/2019/hiw-ghc8.8.html" />
    <id>https://haskell.jp/blog/posts/2019/hiw-ghc8.8.html</id>
    <published>2019-09-11T00:00:00Z</published>
    <updated>2019-09-11T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <hr />
<p>ã“ã‚“ã«ã¡ã¯ã€‚<br />
ä»Šå›ã‹ã‚‰ã„ãã¤ã‹ã€ã€Œ<a href="https://icfp19.sigplan.org/home/hiw-2019#About"><span class="ascii">Haskell Implementors</span>â€™ <span class="ascii">Workshop 2019</span></a>ã€ã«ç§ãŒå…ˆæœˆå‚åŠ ã—ãŸéš›ã®ãƒ¬ãƒãƒ¼ãƒˆã¨ã—ã¦ã€å°è±¡æ·±ã„ç™ºè¡¨ã‚’ãƒ†ãƒ¼ãƒã”ã¨ã«åˆ†ã‘ãŸçŸ­ã„è¨˜äº‹ã‚’åŸ·ç­†ã—ã¾ã™ã€‚<br />
æœ€è¿‘å…¬é–‹ã•ã‚ŒãŸ<a href="https://www.haskell.org/ghc/download_ghc_8_8_1.html"><span class="ascii">GHC 8.8</span></a>ã®è©±ã¯ã‚‚ã¡ã‚ã‚“ã€æœªæ¥ã®<span class="ascii">GHC</span>ã‚„ãã®ä»–ã®<span class="ascii">Haskell</span>ã®å‡¦ç†ç³»ã‚’çŸ¥ã‚‹ã®ã«ã‚ˆã„ã‚¤ãƒ™ãƒ³ãƒˆã§ã—ãŸã®ã§ã€ãã®ä¸€éƒ¨ã ã‘ã§ã‚‚ä¼ã‚ã‚Œã°å¹¸ã„ã§ã™ã€‚</p>
<div id="table-of-contents-outer">
<div id="table-of-contents">
<div class="table-of-contents-title">
Contents
</div>
<ul>
<li><a href="#ãã‚‚ãã‚‚haskell-implementors-workshop-hiwã¨ã¯" title="ãã‚‚ãã‚‚haskell-implementors-workshop-hiwã¨ã¯">ãã‚‚ãã‚‚<span class="ascii">Haskell Implementors</span>â€™ <span class="ascii">Workshop (HIW)</span>ã¨ã¯ï¼Ÿ</a></li>
<li><a href="#hie-files-in-ghc-8.8" title="hie-files-in-ghc-8.8"><span class="ascii">HIE files in GHC 8.8</span></a></li>
<li><a href="#ghc-status-report" title="ghc-status-report"><span class="ascii">GHC status report</span></a></li>
<li><a href="#ã¨ã‚Šã‚ãˆãšä»Šå›ã¯ã“ã“ã¾ã§" title="ã¨ã‚Šã‚ãˆãšä»Šå›ã¯ã“ã“ã¾ã§">ã¨ã‚Šã‚ãˆãšä»Šå›ã¯ã“ã“ã¾ã§</a></li>
</ul>
</div>
</div>
<h1 id="ãã‚‚ãã‚‚haskell-implementors-workshop-hiwã¨ã¯"><span class="link-to-here-outer"><a href="#ãã‚‚ãã‚‚haskell-implementors-workshop-hiwã¨ã¯" title="ãã‚‚ãã‚‚haskell-implementors-workshop-hiwã¨ã¯"><span class="link-to-here">Link to<br />
here</span></a></span>ãã‚‚ãã‚‚<span class="ascii">Haskell Implementors</span>â€™ <span class="ascii">Workshop (HIW)</span>ã¨ã¯ï¼Ÿ</h1>
<p>ã‚·ãƒªãƒ¼ã‚ºï¼ˆï¼Ÿï¼‰ç¬¬<span class="ascii">1</span>å›ç›®ãªã®ã§ã€ç°¡å˜ã«<span class="ascii">HIW</span>ãã®ã‚‚ã®ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚<br />
<span class="ascii">HIW</span>ã¯ã€<a href="https://icfp19.sigplan.org/home"><span class="ascii">ICFP (International Conference on Functional Programming)</span></a>ã¨ã„ã†é–¢æ•°å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã«ã¤ã„ã¦ã®å›½éš›ä¼šè­°ã«ä½µè¨­ã•ã‚ŒãŸã€<span class="ascii">Haskell</span>ã®å®Ÿè£…è€…ã®ãŸã‚ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã§ã™ã€‚<br />
åå‰ã®é€šã‚Šã€<span class="ascii">GHC</span>ã‚’ã¯ã˜ã‚ã¨ã™ã‚‹<span class="ascii">Haskell</span>ã®å‡¦ç†ç³»<small>ï¼ˆã‚ã‚‹ã„ã¯ã€<span class="ascii">Haskell</span>ã§å®Ÿè£…ã•ã‚ŒãŸè¨€èªå‡¦ç†ç³»ï¼‰</small>ã®å®Ÿè£…ã«é–¢ã™ã‚‹ç™ºè¡¨ã ã‘ã§ãªãã€ã‹ãªã‚Šç·©ã„ãƒ†ãƒ¼ãƒã®<span class="ascii">Lightning Talk</span>ã®æ™‚é–“ãŒã‚ã£ãŸã‚Šã€<span class="ascii">GHC</span>ã®å°†æ¥ã®æ–¹å‘æ€§ã«ã¤ã„ã¦è‡ªç”±ã«è­°è«–ã™ã‚‹æ™‚é–“ã‚‚ã‚ã£ãŸã‚Šã—ã¾ã—ãŸã€‚</p>
<p>ä»Šå›ã¯ãã®ã†ã¡ã€æ²é¡Œã®ã¨ãŠã‚Šã€Œ<span class="ascii">HIW 2019</span>ã§ç™ºè¡¨ã•ã‚ŒãŸã€<span class="ascii">GHC 8.8</span>ã§å°å…¥ã•ã‚ŒãŸæ©Ÿèƒ½ã€ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ã¾ãšã¯ã€Œ<span class="ascii">HIE files in GHC 8.8</span>ã€ã‹ã‚‰ã€‚</p>
<h1 id="hie-files-in-ghc-8.8"><span class="link-to-here-outer"><a href="#hie-files-in-ghc-8.8" title="hie-files-in-ghc-8.8"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">HIE files in GHC 8.8</span></h1>
<p>ç™ºè¡¨è€…<span class="ascii">: Zubin Duggal, Matthew Pickering</span> <em><span class="ascii">University of Bristol</span></em></p>
<p><span class="ascii">GHC 8.8</span>ã§æ–°ãŸã«è¿½åŠ ã•ã‚ŒãŸã€<span class="ascii">HIE</span><small>ï¼ˆã€Œ<span class="ascii">Haskell Interface Extended</span>ã€ã®ç•¥ã¨æ€ã‚ã‚Œã¾ã™ï¼‰</small>ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã®ç™ºè¡¨ã§ã™ã€‚<br />
ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«<span class="ascii">GHC</span>ãŒå¾—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®æƒ…å ±ã‚’ã€<a href="https://github.com/haskell/haskell-ide-engine"><span class="ascii">Haskell IDE Engine</span></a>ãªã©ã®<span class="ascii">IDE</span>ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒå†åˆ©ç”¨ã—ã‚„ã™ã„å½¢ã§å‡ºåŠ›ã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚<br />
å¾“æ¥<span class="ascii">Haskell IDE Engine</span><small>ï¼ˆãã®è£ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹<span class="ascii">ghc-mod</span>ï¼‰</small>ã‚„<a href="https://github.com/ndmitchell/ghcid"><span class="ascii">ghcid</span></a>ã€<a href="https://github.com/chrisdone/intero"><span class="ascii">intero</span></a>ãªã©ã®ã€ã€Œ<span class="ascii">IDE</span>ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã€<small>ï¼ˆã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ãŒå…¥åŠ›ã®è£œå®Œã‚„å…¥åŠ›ã—ãŸã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã«ãŠã‘ã‚‹ã‚¨ãƒ©ãƒ¼ã‚’è¡¨ç¤ºã™ã‚‹éš›ã«é€šä¿¡ã™ã‚‹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ï¼‰</small>ã¯ã€è‡ªå‰ã§<span class="ascii">GHC API</span>ã‚„<span class="ascii">GHCi</span>ã‚’å‘¼ã¶ã“ã¨ã§ã€å‹ãƒã‚§ãƒƒã‚¯ã—ãŸã‚Šå®šç¾©ã‚¸ãƒ£ãƒ³ãƒ—ã«å¿…è¦ãªä½ç½®æƒ…å ±ã‚’åé›†ã—ãŸã‚Šã—ã¦ã„ãŸã®ã§ã™ãŒã€ãã†ã—ãŸæƒ…å ±ã®åé›†ã‚’ã™ã¹ã¦<span class="ascii">GHC</span>è‡ªèº«ãŒ<span class="ascii">HIE</span>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡ºåŠ›ã™ã‚‹ã“ã¨ã§è³„ãˆã‚‹ã‚ˆã†ã«ãªã‚‹ã€ã¨ã„ã†ã“ã¨ã§ã™ã€‚</p>
<p>ç§ã¯å¾“æ¥é–‹ç™ºä¸­ã€<code>stack test --pedantic --file-watch</code>ãªã©ã¨<span class="ascii">Neovim</span>ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«æ©Ÿèƒ½ã§å®Ÿè¡Œã—ã¦å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¤ã¤ã€<span class="ascii">HIE</span>ã«ã‚¨ãƒ©ãƒ¼ã®è¡¨ç¤ºã‚„å…¥åŠ›ã®è£œå®Œã‚’ã•ã›ã¦ã„ãŸã®ã§ã™ãŒã€ãã®éš›ã‚‚äºŒé‡ã«ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãŒè§£æã•ã‚Œã¦ã„ãŸã‚“ã§ã™ã­ï¼<br />
ç§ãŒãã®ã‚ˆã†ã«ã‚ã–ã‚ã–<code>stack test</code>ã¨<span class="ascii">HIE</span>ã‚’ä¸¦è¡Œã—ã¦å®Ÿè¡Œã•ã›ã¦ã„ã‚‹ã®ã¯ã€<span class="ascii">HIE</span>ãŒã—ã°ã—ã°ãƒ•ãƒªãƒ¼ã‚ºã—ã¦ã—ã¾ã£ãŸã‚Š<small>ï¼ˆ<span class="ascii">Neovim</span>ã”ã¨å†èµ·å‹•ã™ã‚Œã°ç›´ã‚‹ã“ã¨ã‚‚å¤šã„ã‚“ã§ã™ãŒâ€¦ğŸ˜°ï¼‰</small>ã€<span class="ascii">HIE</span>ã ã‘ã§ã¯å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆã‚„ãƒ†ã‚¹ãƒˆã®å®Ÿè¡ŒãŒã§ããªã„ã€ã¨ã„ã†ç†ç”±ãŒã‚ã‚‹ãŸã‚ã§ã™ã€‚<br />
<code>stack test</code>ã ã‘ã§<span class="ascii">HIE</span>ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Œã°ã€ã‚¨ãƒ©ãƒ¼ã«é–¢ã™ã‚‹æƒ…å ±ã‚„ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®è§£æçµæœã¨ã„ã£ãŸæƒ…å ±ãŒä¸€å…ƒåŒ–ã•ã‚Œã‚‹ã®ã§ã€ã‚ˆã‚Šå®‰å®šçš„ã«ã€ã‚ˆã‚Šå°‘ãªã„ãƒªã‚½ãƒ¼ã‚¹ã§<span class="ascii">HIE</span>ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚‹ã§ã—ã‚‡ã†ã€‚æœ¬å®¶<span class="ascii">Haskell IDE Engine</span>ãŒã‚µãƒãƒ¼ãƒˆã™ã‚‹æ—¥ãŒæ¥½ã—ã¿ã§ã™ã€‚</p>
<p>ã“ã®ã€<span class="ascii">HIE</span>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ©ç”¨ã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¾‹ã‚‚ç´¹ä»‹ã•ã‚Œã¾ã—ãŸã€‚<br />
<a href="https://github.com/wz1000/hie-lsp"><span class="ascii">hie-lsp</span></a>ã¨ã„ã†å°ã•ãª<span class="ascii">Language Server Protocol</span>ã®å®Ÿè£…ã«åŠ ãˆã€<a href="https://github.com/mpickering/hie-lsif"><span class="ascii">hie-lsif</span></a>ã¨ã„ã†ã€<span class="ascii">HIE</span>ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã€Œ<a href="https://github.com/microsoft/language-server-protocol/blob/master/indexFormat/specification.md"><span class="ascii">Language Server Index Format (LSIF)</span></a>ã€å½¢å¼ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ãŒå°è±¡çš„ã§ã—ãŸã€‚<br />
ã“ã®<span class="ascii">LSIF</span>ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ä¾‹ãˆã°<span class="ascii">GitHub</span>ã®ãƒªãƒã‚¸ãƒˆãƒªä¸Šã§ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’é–²è¦§ã™ã‚‹éš›ã«ã‚‚ã€å®šç¾©ã‚¸ãƒ£ãƒ³ãƒ—ã¨ã„ã£ãŸä¾¿åˆ©ãªæ©Ÿèƒ½ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚ãƒªãƒã‚¸ãƒˆãƒªã«ç½®ã„ãŸã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’å‡¦ç†ç³»ãŒã©ã®ã‚ˆã†ã«è§£é‡ˆã—ãŸã‹ã‚’ä¿å­˜ã—ã¦ãŠãã“ã¨ã§ã€<span class="ascii">Language Server</span>ã¯ã˜ã‚å‡¦ç†ç³»ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãªãåˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã‚‚ã®ã ãã†ã§ã™ã€‚<br />
ç¾çŠ¶ã¯ä»•æ§˜ç­–å®šä¸­ãªãŸã‚ã‹ã€å®Ÿéš›ã«<span class="ascii">LSIF</span>ã‚’è§£é‡ˆã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸãŒã€ä»Šå¾Œã®æ´»ç”¨ã«æœŸå¾…ãŒé«˜ã¾ã‚Šã¾ã™ã­ã€‚</p>
<p>åŠ ãˆã¦ã€<span class="ascii">HIE</span>ãƒ•ã‚¡ã‚¤ãƒ«ãŒå°†æ¥çš„ã«ã‚µãƒãƒ¼ãƒˆã—ãŸã„æ©Ÿèƒ½ãªã©ã«ã¤ã„ã¦ã‚‚ç™ºè¡¨ã•ã‚Œã¾ã—ãŸã€‚</p>
<ul>
<li>å‹ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒã€å…·ä½“çš„ã«ã©ã®å‹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¨ã—ã¦è§£æ±ºã•ã‚ŒãŸã‹ã®å‡ºåŠ›
<ul>
<li>å®šç¾©ã‚¸ãƒ£ãƒ³ãƒ—ã—ãŸã¨ãã«ã€å‹ã‚¯ãƒ©ã‚¹è‡ªèº«ã®å®£è¨€ã§ã¯ãªãã€å®Ÿè£…ã«é£›ã¹ã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚</li>
</ul></li>
<li>å¾“æ¥<span class="ascii">GHC</span>ãŒåˆ†å‰²ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã«ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä¾å­˜æƒ…å ±ã‚’å‡ºåŠ›ã—ã¦ã„ãŸã€Œã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«<small>ï¼ˆ<code>.hi</code>ã¨ã„ã†æ‹¡å¼µå­ã§å‡ºåŠ›ã•ã‚Œã¦ã„ã‚‹ã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰</small>ã€ã¨ã®çµ±åˆ</li>
<li>ã™ã¹ã¦ã®å‹æ¨è«–ã®çµæœ</li>
</ul>
<h1 id="ghc-status-report"><span class="link-to-here-outer"><a href="#ghc-status-report" title="ghc-status-report"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">GHC status report</span></h1>
<p>ç™ºè¡¨è€…<span class="ascii">: Simon Peyton Jones</span> <em><span class="ascii">Microsoft, UK</span></em></p>
<p><span class="ascii">GitLab</span>ã¸ã®ç§»è¡Œã‚„<span class="ascii">Hadrian</span>ã¨å‘¼ã°ã‚Œã‚‹æ–°ã—ã„ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã®å°å…¥ãªã©ã€ã‚¤ãƒ³ãƒ•ãƒ©å‘¨ã‚Šã§ã„ã‚ã„ã‚å¤‰æ›´ãŒã‚ã£ãŸã“ã¨ã‚‚ã‚ã‚Šã€é…ã‚Œã¦ã—ã¾ã„ã¾ã—ãŸãŒ<span class="ascii">GHC 8.8</span>ãŒã‚‚ã†ã™ãå‡ºã‚‹ã‚ˆã€ã¨ã„ã†å†…å®¹ã®ç™ºè¡¨ã§ã—ãŸ<small>ï¼ˆç™ºè¡¨å½“æ™‚ã€‚ã‚‚ã†<a href="https://www.haskell.org/ghc/blog/20190825-ghc-8.8.1-released.html"><span class="ascii">GHC 8.8</span>ã¯ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã„ã¾ã™</a>ï¼‰</small>ã€‚</p>
<p>è¨€åŠã•ã‚ŒãŸä¸»ãªè¿½åŠ æ©Ÿèƒ½ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚</p>
<ul>
<li><a href="https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/glasgow_exts.html#extension-TypeApplications"><code>TypeApplications</code></a>ã¨ã„ã†è¨€èªæ‹¡å¼µãŒã€å‹å¤‰æ•°ã ã‘ã§ãªãã‚«ã‚¤ãƒ³ãƒ‰å¤‰æ•°ã«å¯¾ã—ã¦ã‚‚é©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚<br />
æ­£ç›´ã«è¨€ã£ã¦ã€å€‹äººçš„ã«ä½¿ã„ã©ã“ã‚ãŒã¾ã ã¾ã ãªã•ãã†ãªæ©Ÿèƒ½ã§ã¯ã‚ã‚Šã¾ã™ãŒâ€¦ã€‚</li>
<li><p><a href="https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/glasgow_exts.html#extension-ScopedTypeVariables"><code>ScopedTypeVariables</code></a>ã¨ã„ã†è¨€èªæ‹¡å¼µã‚’ä½¿ã£ãŸå ´åˆã«ã€ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã—ãŸå¤‰æ•°ã«å‹æ³¨é‡ˆã‚’ä»˜ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€ã¨ã„ã†æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã—ã¦ã€ã“ã‚ŒãŒæ‹¡å¼µã•ã‚Œã¾ã—ãŸã€‚<br />
å…·ä½“çš„ã«ã¯ã€å¾“æ¥ä¸‹è¨˜ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã§ã€é–¢æ•°è‡ªä½“ã®å‹æ³¨é‡ˆã«ã‚ã‚‹å‹å¤‰æ•°<code>a</code>ã¨ã€ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã—ãŸå¤‰æ•°<code>x</code>ã«å‹æ³¨é‡ˆã—ãŸ<code>b</code>ãŒç­‰ã—ããªã‚‹ã‚ˆã†ã«æ›¸ãã“ã¨ãŒã§ããŸã®ã‚’ã€</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb1-1" title="1"><span class="ot">f ::</span> <span class="kw">forall</span> a<span class="op">.</span> <span class="dt">Maybe</span> a <span class="ot">-&gt;</span> <span class="dt">Int</span></a>
<a class="sourceLine" id="cb1-2" title="2">f (<span class="dt">Just</span> (<span class="ot">x ::</span> b)) <span class="ot">=</span> <span class="co">{- ... -}</span></a></code></pre></div>
<p>ã•ã‚‰ã«æ‹¡å¼µã—ã¦ã€é–¢æ•°è‡ªä½“ã®å‹æ³¨é‡ˆã«ã‚ã‚‹å‹å¤‰æ•°<strong>ã§ã¯ãªã„</strong><code>Int</code>ã¨ã€ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã—ãŸå¤‰æ•°<code>x</code>ã«å‹æ³¨é‡ˆã—ãŸ<code>b</code>ãŒç­‰ã—ããªã‚‹ã‚ˆã†ã«æ›¸ãã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ã—ãŸã€ã¨ã„ã†æ‹¡å¼µã§ã™ã€‚<br />
ã‚ãŸã‹ã‚‚å‹å¤‰æ•°ã§ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã—ã¦ã„ã‚‹ã‹ã®ã‚ˆã†ã§ã™ã­ã€‚</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb2-1" title="1"><span class="ot">f ::</span> <span class="dt">Maybe</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span></a>
<a class="sourceLine" id="cb2-2" title="2">f (<span class="dt">Just</span> (<span class="ot">x ::</span> b)) <span class="ot">=</span> <span class="co">{- ... -}</span></a></code></pre></div>
<p>ä¸€ä½“ä½•ã®å½¹ã«ç«‹ã¤ã®ï¼Ÿã¨ã‚‚æ€ã„ã¾ã—ãŸãŒã€<a href="https://github.com/ghc-proposals/ghc-proposals/blob/master/proposals/0128-scoped-type-variables-types.rst#128motivation">ã“ã®ä¿®æ­£ã«å‘ã‘ãŸææ¡ˆ</a>æ›°ãã€</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb3-1" title="1"><span class="ot">f ::</span> <span class="dt">ReallyReallyReallyReallyLongTypeName</span> <span class="ot">-&gt;</span> <span class="dt">T</span></a>
<a class="sourceLine" id="cb3-2" title="2">f (<span class="ot">x ::</span> a) <span class="ot">=</span> â€¦ (<span class="fu">read</span> <span class="st">&quot;&quot;</span><span class="ot"> ::</span> a) â€¦</a></code></pre></div>
<p>ã¨æ›¸ãã“ã¨ã§ã€é•·ã„å‹åã«å¯¾ã—ã¦åˆ¥åã‚’ä»˜ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€ã¨ã„ã†ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ãã†ã§ã™ã€‚ãªã‚‹ã»ã©ğŸ’¡</p></li>
</ul>
<h1 id="ã¨ã‚Šã‚ãˆãšä»Šå›ã¯ã“ã“ã¾ã§"><span class="link-to-here-outer"><a href="#ã¨ã‚Šã‚ãˆãšä»Šå›ã¯ã“ã“ã¾ã§" title="ã¨ã‚Šã‚ãˆãšä»Šå›ã¯ã“ã“ã¾ã§"><span class="link-to-here">Link to<br />
here</span></a></span>ã¨ã‚Šã‚ãˆãšä»Šå›ã¯ã“ã“ã¾ã§</h1>
<p>ãƒ†ãƒ¼ãƒã‚’çµã£ã¦çŸ­ã„è¨˜äº‹ã«ã—ãŸæ–¹ãŒ<span class="ascii">SEO</span>çš„ã«ã„ã„ã‚“ã˜ã‚ƒãªã„ã‹ã¨æ€ã„ã¾ã—ã¦ã€ä»Šå›ã¯æ•¢ãˆã¦ç´¹ä»‹ã™ã‚‹ç™ºè¡¨ã‚’çµã‚Šã¾ã—ãŸã€‚<br />
ä»Šå¾Œã¯ä¸‹è¨˜ã®ãƒ†ãƒ¼ãƒã«ã¤ã„ã¦ç´¹ä»‹ã™ã‚‹äºˆå®šã§ã™ã€‚</p>
<ul>
<li><span class="ascii">HIW 2019</span>ã§ç™ºè¡¨ã•ã‚ŒãŸã€ã“ã‚Œã‹ã‚‰ã®<span class="ascii">GHC</span>ã«å…¥ã‚‹ã§ã‚ã‚ã†æ©Ÿèƒ½</li>
<li><span class="ascii">HIW 2019</span>ã§ç™ºè¡¨ã•ã‚ŒãŸã€<span class="ascii">GHC</span>ä»¥å¤–ã®è¨€èªå‡¦ç†ç³»</li>
</ul>
<p>ã¾ãŸã€<span class="ascii">HIW</span>ã¨åŒã˜ã<span class="ascii">ICFP 2019</span>ã«ä½µè¨­ã—ã¦é–‹å‚¬ã•ã‚ŒãŸã€<a href="https://icfp19.sigplan.org/home/haskellsymp-2019"><span class="ascii">Haskell Symposium 2019</span></a>ã®ç™ºè¡¨ã«ã¤ã„ã¦ã‚‚åˆ¥é€”å…±æœ‰ã™ã‚‹äºˆå®šã§ã™ã€‚<br />
ä¹ã†ã”æœŸå¾…ã€‚<br />
<span class="ascii">hask(_ _)eller</span></p>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
                <i class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="margin-right: 5px;"></i>
                <a href="/posts/2019/hiw-ghc-future.html" lang="ja">HIW 2019ã§ç™ºè¡¨ã•ã‚ŒãŸã€GHC 8.10ã«å°å…¥ã•ã‚Œã‚‹ã§ã‚ã‚ã†æ©Ÿèƒ½</a>
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/2019/fallible.html" style="margin-left: auto;" lang="ja">fallibleã¨ã„ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒªãƒªãƒ¼ã‚¹ã—ã¾ã—ãŸ</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>
<entry>
    <title>fallibleã¨ã„ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒªãƒªãƒ¼ã‚¹ã—ã¾ã—ãŸ</title>
    <link href="https://haskell.jp/blog/posts/2019/fallible.html" />
    <id>https://haskell.jp/blog/posts/2019/fallible.html</id>
    <published>2019-07-18T00:00:00Z</published>
    <updated>2019-07-18T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <hr />
<p>ã‚¿ã‚¤ãƒˆãƒ«ã®é€šã‚Šã€<span class="ascii">fallible</span>ã¨ã„ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚</p>
<ul>
<li><a href="https://github.com/matsubara0507/fallible"><span class="ascii">matsubara0507/fallible: interface for fallible data type like Maybe and Either. - GitHub</span></a></li>
</ul>
<p>ã¡ãªã¿ã«ã€<span class="ascii">fallible</span>ã¯<span class="ascii">Haskell-jp Slack</span>ã§<span class="ascii">:</span></p>
<p><img src="../../img/2019/fallible/slack.jpg" style="width: 100%;"></p>
<p>ã¨è³ªå•ã—ãŸã¨ã“ã‚ã€è©²å½“ã™ã‚‹ã‚ˆã†ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ç„¡ã•ãã†ã ã£ãŸã®ã§ä½œã£ãŸã¨ã„ã†çµŒç·¯ãŒã‚ã‚Šã¾ã™ã€‚ ãã®éš›ã«åŠ©è¨€ã‚’ãã‚ŒãŸ <a href="https://github.com/fumieval"><span class="ascii">fumieval</span></a>æ°ã®ã‚³ãƒ¼ãƒ‰ã‚’ã»ã¨ã‚“ã©å¼•ç”¨ã—ãŸå½¢ã«ãªã£ãŸã®ã§ã€<span class="ascii">Haskell-jp Blog</span>ã«ç´¹ä»‹è¨˜äº‹ã‚’è¼‰ã›ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸ<span class="ascii">(</span>åƒ•ã¯æ™®æ®µã€è‡ªåˆ†ã®ãƒ–ãƒ­ã‚°ã«è‡ªä½œã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ›¸ã„ã¦ã„ã¾ã™<span class="ascii">)</span>ã€‚</p>
<div id="table-of-contents-outer">
<div id="table-of-contents">
<div class="table-of-contents-title">
Contents
</div>
<ul>
<li><a href="#fallibleãƒ‘ãƒƒã‚±ãƒ¼ã‚¸" title="fallibleãƒ‘ãƒƒã‚±ãƒ¼ã‚¸"><span class="ascii">fallible</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸</a>
<ul>
<li><a href="#ã‚„ã£ã¦ã‚‹ã“ã¨" title="ã‚„ã£ã¦ã‚‹ã“ã¨">ã‚„ã£ã¦ã‚‹ã“ã¨</a></li>
<li><a href="#åŸºæœ¬æ¼”ç®—å­" title="åŸºæœ¬æ¼”ç®—å­">åŸºæœ¬æ¼”ç®—å­</a></li>
</ul></li>
<li><a href="#ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰" title="ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰">ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰</a></li>
<li><a href="#ä½¿ã„æ–¹" title="ä½¿ã„æ–¹">ä½¿ã„æ–¹</a></li>
<li><a href="#ãŠã—ã¾ã„" title="ãŠã—ã¾ã„">ãŠã—ã¾ã„</a></li>
</ul>
</div>
</div>
<h2 id="fallibleãƒ‘ãƒƒã‚±ãƒ¼ã‚¸"><span class="link-to-here-outer"><a href="#fallibleãƒ‘ãƒƒã‚±ãƒ¼ã‚¸" title="fallibleãƒ‘ãƒƒã‚±ãƒ¼ã‚¸"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">fallible</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸</h2>
<p><span class="ascii">Haskell</span>ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¨˜è¿°ã—ã¦ã‚‹ã¨æ¬¡ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã“ã¨ãŒã‚ã‚Šã¾ã™ã‚ˆã­ï¼Ÿ</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">import</span> <span class="kw">qualified</span> <span class="dt">Data.List</span> <span class="kw">as</span> <span class="dt">L</span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="ot">run ::</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">Token</span> <span class="ot">-&gt;</span> <span class="dt">Bool</span> <span class="ot">-&gt;</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb1-4" title="4">run targetName token verbose <span class="ot">=</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb1-5" title="5">  users <span class="ot">&lt;-</span> getUsers token</a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="kw">case</span> users <span class="kw">of</span></a>
<a class="sourceLine" id="cb1-7" title="7">    <span class="dt">Left</span> err <span class="ot">-&gt;</span> logDebug&#39; err</a>
<a class="sourceLine" id="cb1-8" title="8">    <span class="dt">Right</span> us <span class="ot">-&gt;</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb1-9" title="9">      <span class="kw">case</span> userId <span class="op">&lt;$&gt;</span> L.find isTarget us <span class="kw">of</span></a>
<a class="sourceLine" id="cb1-10" title="10">        <span class="dt">Nothing</span>  <span class="ot">-&gt;</span> logDebug&#39; emsg</a>
<a class="sourceLine" id="cb1-11" title="11">        <span class="dt">Just</span> tid <span class="ot">-&gt;</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb1-12" title="12">          channels <span class="ot">&lt;-</span> getChannels token</a>
<a class="sourceLine" id="cb1-13" title="13">          <span class="kw">case</span> channels <span class="kw">of</span></a>
<a class="sourceLine" id="cb1-14" title="14">            <span class="dt">Left</span> err  <span class="ot">-&gt;</span> logDebug&#39; err</a>
<a class="sourceLine" id="cb1-15" title="15">            <span class="dt">Right</span> chs <span class="ot">-&gt;</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb1-16" title="16">              <span class="kw">let</span> chs&#39; <span class="ot">=</span> <span class="fu">filter</span> (<span class="fu">elem</span> tid <span class="op">.</span> channelMembers) chs</a>
<a class="sourceLine" id="cb1-17" title="17">              <span class="fu">mapM_</span> (logDebug&#39; <span class="op">.</span> channelName) chs&#39;</a>
<a class="sourceLine" id="cb1-18" title="18">  <span class="kw">where</span></a>
<a class="sourceLine" id="cb1-19" title="19">    logDebug&#39; <span class="ot">=</span> logDebug verbose</a>
<a class="sourceLine" id="cb1-20" title="20">    emsg <span class="ot">=</span> <span class="st">&quot;user not found: &quot;</span> <span class="op">++</span> targetName</a>
<a class="sourceLine" id="cb1-21" title="21">    isTarget user <span class="ot">=</span> userName user <span class="op">==</span> targetName</a>
<a class="sourceLine" id="cb1-22" title="22"></a>
<a class="sourceLine" id="cb1-23" title="23"><span class="ot">logDebug ::</span> <span class="dt">Bool</span> <span class="ot">-&gt;</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb1-24" title="24">logDebug verbose msg <span class="ot">=</span> <span class="kw">if</span> verbose <span class="kw">then</span> <span class="fu">putStrLn</span> msg <span class="kw">else</span> <span class="fu">pure</span> ()</a></code></pre></div>
<p><span class="ascii">Slack</span>ã®ã‚ˆã†ãªãƒãƒ£ãƒƒãƒˆãƒ„ãƒ¼ãƒ«ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ã¦ãã ã•ã„ã€‚ è©²å½“ã®åå‰<span class="ascii">(</span><code>targetName</code><span class="ascii">)</span>ã‚’æŒã¤ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä¸ãˆã‚‹ã¨ã€ãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå‚åŠ ã—ã¦ã„ã‚‹ãƒãƒ£ãƒ³ãƒãƒ«ã®ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹ã¨ã„ã†ã‚ˆã†ãªæŒ¯ã‚‹èˆã„ã§ã™ã€‚ ã“ã†æ®µã€…ã«ãªã£ã¦ã—ã¾ã†ã®ã¯æ°—æŒã¡æ‚ªã„ã§ã™ã‚ˆã­ã€‚ <span class="ascii">fallible</span>ã®ç›®çš„ã¯ã“ã®æ®µã€…ã‚’æ¬¡ã®ã‚ˆã†ã«å¹³å¦ã«ã™ã‚‹ã“ã¨ã§ã™<span class="ascii">(</span><code>where</code> ãªã©ã¯å‰²æ„›<span class="ascii">):</span></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">import</span> <span class="dt">Data.Fallible</span> (evalContT, exit, lift, (!?=), (???))</a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="ot">run ::</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">Token</span> <span class="ot">-&gt;</span> <span class="dt">Bool</span> <span class="ot">-&gt;</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb2-4" title="4">run targetName token verbose <span class="ot">=</span> evalContT <span class="op">$</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb2-5" title="5">  users    <span class="ot">&lt;-</span> lift (getUsers token) <span class="op">!?=</span> exit <span class="op">.</span> logDebug&#39;</a>
<a class="sourceLine" id="cb2-6" title="6">  targetId <span class="ot">&lt;-</span> userId <span class="op">&lt;$&gt;</span> L.find isTarget users <span class="op">???</span> exit (logDebug&#39; emsg)</a>
<a class="sourceLine" id="cb2-7" title="7">  channels <span class="ot">&lt;-</span> lift (getChannels token) <span class="op">!?=</span> exit <span class="op">.</span> logDebug&#39;</a>
<a class="sourceLine" id="cb2-8" title="8">  lift <span class="op">$</span> <span class="fu">mapM_</span> (logDebug&#39; <span class="op">.</span> channelName) <span class="op">$</span></a>
<a class="sourceLine" id="cb2-9" title="9">    <span class="fu">filter</span> (<span class="fu">elem</span> targetId <span class="op">.</span> channelMembers) channels</a></code></pre></div>
<h3 id="ã‚„ã£ã¦ã‚‹ã“ã¨"><span class="link-to-here-outer"><a href="#ã‚„ã£ã¦ã‚‹ã“ã¨" title="ã‚„ã£ã¦ã‚‹ã“ã¨"><span class="link-to-here">Link to<br />
here</span></a></span>ã‚„ã£ã¦ã‚‹ã“ã¨</h3>
<p>ã¨ã„ã†ã‹ã€ã‚‚ã¨ã‚‚ã¨ã®ã‚¢ã‚¤ãƒ‡ã‚¢ã¯ä¸‹è¨˜ã®ãƒ–ãƒ­ã‚°ã§ã™<span class="ascii">:</span></p>
<ul>
<li><a href="https://haskell.e-bigmoon.com/posts/2018/06-26-cont-param.html"><span class="ascii">ContT</span> ã‚’ä½¿ã£ã¦ã‚³ãƒ¼ãƒ‰ã‚’ç¶ºéº—ã«ã—ã‚ˆã†ï¼ <span class="ascii">- BIGMOON Haskeller</span>â€™<span class="ascii">s BLOG</span></a></li>
</ul>
<p>ã“ã‚Œã‚’ä¸€èˆ¬åŒ–<span class="ascii">(</span><code>Maybe a</code> å›ºæœ‰ã§ã¯ãªã <code>Either e a</code> ã§ã‚‚ä½¿ã†<span class="ascii">)</span>ã§ããªã„ã‹ãªãã¨ã„ã†ã®ãŒã‚‚ã¨ã‚‚ã¨ã®ç™ºæƒ³ã§ã™ã€‚</p>
<h3 id="åŸºæœ¬æ¼”ç®—å­"><span class="link-to-here-outer"><a href="#åŸºæœ¬æ¼”ç®—å­" title="åŸºæœ¬æ¼”ç®—å­"><span class="link-to-here">Link to<br />
here</span></a></span>åŸºæœ¬æ¼”ç®—å­</h3>
<p>æ¬¡ã®<span class="ascii">4</span>ã¤ã®æ¼”ç®—å­ã‚’åˆ©ç”¨ã—ã¾ã™<span class="ascii">:</span></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb3-1" title="1"><span class="ot">(!?=) ::</span> <span class="dt">Monad</span> m <span class="ot">=&gt;</span> m (<span class="dt">Either</span> e a) <span class="ot">-&gt;</span> (e <span class="ot">-&gt;</span> m a) <span class="ot">-&gt;</span> m a</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="ot">(!??) ::</span> <span class="dt">Monad</span> m <span class="ot">=&gt;</span> m (<span class="dt">Maybe</span> a) <span class="ot">-&gt;</span> m a <span class="ot">-&gt;</span> m a</a>
<a class="sourceLine" id="cb3-3" title="3"><span class="ot">(??=) ::</span> <span class="dt">Applicative</span> f <span class="ot">=&gt;</span> <span class="dt">Either</span> e a <span class="ot">-&gt;</span> (e <span class="ot">-&gt;</span> f a) <span class="ot">-&gt;</span> f a</a>
<a class="sourceLine" id="cb3-4" title="4"><span class="ot">(???) ::</span> <span class="dt">Applicative</span> f <span class="ot">=&gt;</span> <span class="dt">Maybe</span> a <span class="ot">-&gt;</span> f a <span class="ot">-&gt;</span> f a</a></code></pre></div>
<p>ãŸã ã—ã€å†…éƒ¨å®Ÿè£…çš„ã«ã¯ <code>Maybe a</code> ã‚„ <code>Either e a</code> ã¯ <code>Fallible</code> å‹ã‚¯ãƒ©ã‚¹ã§ä¸€èˆ¬åŒ–ã•ã‚Œã¦ã„ã¾ã™<span class="ascii">:</span></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">class</span> <span class="dt">Applicative</span> f <span class="ot">=&gt;</span> <span class="dt">Fallible</span> f <span class="kw">where</span></a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="kw">type</span> <span class="dt">Failure</span><span class="ot"> f ::</span> <span class="op">*</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="ot">  tryFallible ::</span> f a <span class="ot">-&gt;</span> <span class="dt">Either</span> (<span class="dt">Failure</span> f) a</a>
<a class="sourceLine" id="cb4-4" title="4"></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="kw">instance</span> <span class="dt">Fallible</span> <span class="dt">Maybe</span> <span class="kw">where</span></a>
<a class="sourceLine" id="cb4-6" title="6">  <span class="kw">type</span> <span class="dt">Failure</span> <span class="dt">Maybe</span> <span class="ot">=</span> ()</a>
<a class="sourceLine" id="cb4-7" title="7">  tryFallible <span class="ot">=</span> <span class="fu">maybe</span> (<span class="dt">Left</span> ()) <span class="dt">Right</span></a>
<a class="sourceLine" id="cb4-8" title="8"></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="kw">instance</span> <span class="dt">Fallible</span> (<span class="dt">Either</span> e) <span class="kw">where</span></a>
<a class="sourceLine" id="cb4-10" title="10">  <span class="kw">type</span> <span class="dt">Failure</span> (<span class="dt">Either</span> e) <span class="ot">=</span> e</a>
<a class="sourceLine" id="cb4-11" title="11">  tryFallible <span class="ot">=</span> <span class="fu">id</span></a>
<a class="sourceLine" id="cb4-12" title="12"></a>
<a class="sourceLine" id="cb4-13" title="13"><span class="ot">(!?=) ::</span> (<span class="dt">Monad</span> m, <span class="dt">Fallible</span> t) <span class="ot">=&gt;</span> m (t a) <span class="ot">-&gt;</span> (<span class="dt">Failure</span> t <span class="ot">-&gt;</span> m a) <span class="ot">-&gt;</span> m a</a>
<a class="sourceLine" id="cb4-14" title="14"><span class="ot">(???) ::</span> (<span class="dt">Applicative</span> f, <span class="dt">Fallible</span> t) <span class="ot">=&gt;</span> t a <span class="ot">-&gt;</span> f a <span class="ot">-&gt;</span> f a</a></code></pre></div>
<p>ã“ã‚Œã‚‰ã‚’ç¶™ç¶šãƒ¢ãƒŠãƒ‰ã¨çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§<span class="ascii">IO</span>ã¨å¤±æ•—ç³»ãƒ¢ãƒŠãƒ‰<span class="ascii">(</span><code>Maybe a</code> ã‚„ <code>Either e a</code><span class="ascii">)</span>ã‚’ã€ãƒ¢ãƒŠãƒ‰ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒãƒ¼ãªã—ã«<span class="ascii">Do</span>è¨˜æ³•ã§æ›¸ãã“ã¨ãŒã§ãã¾ã™ï¼</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb5-1" title="1"><span class="co">-- ç¶™ç¶šãƒ¢ãƒŠãƒ‰ã«é–¢ã™ã‚‹é–¢æ•°</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="ot">evalConstT ::</span> <span class="dt">Monad</span> m <span class="ot">=&gt;</span> <span class="dt">ContT</span> r m r <span class="ot">-&gt;</span> m r</a>
<a class="sourceLine" id="cb5-3" title="3"></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="ot">exit ::</span> m r <span class="ot">-&gt;</span> <span class="dt">ContT</span> r m a</a>
<a class="sourceLine" id="cb5-5" title="5">exit <span class="ot">=</span> <span class="dt">ContT</span> <span class="op">.</span> <span class="fu">const</span></a></code></pre></div>
<h2 id="ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰"><span class="link-to-here-outer"><a href="#ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰" title="ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰"><span class="link-to-here">Link to<br />
here</span></a></span>ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰</h2>
<p>ç–‘ä¼¼çš„ãª<span class="ascii">IO</span>ã§è‰¯ã„ãªã‚‰<a href="https://github.com/matsubara0507/fallible/tree/master/example"><span class="ascii">fallible</span>ãƒªãƒã‚¸ãƒˆãƒªã®<span class="ascii">example</span>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª</a>ã«ã‚ã‚Šã¾ã™<span class="ascii">(</span>ä¸Šè¿°ã®ä¾‹ã¯ãã‚Œã§ã™<span class="ascii">)</span>ã€‚</p>
<p>å®Ÿéš›ã®åˆ©ç”¨ä¾‹ã§ã‚ã‚Œã°ã€æœ€è¿‘è‡ªä½œã—ãŸ<a href="https://github.com/matsubara0507/mixlogue"><span class="ascii">matsubara0507/mixlogue</span></a>ã¨ã„ã†<span class="ascii">Haskell</span>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§å¤šç”¨ã—ã¦ã„ã¾ã™<span class="ascii">(</span><a href="https://github.com/matsubara0507/mixlogue/blob/8afd16ab4048ff62976b8e38347078fdaa7417dd/src/Mixlogue/Cmd.hs#L81-L93">ã‚³ã‚³</a>ã¨ã‹<a href="https://github.com/matsubara0507/mixlogue/blob/8afd16ab4048ff62976b8e38347078fdaa7417dd/src/Mixlogue/Message.hs#L15-L25">ã‚³ã‚³</a>ã¨ã‹<span class="ascii">)</span>ã€‚ ã¡ãªã¿ã«ã€<span class="ascii">mixlogue</span>ã¯ç‰¹å®šã®<span class="ascii">Slack</span>ã®åˆ†å ±ãƒãƒ£ãƒ³ãƒãƒ«<span class="ascii">(</span><code>times_hoge</code><span class="ascii">)</span>ã®ç™ºè¨€ã‚’åé›†ã™ã‚‹ã¨ã„ã†ã ã‘ã®ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚</p>
<h2 id="ä½¿ã„æ–¹"><span class="link-to-here-outer"><a href="#ä½¿ã„æ–¹" title="ä½¿ã„æ–¹"><span class="link-to-here">Link to<br />
here</span></a></span>ä½¿ã„æ–¹</h2>
<p><span class="ascii">README</span>ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>
<p>ç¾çŠ¶<span class="ascii">Hackage</span>ã«ã¯ã‚ã’ã¦ãªã„ã®ã§ã€<span class="ascii">stack</span>ã‚„<span class="ascii">Cabal</span>ã§<span class="ascii">GitHub</span>ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰å‚ç…§ã™ã‚‹æ–¹æ³•ã‚’åˆ©ç”¨ã—ã¦ãã ã•ã„ã€‚</p>
<h2 id="ãŠã—ã¾ã„"><span class="link-to-here-outer"><a href="#ãŠã—ã¾ã„" title="ãŠã—ã¾ã„"><span class="link-to-here">Link to<br />
here</span></a></span>ãŠã—ã¾ã„</h2>
<p><span class="ascii">fumieval</span>æ°ã®ã‚³ãƒ¼ãƒ‰ã‚’ã»ã¨ã‚“ã©å¼•ç”¨ã™ã‚‹ã ã‘ã«ãªã£ãŸã®ã§è‡ªåˆ†ã§ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹ã‹è¿·ã£ãŸã‚“ã§ã™ã‘ã©ã€ãƒªãƒªãƒ¼ã‚¹ã—ã¦ãã‚Œã¨ã„ã†ã®ã‚‚ä¸¸æŠ•ã’ãŒã²ã©ã„ã®ã§è‡ªåˆ†ã§ãƒªãƒªãƒ¼ã‚¹ã—ã¾ã—ãŸã€‚ ã¾ãã“ã†ã„ã†çµæœãŒç”Ÿã¾ã‚Œã‚‹ã®ã‚‚<span class="ascii">OSS</span>ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®é†é†å‘³ã¨ã„ã†ã“ã¨ã§ã€‚ <span class="ascii">fumieval</span>æ°ã€ã„ã¤ã‚‚ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’ãã‚Œã¦ã‚ã‚ŠãŒã¨ã†ï¼</p>
<p><span class="ascii">(</span>ã‚‚ã¡ã‚ã‚“ä»–ã®<span class="ascii">Haskell-jp</span>ã®çš†ã•ã‚“ã‚‚ï¼<span class="ascii">)</span></p>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
                <i class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="margin-right: 5px;"></i>
                <a href="/posts/2019/hiw-ghc8.8.html" lang="ja">HIW 2019ã§ç™ºè¡¨ã•ã‚ŒãŸã€GHC 8.8ã§å°å…¥ã•ã‚ŒãŸæ©Ÿèƒ½</a>
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/2019/strip-ansi-escape.html" style="margin-left: auto;" lang="ja">strip-ansi-escapeã¨ã„ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒªãƒªãƒ¼ã‚¹ã—ã¾ã—ãŸ</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>
<entry>
    <title>strip-ansi-escapeã¨ã„ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒªãƒªãƒ¼ã‚¹ã—ã¾ã—ãŸ</title>
    <link href="https://haskell.jp/blog/posts/2019/strip-ansi-escape.html" />
    <id>https://haskell.jp/blog/posts/2019/strip-ansi-escape.html</id>
    <published>2019-07-08T00:00:00Z</published>
    <updated>2019-07-08T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <hr />
<p>ç¾è·ã§<span class="ascii">Haskell</span>ã‚’ä»•äº‹ã§æ›¸ãå§‹ã‚ã‚‹ã‚ˆã†ã«ãªã£ã¦ã‹ã‚‰ã¨ã„ã†ã‚‚ã®ã€åº¦ã€…å°ã•ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚<br />
æ•¢ãˆã¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã™ã‚‹ã»ã©ã®ã‚‚ã®ã§ã‚‚ãªã•ãã†ãªãã‚‰ã„å°ã•ãªã‚‚ã®ãŒå¤šã„ã§ã™ãŒã€ã‚‚ã—å†åˆ©ç”¨ã—ãŸããªã£ãŸã‚‰ãªã€ã¨ã„ã†æ°—æŒã¡ã§æ›¸ã„ã¦ãŠã‚Šã¾ã™ã€‚</p>
<div id="table-of-contents-outer">
<div id="table-of-contents">
<div class="table-of-contents-title">
Contents
</div>
<ul>
<li><a href="#ãªã«ä½œã£ãŸã‹" title="ãªã«ä½œã£ãŸã‹">ãªã«ä½œã£ãŸã‹</a></li>
<li><a href="#ãªãœä½œã£ãŸã‹" title="ãªãœä½œã£ãŸã‹">ãªãœä½œã£ãŸã‹</a></li>
<li><a href="#æœ€è¿‘ã®mmlh" title="æœ€è¿‘ã®mmlh">æœ€è¿‘ã®<span class="ascii">mmlh</span></a></li>
</ul>
</div>
</div>
<h1 id="ãªã«ä½œã£ãŸã‹"><span class="link-to-here-outer"><a href="#ãªã«ä½œã£ãŸã‹" title="ãªã«ä½œã£ãŸã‹"><span class="link-to-here">Link to<br />
here</span></a></span>ãªã«ä½œã£ãŸã‹</h1>
<p><a href="http://hackage.haskell.org/package/strip-ansi-escape"><span class="ascii">strip-ansi-escape</span></a>ã¨ã„ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ã€‚<br />
ä»Šå›ã‚‚ãƒ¡ã‚¤ãƒ³ã®å‡¦ç†ã¯<span class="ascii">100</span>è¡Œã«ã‚‚æº€ãŸãªã„ã‚ˆã†ãªå°ã•ãªã‚‚ã®ã§ã€ã¾ãŸç”¨é€”ã‚‚ãƒ‹ãƒƒãƒã§ã™ã€‚<br />
å…·ä½“çš„ã«ã¯ã€åå‰ã®ã¨ãŠã‚Š<a href="https://en.wikipedia.org/wiki/ANSI_escape_code"><span class="ascii">ANSI</span>ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚³ãƒ¼ãƒ‰</a>ã‚’æ–‡å­—åˆ—ã‹ã‚‰å–ã‚Šé™¤ãã€ãŸã ãã‚Œã ã‘ã§ã™ã€‚<br />
ä½¿ã„æ–¹ã‚‚æ¥µã‚ã¦ã‚·ãƒ³ãƒ—ãƒ«<span class="ascii">:</span></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb1-1" title="1">ghci<span class="op">&gt;</span> <span class="kw">import</span> <span class="dt">Data.String.AnsiEscapeCodes.Strip.Text</span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">-- ç¾çŠ¶Textå‹å‘ã‘ã«ã—ã‹ä½œã£ã¦ã„ãªã„ãŸã‚ã€OverloadedStringsã‚’æœ‰åŠ¹ã«ã—ãŸæ–¹ãŒä½¿ã„ã‚„ã™ã„</span></a>
<a class="sourceLine" id="cb1-4" title="4">ghci<span class="op">&gt;</span> <span class="op">:</span>set <span class="op">-</span><span class="dt">XOverloadedStrings</span></a>
<a class="sourceLine" id="cb1-5" title="5">ghci<span class="op">&gt;</span> <span class="kw">import</span> <span class="dt">Data.Text</span></a>
<a class="sourceLine" id="cb1-6" title="6"></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">-- å‡ºåŠ›ã™ã‚‹ã¨ä¸‹ç·šä»˜ãã§ &quot;hello&quot; ã¨è¡¨ç¤ºã•ã‚Œã‚‹ANSIã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚³ãƒ¼ãƒ‰ä»˜ãã®æ–‡å­—åˆ—</span></a>
<a class="sourceLine" id="cb1-8" title="8">ghci<span class="op">&gt;</span> <span class="st">&quot;\x001B[4mhello\x001B[0m&quot;</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="st">&quot;\ESC[4mhello\ESC[0m&quot;</span></a>
<a class="sourceLine" id="cb1-10" title="10"></a>
<a class="sourceLine" id="cb1-11" title="11">ghci<span class="op">&gt;</span> stripAnsiEscapeCodes <span class="st">&quot;\x001B[4mhello\x001B[0m&quot;</span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="st">&quot;hello&quot;</span></a></code></pre></div>
<h1 id="ãªãœä½œã£ãŸã‹"><span class="link-to-here-outer"><a href="#ãªãœä½œã£ãŸã‹" title="ãªãœä½œã£ãŸã‹"><span class="link-to-here">Link to<br />
here</span></a></span>ãªãœä½œã£ãŸã‹</h1>
<p>é€šå¸¸æˆ‘ã€…ãŒ<span class="ascii">ANSI</span>ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚³ãƒ¼ãƒ‰ã‚’æ‰±ã†ã¨ãã¯ã€<strong>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãŸã‚ã«</strong>ç«¯æœ«ã«æ–‡å­—åˆ—ã‚’åˆ†ã‹ã‚Šã‚„ã™ãè¡¨ç¤ºã—ãŸã„ã¨ãã§ã€ãã‚Œã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§å†åˆ©ç”¨ã™ã‚‹ã“ã¨ã¯æƒ³å®šã—ã¦ã„ã¾ã›ã‚“ã€‚<br />
ãã®ãŸã‚<span class="ascii">ANSI</span>ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚³ãƒ¼ãƒ‰ã‚’å‡ºåŠ›ã§ãã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€å¤§æŠµã®å ´åˆå‡ºåŠ›ã—ãªã„ã‚ˆã†è¨­å®šã§ãã‚‹<small>ï¼ˆã‚ã‚‹ã„ã¯ã€å‡ºåŠ›å…ˆãŒ<span class="ascii">tty</span>ã§ãªã„ã“ã¨ã‚’æ¤œå‡ºã—ã¦å‡ºåŠ›ã—ãªã„ï¼‰</small>ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚<br />
ãªã®ã§ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒ<span class="ascii">ANSI</span>ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚³ãƒ¼ãƒ‰ã®æ··ã–ã£ãŸæ–‡å­—åˆ—ã‚’æ‰±ã‚ã–ã‚‹ã‚’å¾—ãªã„ã€ã¨ã„ã†äº‹æ…‹ã¯ã€ä½•ã‹ãŒãŠã‹ã—ã„äº‹æ…‹ã ã¨è¨€ãˆã‚‹ã§ã—ã‚‡ã†ã€‚</p>
<p>ä¸€ä½“ã©ã†ã„ã†äº‹æ…‹ãªã®ã‹ã¨ã„ã†ã¨ã€ãã‚Œã¯ç§ãŒãšã£ã¨é–‹ç™ºä¸­ã®ã€å¯¾è©±çš„<span class="ascii">Haskell</span>å…¥é–€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ â€” <a href="https://github.com/haskell-jp/makeMistakesToLearnHaskell">ã€Œå¤±æ•—ã—ãªãŒã‚‰å­¦ã¶<span class="ascii">Haskell</span>å…¥é–€ã€</a> â€” ã§å‡ºé­ã£ãŸäº‹æ…‹ã§ã—ãŸã€‚<br />
ã€Œå¤±æ•—ã—ãªãŒã‚‰å­¦ã¶<span class="ascii">Haskell</span>å…¥é–€ã€ï¼ˆä»¥ä¸‹ã€è‹±èªåã‚’ç•¥ã—ã¦ã€Œ<span class="ascii">mmlh</span>ã€ã¨å‘¼ã³ã¾ã™ï¼‰ã§ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ›¸ã„ãŸ<span class="ascii">Haskell</span>ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’å—ã‘å–ã£ã¦ã€<span class="ascii">GHC</span>ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã›ã‚‹ã“ã¨ã§ã€å‹ã‚¨ãƒ©ãƒ¼ãªã©ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã—ã¦ã„ã¾ã™ã€‚<br />
å½“åˆã‹ã‚‰<span class="ascii">mmlh</span>ã¯ãã‚Œã‚’ç°¡å˜ã«ãƒ‘ãƒ¼ã‚¹ã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ãƒ’ãƒ³ãƒˆã‚’å‡ºã™ã®ã«ä½¿ã£ãŸã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãã®ã¾ã¾è¡¨ç¤ºã—ãŸã‚Šã™ã‚‹ã®ã«ä½¿ã†ãŸã‚ã€<code>-fdiagnostics-color=always</code>ã¨ã„ã†ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’<span class="ascii">GHC</span>ã«æ¸¡ã—ã¦ã„ã¾ã—ãŸã€‚<br />
ã“ã‚Œã¯ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«è‰²ã‚’ç€ã‘ã‚‹ã‚ˆã†ã«ãªã£ãŸ<span class="ascii">GHC 8.2</span>ã‹ã‚‰å°å…¥ã•ã‚ŒãŸã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã€ã€Œã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å¿…ãš<small>ï¼ˆ<span class="ascii">ANSI</span>ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦ï¼‰</small>è‰²ã‚’ç€ã‘ã‚‹ã€ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚<br />
<span class="ascii">GHC</span>ãŒå‡ºã™ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã€Œç°¡å˜ã«ãƒ‘ãƒ¼ã‚¹ã€ã—ã¤ã¤ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãã®ã¾ã¾è¡¨ç¤ºã€ã™ã‚‹ã€ã¨ã„ã†<span class="ascii">2</span>ã¤ã®è¦ä»¶ã‚’æº€ãŸã™ãŸã‚ã«ã¯ã€ã“ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’åˆ©ç”¨ã—ã¦ã€å¼·åˆ¶çš„ã«ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«è‰²ã‚’ç€ã‘ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚</p>
<p>ã•ã‚‰ã«æœ€è¿‘ã€<span class="ascii">GHC</span>ãŒå‡ºã—ãŸã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã—ã¦ã€<a href="https://github.com/haskell-jp/makeMistakesToLearnHaskell/issues/101"><span class="ascii">GitHub</span>ã§é–²è¦§ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹</a><small>ï¼ˆæ­£ç¢ºã«ã¯ã€é–²è¦§ã—ã¦å„è¡Œã«ã‚³ãƒ¡ãƒ³ãƒˆã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ï¼‰</small>ã€ã¨ã„ã†æ©Ÿèƒ½ã‚‚è¿½åŠ ã—ãŸçµæœã€<span class="ascii">ANSI</span>ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚³ãƒ¼ãƒ‰ã‚’å–ã‚Šé™¤ã‹ã–ã‚‹ã‚’å¾—ãªããªã£ã¦ã—ã¾ã£ãŸã®ã§ã™ã€‚<br />
ã¨ã„ã†ã®ã‚‚ã€<code>-fdiagnostics-color=always</code>ã‚’æœ‰åŠ¹ã«ã—ã¦ã„ã‚‹é™ã‚Šã€<span class="ascii">GHC</span>ã¯å¿…ãš<span class="ascii">ANSI</span>ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚³ãƒ¼ãƒ‰ã‚’ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«æ··ãœã‚‹ã®ã§ã€ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã—ã¦<span class="ascii">GitHub</span>ä¸Šã§è¡¨ç¤ºã™ã‚‹éš›ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ä½™è¨ˆãªæ–‡å­—ã¨ã—ã¦æ··ã–ã£ã¦ã—ã¾ã„ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒèª­ã¿ã¥ã‚‰ããªã£ã¦ã—ã¾ã†ãŸã‚ã§ã™ã€‚</p>
<pre><code>ï¿½[;1m16.hs:19:18: ï¿½[;1mï¿½[31merror:ï¿½[0mï¿½[0mï¿½[;1mï¿½[0mï¿½[0mï¿½[;1m
    â€¢ No instance for (Num ([Char], String))
        arising from a use of â€˜countWordsâ€™
    â€¢ In the expression: countWords (concat wordsList)
      In an equation for â€˜countMapâ€™:
          countMap = countWords (concat wordsList)
      In the expression:
        do paths &lt;- getArgs
           wordsList &lt;- for paths scrapeWords
           let countMap = countWords (concat wordsList)
           for_ (toList countMap) catCountï¿½[0mï¿½[0m
ï¿½[;1mï¿½[34m   |ï¿½[0mï¿½[0m
ï¿½[;1mï¿½[34m19 |ï¿½[0mï¿½[0m   let countMap = ï¿½[;1mï¿½[31mcountWords (concat wordsList)ï¿½[0mï¿½[0m
ï¿½[;1mï¿½[34m   |ï¿½[0mï¿½[0mï¿½[;1mï¿½[31m                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ï¿½[0mï¿½[0m
ï¿½[0mï¿½[0mï¿½[0m</code></pre>
<p><code>-fdiagnostics-color=always</code>ã‚’æœ‰åŠ¹ã«ã—ãªã‘ã‚Œã°ã“ã‚“ãªå•é¡Œã¯èµ·ã“ã‚‰ãªã„ã®ã§ã™ãŒã€ãã†ã™ã‚‹ã¨ä»Šåº¦ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã•ã›ã‚‹éš›ã€è‰²ãŒç€ã‹ãªããªã£ã¦ã—ã¾ã„ã¾ã™ã€‚<br />
ã›ã£ã‹ã<span class="ascii">GHC 8.2</span>ä»¥é™ã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã«è‰²ã¤ãã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¦‹ã‚‰ã‚Œãªã„ã®ã¯æ®‹å¿µã§ã™ã‚ˆã­ã€‚<br />
<span class="ascii">GHC</span>ã‚’<span class="ascii">2</span>å›å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¡¨ç¤ºã™ã‚‹ç”¨ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã™ã‚‹ç”¨ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åˆ†ã‘ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ãŒã€ãã‚Œã§ã¯åŠ¹ç‡ãŒæ‚ªã„ã§ã—ã‚‡ã†ã—ã€‚</p>
<p>ãã‚“ãªã‚ã‘ã§ã€<span class="ascii">GHC</span>ãŒå‡ºåŠ›ã™ã‚‹ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’<strong>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç«¯æœ«ä¸Šã§è¡¨ç¤ºã™ã‚‹ç”¨é€”ã¨ã€<span class="ascii">ANSI</span>ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚³ãƒ¼ãƒ‰ã‚’è§£é‡ˆã—ãªã„ç®‡æ‰€ã§è¡¨ç¤ºã™ã‚‹ç”¨é€”</strong>ã€ä¸¡æ–¹ã«ä½¿ç”¨ã—ãŸããªã£ãŸãŸã‚ã€ä»Šå›æ•¢ãˆã¦<span class="ascii">ANSI</span>ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚³ãƒ¼ãƒ‰ã‚’å–ã‚Šé™¤ããƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¼ã‚’ä½œã‚Šã¾ã—ãŸã€‚<br />
ã‚‚ã—ä»–ã«åŒã˜ã‚ˆã†ãªäº‹æ…‹ã«å‡ºé­ã£ãŸæ–¹ãŒã„ã‚‰ã£ã—ã‚ƒã„ã¾ã—ãŸã‚‰ã€è©¦ã—ã¦ã¿ã¦ãã ã•ã„ğŸ™</p>
<h1 id="æœ€è¿‘ã®mmlh"><span class="link-to-here-outer"><a href="#æœ€è¿‘ã®mmlh" title="æœ€è¿‘ã®mmlh"><span class="link-to-here">Link to<br />
here</span></a></span>æœ€è¿‘ã®<span class="ascii">mmlh</span></h1>
<p>ã¤ã„ã§ã«ã“ã“æ•°ãƒ¶æœˆå¼Šç¤¾ã§ã‚„ã£ã¦ã„ã‚‹ã€<span class="ascii">mmlh</span>ã‚’ä½¿ã£ãŸç¤¾å†…å‹‰å¼·ä¼šã®ãŠè©±ã‚‚æ›¸ã“ã†ã‹ã¨æ€ã„ã¾ã—ãŸãŒã€ã‚„ã£ã±ã‚Šç¤¾å†…ã§ã®ã“ã¨ãªã‚“ã§ã€<a href="https://eng-blog.iij.ad.jp/">ä¼šç¤¾ã®ãƒ–ãƒ­ã‚°</a>ã«æ›¸ãã“ã¨ã«ã—ã¾ã™ã€‚<br />
<del>å¤šåˆ†ä»Šé€±ä¸­ã«ã¯ä¸Šã’ã¾ã™ã®ã§ä¹ã†ã”æœŸå¾…ï¼</del><br />
â¬‡ï¸å¤§åˆ†é…ããªã£ã¦ã—ã¾ã„ã¾ã—ãŸãŒå…¬é–‹ã—ã¾ã—ãŸï¼</p>
<p><a href="https://eng-blog.iij.ad.jp/archives/3467"><span class="ascii">Haskell</span>ç¤¾å†…å‹‰å¼·ä¼šã¨<span class="ascii">Haskell</span>å­¦ç¿’ãƒ„ãƒ¼ãƒ«ã®ç´¹ä»‹ <span class="ascii">| IIJ Engineers Blog</span></a></p>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
                <i class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="margin-right: 5px;"></i>
                <a href="/posts/2019/fallible.html" lang="ja">fallibleã¨ã„ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒªãƒªãƒ¼ã‚¹ã—ã¾ã—ãŸ</a>
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/2019/asterius.html" style="margin-left: auto;" lang="ja">Asteriusã§Haskellã®é–¢æ•°ã‚’JSã‹ã‚‰å‘¼ã¹ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ãŸï¼ˆã‘ã©å¤±æ•—ï¼‰ï¼ˆæ‹¡å¤§ç‰ˆï¼‰</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>
<entry>
    <title>Asteriusã§Haskellã®é–¢æ•°ã‚’JSã‹ã‚‰å‘¼ã¹ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ãŸï¼ˆã‘ã©å¤±æ•—ï¼‰ï¼ˆæ‹¡å¤§ç‰ˆï¼‰</title>
    <link href="https://haskell.jp/blog/posts/2019/asterius.html" />
    <id>https://haskell.jp/blog/posts/2019/asterius.html</id>
    <published>2019-05-04T00:00:00Z</published>
    <updated>2019-05-04T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <hr />
<p>å…ˆæ—¥ã€<a href="https://emsn.connpass.com/event/121028/"><span class="ascii">Emscripten &amp; WebAssembly night !! #7</span></a>ã¨ã„ã†ã‚¤ãƒ™ãƒ³ãƒˆã«ã¦ã€<a href="https://tweag.github.io/asterius/"><span class="ascii">Asterius</span></a>ã¨ã„ã†<span class="ascii">Haskell</span>ã‚’<span class="ascii">WebAssembly</span>ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã«ã¤ã„ã¦ç´¹ä»‹ã„ãŸã—ã¾ã—ãŸã€‚<br />
è³‡æ–™ã¯ã“ã¡ã‚‰ğŸ‘‡ã§ã™ã€‚</p>
<p><a href="https://the.igreque.info/slides/2019-04-19-asterius.html#(1)"><span class="ascii">Asterius</span>ã§<span class="ascii">Haskell</span>ã®é–¢æ•°ã‚’<span class="ascii">JS</span>ã‹ã‚‰å‘¼ã¹ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ãŸï¼ˆã‘ã©å¤±æ•—ï¼‰</a></p>
<p>æœ¬æ—¥ã¯ã€ã‚¹ãƒ©ã‚¤ãƒ‰ã®è‹±èªã§æ›¸ã„ã¦ã„ãŸç®‡æ‰€ã‚’å’Œè¨³ã—ã¤ã¤ã€ã„ã‚ã„ã‚æ•æ‰ã—ã¦ãƒ–ãƒ­ã‚°è¨˜äº‹ã®å½¢ã§å…±æœ‰ã—ã¾ã™ã€‚</p>
<div id="table-of-contents-outer">
<div id="table-of-contents">
<div class="table-of-contents-title">
Contents
</div>
<ul>
<li><a href="#asteriusã¨ã¯ä½•ã‹" title="asteriusã¨ã¯ä½•ã‹">ğŸ”<span class="ascii">Asterius</span>ã¨ã¯ä½•ã‹</a></li>
<li><a href="#asteriusã®ã„ã„ã¨ã“ã‚" title="asteriusã®ã„ã„ã¨ã“ã‚">ğŸ‘<span class="ascii">Asterius</span>ã®ã„ã„ã¨ã“ã‚</a></li>
<li><a href="#asteriusã®ã‚¤ãƒã‚¤ãƒãªã¨ã“ã‚" title="asteriusã®ã‚¤ãƒã‚¤ãƒãªã¨ã“ã‚">ğŸ‘<span class="ascii">Asterius</span>ã®ã‚¤ãƒã‚¤ãƒãªã¨ã“ã‚</a></li>
<li><a href="#asteriusã®ä»•çµ„ã¿" title="asteriusã®ä»•çµ„ã¿">âš™ï¸<span class="ascii">Asterius</span>ã®ä»•çµ„ã¿</a></li>
<li><a href="#asteriusã§haskellè£½ã®é–¢æ•°ã‚’å®Ÿè¡Œã—ã¦ã¿ãŸ" title="asteriusã§haskellè£½ã®é–¢æ•°ã‚’å®Ÿè¡Œã—ã¦ã¿ãŸ"><span class="ascii">Asterius</span>ã§<span class="ascii">Haskell</span>è£½ã®é–¢æ•°ã‚’å®Ÿè¡Œã—ã¦ã¿ãŸ</a>
<ul>
<li><a href="#çµæœ" title="çµæœ">çµæœ</a></li>
</ul></li>
<li><a href="#ãŠã‚ã‚Šã«" title="ãŠã‚ã‚Šã«">âœ…ãŠã‚ã‚Šã«</a></li>
</ul>
</div>
</div>
<h1 id="asteriusã¨ã¯ä½•ã‹"><span class="link-to-here-outer"><a href="#asteriusã¨ã¯ä½•ã‹" title="asteriusã¨ã¯ä½•ã‹"><span class="link-to-here">Link to<br />
here</span></a></span>ğŸ”<span class="ascii">Asterius</span>ã¨ã¯ä½•ã‹</h1>
<p>å†’é ­ã§ã‚‚è§¦ã‚ŒãŸã¨ãŠã‚Šã€<a href="https://tweag.github.io/asterius/"><span class="ascii">Asterius</span></a>ã¯<span class="ascii">Haskell</span>ã®ã‚½ãƒ¼ã‚¹ã‚’<a href="https://developer.mozilla.org/ja/docs/WebAssembly"><span class="ascii">WebAssembly</span></a>ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã§ã™ã€‚<br />
<span class="ascii">GHC</span>ã®<span class="ascii">HEAD</span><small>ï¼ˆé–‹ç™ºä¸­ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰</small>ã‚’éƒ½åº¦ãƒ•ã‚©ãƒ¼ã‚¯ã—ã¦ã€ç¾åœ¨æ´»ç™ºã«é–‹ç™ºä¸­ã§ã™ã€‚<br />
<span class="ascii">Template Haskell</span>ã¨ã€<span class="ascii">GHC</span>æ¨™æº–ã«ãŠã‘ã‚‹<span class="ascii">IO</span>ã‚’è¡Œã†é–¢æ•°ï¼ˆã®å¤§åŠï¼‰ã‚’é™¤ã„ãŸã€ã™ã¹ã¦ã®æ©Ÿèƒ½ãŒåˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚<br />
ç¾çŠ¶ã®<span class="ascii">WebAssembly</span>ã‚’å®Ÿç”¨ã™ã‚‹ä¸Šã§å¿…è¦ä¸å¯æ¬ ã§ã‚ã‚ã†ã€<span class="ascii">FFI</span>ã‚‚ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚<br />
ã¤ã¾ã‚Šã€<span class="ascii">JavaScript</span>ã‹ã‚‰<span class="ascii">WebAssembly</span>ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸ<span class="ascii">Haskell</span>ã®é–¢æ•°ã‚’å‘¼ã‚“ã ã‚Šã€<span class="ascii">Haskell</span>ã‹ã‚‰<span class="ascii">JavaScript</span>ã®é–¢æ•°ã‚’å‘¼ã¶ã“ã¨ãŒã§ãã¾ã™ï¼<br />
ä½•ã‹ã—ã‚‰ã®<span class="ascii">IO</span>å‡¦ç†ã‚’è¡Œã†å ´åˆã¯ã€åŸºæœ¬çš„ã«ã“ã®<span class="ascii">FFI</span>ã‚’ä½¿ã£ã¦<span class="ascii">JavaScript</span>ã®é–¢æ•°ã‚’å‘¼ã¶ã“ã¨ã«ãªã‚Šã¾ã™ã€‚</p>
<p>åŠ ãˆã¦ã€<code>ahc-cabal</code>ã¨ã„ã†åå‰ã®ã‚³ãƒãƒ³ãƒ‰ã§ã€<span class="ascii">cabal</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚<br />
ã“ã¡ã‚‰ã¯<code>cabal</code>ã‚³ãƒãƒ³ãƒ‰ã®å˜ç´”ãªãƒ©ãƒƒãƒ‘ãƒ¼ã§ã™ã€‚<code>ahc-cabal new-build</code>ãªã©ã¨å®Ÿè¡Œã™ã‚Œã°ã€å¤–éƒ¨ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ä¾å­˜ã—ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ã€ã¾ã¨ã‚ã¦<span class="ascii">WebAssembly</span>ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§ãã¾ã™ã€‚<br />
æœ¬æ ¼çš„ã«é–‹ç™ºã™ã‚‹ä¸Šã§ã¯æ¬ ã‹ã›ãªã„ãƒ„ãƒ¼ãƒ«ã§ã—ã‚‡ã†ã€‚</p>
<h1 id="asteriusã®ã„ã„ã¨ã“ã‚"><span class="link-to-here-outer"><a href="#asteriusã®ã„ã„ã¨ã“ã‚" title="asteriusã®ã„ã„ã¨ã“ã‚"><span class="link-to-here">Link to<br />
here</span></a></span>ğŸ‘<span class="ascii">Asterius</span>ã®ã„ã„ã¨ã“ã‚</h1>
<p><span class="ascii">Asterius</span>ã¯ã€â€œ<span class="ascii">A linker which performs aggressive dead-code elimination, producing as small WebAssembly binary as possible.</span>â€ã¨è¬³ã£ã¦ã„ã‚‹ã¨ãŠã‚Šã€<span class="ascii">GHC</span>ã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚’æŠ±ãˆã¦ã„ã‚‹ã«ã—ã¦ã¯ã€æ¯”è¼ƒçš„å°ã•ã„<span class="ascii">WASM</span>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã™ã‚‹ãã†ã§ã™ã€‚<br />
ã¨ã„ã†ã‚ã‘ã§æ‰‹å…ƒã§è©¦ã—ã¦ã¿ãŸã¨ã“ã‚ã€ä¸‹è¨˜ã®ã‚ˆã†ãªçµæœã«ãªã‚Šã¾ã—ãŸã€‚</p>
<ul>
<li>ç©ºã£ã½ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ï¼ˆ<code>main = return ()</code>ã—ã‹ã—ãªã„ã‚½ãƒ¼ã‚¹ï¼‰<span class="ascii">:</span>
<ul>
<li><span class="ascii">36KB</span>ï¼ˆ<code>.wasm</code>ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ï¼‰ã€‚ãªã‹ãªã‹ã„ã„æ„Ÿã˜ã§ã™ã­ã€‚</li>
<li><span class="ascii">168KB</span>ï¼ˆå®Ÿè¡Œæ™‚ã«å¿…è¦ãª<code>.mjs</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å«ã‚ãŸåˆè¨ˆï¼‰ã€‚æœªåœ§ç¸®ã§ã“ã‚Œãªã‚‰ç¢ºã‹ã«ååˆ†è»½ã„ã§ã—ã‚‡ã†ã€‚<span class="ascii">Webpack</span>ãªã©ã§çµåˆãƒ»<span class="ascii">minify</span>ã™ã‚‹ã¨ã‚‚ã£ã¨è»½ãã§ãã¾ã™ã—ã€‚</li>
</ul></li>
<li>ä»Šå›ç§ãŒç§»æ¤ã‚’è©¦ã¿ãŸã‚¢ãƒ—ãƒªï¼ˆè©³ç´°ã¯å¾Œã»ã©ï¼‰<span class="ascii">:</span>
<ul>
<li><span class="ascii">1.9MB</span>ï¼ˆ<code>.wasm</code>ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ï¼‰ã€‚ã†ãƒ¼ã‚“ã€ã¡ã‚‡ã£ã¨è‹¦ã—ã„ã‚ˆã†ãªâ€¦ğŸ˜¥ã€‚</li>
<li><span class="ascii">2.1MB</span>ï¼ˆå®Ÿè¡Œæ™‚ã«å¿…è¦ãª<code>.mjs</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å«ã‚ãŸåˆè¨ˆï¼‰ã€‚<code>.mjs</code>ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã¯ç‰¹ã«å¤‰ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</li>
</ul></li>
</ul>
<p>ã¡ãªã¿ã«ã€ç§»æ¤å‰ã®å…ƒã®ã‚½ãƒ¼ã‚¹ã‚’å«ã‚€ã‚¢ãƒ—ãƒªã‚’ã€<span class="ascii">Linux 64bit</span>å‘ã‘ã®<span class="ascii">ELF</span>ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ãƒ“ãƒ«ãƒ‰ã—ã¦æ¯”è¼ƒã—ã¦ã¿ãŸã¨ã“ã‚ã€<code>.wasm</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚ˆã‚Šã‚‚å°‘ã—å°ã•ã„ãã‚‰ã„ã§ã—ãŸã€‚<br />
è©³ç´°ãªå†…è¨³ãŒæ°—ã«ã¯ãªã‚Šã¾ã™ãŒã€ä»Šã®ã‚½ãƒ¼ã‚¹ã§ã™ã¨å¤§ä½“ã“ã‚Œãã‚‰ã„ãŒé™ç•Œãªã®ã‹ã‚‚çŸ¥ã‚Œã¾ã›ã‚“<small>ï¼ˆã§ã‚‚<span class="ascii">WASM</span>ã¯ç¾çŠ¶<span class="ascii">32bit</span>ãƒã‚¤ãƒŠãƒªãƒ¼ç›¸å½“ã®ã¯ãšã ã—ã€ã‚‚ã†å°‘ã—å°ã•ããªã‚‰ãªã„ã‚‚ã®ã‹â€¦ï¼‰</small>ã€‚</p>
<p>åŠ ãˆã¦ã€<span class="ascii">Asterius</span>ã‚’åˆ©ç”¨ã—ã¦é–‹ç™ºã™ã‚‹ã¨ã€ã»ã¼æœ€æ–°ã®<span class="ascii">GHC</span>ã®é–‹ç™ºç‰ˆãŒä½¿ãˆã‚‹ã€ã¨ã„ã†ã¨ã“ã‚ã‚‚ã€æ–°ã—ã‚‚ã®å¥½ããª<span class="ascii">Haskeller</span>ã‚’ã‚ãã‚ãã•ã›ã‚‹ã¨ã“ã‚ã§ã™ã­ï¼<small>ï¼ˆä»Šå›ã¯ã‚ã„ã«ãæ–°ã—ã„æ©Ÿèƒ½ã«ã¤ã„ã¦èª¿ã¹ã‚‹ä½™è£•ã‚‚ãªã‹ã£ãŸã®ã§ã€ç‰¹ã«æ©æµã¯å—ã‘ã¦ã¾ã›ã‚“ãŒâ€¦ğŸ˜…ï¼‰</small><br />
<span class="ascii">Asterius</span>ã¯ã€<span class="ascii">GHC</span>ã‚’ãƒ•ã‚©ãƒ¼ã‚¯ã—ã¦ã„ãã¤ã‹ã®æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ä½œã‚‰ã‚Œã¦ã„ã‚‹ã‚‚ã®ã§ã™ã€‚<br />
ã—ã‹ã—å¹¸ã„ã‚ªãƒªã‚¸ãƒŠãƒ«ã¨ã®å·®åˆ†ãŒååˆ†ã«å°ã•ãã€ä½œè€…ãŒå®šæœŸçš„ã«<span class="ascii">rebase</span>ã™ã‚‹ã“ã¨ãŒã§ãã¦ã„ã¾ã™ã€‚<br />
è©³ç´°ãªé•ã„ã¯<a href="https://tweag.github.io/asterius/custom-ghc/"><span class="ascii">About the custom GHC fork</span></a>ã«ã¾ã¨ã¾ã£ã¦ã„ã¾ã™ã€‚è¿‘ã„å°†æ¥<span class="ascii">GHC</span>æœ¬ä½“ã«å–ã‚Šè¾¼ã¾ã‚Œãã†ãªä¿®æ­£ã°ã‹ã‚Šã§ã¯ãªã„ã‹ã¨ã€‚</p>
<p>ãã‚Œã‹ã‚‰ã“ã‚Œã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§<span class="ascii">Haskell</span>ã‚’å‹•ã‹ã™ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ç‚¹ã§<span class="ascii">Asterius</span>ã®ç«¶åˆã«å½“ãŸã‚‹ã€<span class="ascii">GHCJS</span>ã¨æ¯”è¼ƒã—ãŸå ´åˆã®è©±ã§ã™ãŒã€<span class="ascii">FFI</span>ã‚’åˆ©ç”¨ã—ã¦ã€<span class="ascii">JavaScript</span>ã‹ã‚‰<strong>ç›´æ¥</strong><span class="ascii">Haskell</span>ã‚’å‘¼ã¶ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã®ã‚‚ã€å„ªã‚ŒãŸç‚¹ã¨è¨€ãˆã‚‹ã§ã—ã‚‡ã†ã€‚<br />
<span class="ascii">GHCJS</span>ã¯<a href="https://github.com/ghcjs/ghcjs/blob/3959a9321a2d3e2ad4b8d4c9cc436fcfece99237/doc/foreign-function-interface.md#calling-haskell-from-javascript">ã“ã¡ã‚‰ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›°ã</a>ã€<span class="ascii">JavaScript</span>ã‹ã‚‰<span class="ascii">Haskell</span>ã‚’å‘¼ã¶æ©Ÿèƒ½ã¯å‚™ãˆã¦ã¯ã„ã‚‹ã‚‚ã®ã®ã€ç°¡å˜ã§ã¯ãªã„ãŸã‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚‚æ›¸ã‹ã‚Œã¦ãŠã‚‰ãšã€æ¨å¥¨ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚<br />
ã“ã‚Œã§ã¯çŠ¶æ³ã«ã‚ˆã£ã¦ã¯ã‹ãªã‚Šä½¿ã„ã¥ã‚‰ã„ã§ã—ã‚‡ã†ã€‚<br />
ä»Šå›ç§ãŒè©¦ã—ãŸã‚ˆã†ã«ã€ã‚³ã‚¢ã¨ãªã‚‹å‡¦ç†ã ã‘ã‚’<span class="ascii">Haskell</span>ã®é–¢æ•°ã¨ã—ã¦æ›¸ã„ã¦ã€ãã‚Œã‚’<span class="ascii">JavaScript</span>ã‹ã‚‰å‘¼ã³å‡ºã™ã¨ã„ã†ã“ã¨ãŒã§ããªã„ã®ã§ã™ã€‚</p>
<p>ä¸€æ–¹<span class="ascii">Asterius</span>ã§ã¯ã€ä¾‹ãˆã°ğŸ‘‡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã§ã€<span class="ascii">WASM</span>ãŒã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹é–¢æ•°ã¨ã—ã¦ã€<code>func</code>ã‚’<span class="ascii">JavaScript</span>ã‹ã‚‰å‘¼ã¹ã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode hs"><code class="sourceCode haskell"><a class="sourceLine" id="cb1-1" title="1">foreign export javascript <span class="st">&quot;func&quot;</span><span class="ot"> func ::</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span></a></code></pre></div>
<p>ãŸã ã—ã€å®Ÿéš›ã«ä»Šå›è©¦ã—ã¦ã¿ãŸã¨ã“ã‚ã€<span class="ascii">Asterius</span>ã§ã¯ã¾ã ãƒã‚°ãŒã‚ã£ãŸã®ã§ã€ã“ã®ç”¨é€”ã§ã¯ä¾ç„¶ä½¿ã„ã«ãã„ã¨ã„ã†çŠ¶æ³ã§ã¯ã‚ã‚Šã¾ã™ãŒâ€¦ï¼ˆè©³ç´°ã¯å¾Œã§è§¦ã‚Œã¾ã™ï¼‰ã€‚</p>
<h1 id="asteriusã®ã‚¤ãƒã‚¤ãƒãªã¨ã“ã‚"><span class="link-to-here-outer"><a href="#asteriusã®ã‚¤ãƒã‚¤ãƒãªã¨ã“ã‚" title="asteriusã®ã‚¤ãƒã‚¤ãƒãªã¨ã“ã‚"><span class="link-to-here">Link to<br />
here</span></a></span>ğŸ‘<span class="ascii">Asterius</span>ã®ã‚¤ãƒã‚¤ãƒãªã¨ã“ã‚</h1>
<p><span class="ascii">Asterius</span>ã¯ã€ã‚„ã£ã±ã‚Šã¾ã ã¾ã é–‹ç™ºä¸­ã§ã€ãƒã‚°ãŒå¤šã„ã§ã™ã€‚<br />
ä»Šå›ã®ç›®çš„ã‚‚ãƒã‚°ã®ãŸã‚ã«æœãŸã›ã¾ã›ã‚“ã§ã—ãŸğŸ˜¢ã€‚</p>
<p>å…ˆã»ã©ã‚‚è§¦ã‚ŒãŸã¨ãŠã‚Šã€ç‰¹ã«æœªå®Œæˆãªã®ãŒã€<span class="ascii">IO</span>ã¨<span class="ascii">Template Haskell</span>ã§ã™ã€‚<br />
<span class="ascii">GHC</span>ãªã‚‰ä½¿ãˆã‚‹ã¯ãšã®<code>IO</code>ãªé–¢æ•°ã®å¤šããŒä½¿ãˆã¾ã›ã‚“ã—ã€<span class="ascii">Template Haskell</span>ã«è‡³ã£ã¦ã¯ä¸€åˆ‡åˆ©ç”¨ã§ãã¾ã›ã‚“ã€‚</p>
<p><span class="ascii">IO</span>ã«ã¤ã„ã¦ã¯ã€ç¾çŠ¶ã€<small>ï¼ˆ<code>putStrLn</code>ãªã©ã®ã‚ˆãä½¿ã‚ã‚Œã‚‹ï¼‰</small>ä¸€éƒ¨ã‚’é™¤ãã€<span class="ascii">FFI</span><small>ï¼ˆ<code>foreign import javascript</code>ï¼‰</small>ã‚’ä½¿ã£ã¦<span class="ascii">JavaScript</span>ã®é–¢æ•°çµŒç”±ã§ã‚ˆã°ãªã‘ã‚Œãªã‚Šã¾ã›ã‚“ã€‚<br />
ã“ã‚Œã¯ã€å…¥å‡ºåŠ›é–¢é€£ã®<span class="ascii">API</span>ã‚’ä¸€åˆ‡æŒãŸãªã„ã¨ã„ã†ç¾çŠ¶ã®<span class="ascii">WebAssembly</span>ã®äº‹æƒ…ã‚’è€ƒãˆã‚Œã°ã€è‡´ã—æ–¹ãªã„ä»•æ§˜ã ã¨ã‚‚è¨€ãˆã¾ã™ã€‚<br />
<a href="https://github.com/WebAssembly/WASI"><span class="ascii">WASI</span></a>ã®ç­–å®šã«ã‚ˆã£ã¦ã“ã®è¾ºã®äº‹æƒ…ãŒå¤‰ã‚ã‚‹ã¾ã§ã®é–“ã«ã€ã™ã¹ã¦<code>foreign import javascript</code>ã§è³„ã†ã¨ã„ã†ã®ã‚‚ã€ãªã‹ãªã‹é¢å€’ãªã“ã¨ã§ã—ã‚‡ã†ã—ã€‚</p>
<p><span class="ascii">Template Haskell</span>ã«é–¢ã—ã¦ã¯ã€ç¾åœ¨<a href="https://github.com/tweag/asterius/pull/81">ã“ã¡ã‚‰ã®ãƒ–ãƒ©ãƒ³ãƒ</a>ã§é–‹ç™ºä¸­ã§ã™ã€‚â€¦ã¨ã€æ€ã£ãŸã‚‰ã“ã®<span class="ascii">Pull request</span>ã€<span class="ascii">Close</span>ã•ã‚Œã¦ã¾ã™ã­â€¦ã€‚<br />
ã“ã‚Œã«é–¢ã—ã¦è©³ã—ã„äº‹æƒ…ã¯ã‚ã‹ã‚Šã¾ã›ã‚“ã€‚ã„ãšã‚Œã«ã—ã¦ã‚‚ã€<span class="ascii">Template Haskell</span>ã‚’å®Ÿè£…ã™ã‚‹ã«ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãã®å ´ã§<span class="ascii">Haskell</span>ã‚’è©•ä¾¡ã™ã‚‹ãŸã‚ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ—ãƒªã‚¿ãƒ¼ãŒåˆ¥é€”å¿…è¦ã ã£ãŸã‚Šã—ã¦ã€çµæ§‹ãƒãƒ¼ãƒ‰ãƒ«ãŒé«˜ã„ã®ã§ã™ã€‚</p>
<p>åŠ ãˆã¦ã€<span class="ascii">RTS</span><small>ï¼ˆã“ã®å ´åˆã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸ<span class="ascii">Haskell</span>ã‚’å‹•ã‹ã™ã®ã«å¿…è¦ãª<span class="ascii">WASM</span>ã‚„<span class="ascii">JavaScript</span>ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰</small>ãŒ<a href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/BigInt"><code>BigInt</code></a>ã«ä¾å­˜ã—ã¦ã„ã‚‹é–¢ä¿‚ã§ã€<span class="ascii">V8</span>ã‚„<span class="ascii">SpiderMonkey</span>ã§ãªã„ã¨å‹•ã‹ãªã„ç‚¹ã‚‚ã¾ã ã¾ã ã€ã¨ã„ã†æ„Ÿã˜ã§ã™ã€‚<br />
ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§è¨€ã†ã¨ã€<span class="ascii">2019</span>å¹´<span class="ascii">5</span>æœˆ<span class="ascii">3</span>æ—¥æ™‚ç‚¹ã§<span class="ascii">Chrome</span>ã‹ã€<span class="ascii">Firefox</span>ã®<span class="ascii">Beta</span>ç‰ˆä»¥é™ã§ãªã„ã¨ä½¿ç”¨ã§ãã¾ã›ã‚“<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>ã€‚</p>
<h1 id="asteriusã®ä»•çµ„ã¿"><span class="link-to-here-outer"><a href="#asteriusã®ä»•çµ„ã¿" title="asteriusã®ä»•çµ„ã¿"><span class="link-to-here">Link to<br />
here</span></a></span>âš™ï¸<span class="ascii">Asterius</span>ã®ä»•çµ„ã¿</h1>
<p><span class="ascii">Asterius</span>ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€Œ<a href="https://tweag.github.io/asterius/ir/"><span class="ascii">IR types and transformation passes</span></a>ã€ã‚’ã–ã£ãã‚Šè¦ç´„ã—ã¦ã¿ã‚‹ã¨ã€<span class="ascii">Asterius</span>ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæµã‚Œã§å‹•ããã†ã§ã™ã€‚<br />
å®Ÿéš›ã«ã¯<code>ahc-link</code>ã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ãŒã“ã‚Œã‚‰ã®æ‰‹é †ã‚’ã¾ã¨ã‚ã¦å®Ÿè¡Œã™ã‚‹ã®ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®çš†ã•ã‚“ã¯ã‚ã¾ã‚Šæ„è­˜ã™ã‚‹å¿…è¦ã¯ãªã„ã§ã—ã‚‡ã†ã€‚</p>
<ol type="1">
<li><a href="https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/extending_ghc.html#frontend-plugins">ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ—ãƒ©ã‚°ã‚¤ãƒ³</a>ã¨ã„ã†ä»•çµ„ã¿ã§ãƒ©ãƒƒãƒ—ã—ãŸ<span class="ascii">GHC</span><small>ï¼ˆã®ãƒ•ã‚©ãƒ¼ã‚¯ï¼‰</small>ã‚’ä½¿ã„ã€<span class="ascii">GHC</span>ãŒç”Ÿæˆã—ãŸ<span class="ascii">Cmm</span>ã¨ã„ã†ä¸­é–“è¨€èªã§æ›¸ã‹ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã‚’ã€<code>AsteriusModule</code>ã¨ã„ã†ç‹¬è‡ªã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›ã—ã¾ã™ã€‚</li>
<li><code>ahc-ld</code>ã¨ã„ã†å°‚ç”¨ã®ãƒªãƒ³ã‚«ãƒ¼ã§ã€<span class="ascii">WASM</span>å‘ã‘ã«ãƒªãƒ³ã‚¯ã—ã¾ã™ã€‚</li>
<li>æœ€å¾Œã«ã€<code>ahc-dist</code>ã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ã§ã€ãƒªãƒ³ã‚¯ã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®Ÿè¡Œã§ãã‚‹çŠ¶æ…‹ã«ã—ã¾ã™ã€‚
<ul>
<li><a href="https://github.com/WebAssembly/binaryen"><span class="ascii">binaryen</span></a>ã‹ã€<a href="https://github.com/tweag/asterius/tree/master/wasm-toolkit"><span class="ascii">wasm-toolkit</span></a>ã¨ã„ã†<span class="ascii">Haskell</span>ã§<span class="ascii">WASM</span>ã‚’æ›¸ãè¨€èªå†…<span class="ascii">DSL</span>ã‚’åˆ©ç”¨ã—ã¦ã€<code>ahc-ld</code>ãŒãƒªãƒ³ã‚¯ã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æ¤œè¨¼ã—ã€<code>.wasm</code>ãƒ•ã‚¡ã‚¤ãƒ«ã«å¤‰æ›ã—ã¦ã€</li>
<li>å®Ÿè¡Œæ™‚ã«å¿…è¦ãª<span class="ascii">JavaScript</span>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€</li>
<li><span class="ascii">Haskell</span>ã®ã‚½ãƒ¼ã‚¹ã«ãŠã‘ã‚‹<code>main</code>é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ã€ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã‚Šã¾ã™ã€‚<br />
ã‚ã¨ã¯ã“ã‚Œã‚’<span class="ascii">HTML</span>ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰<code>&lt;script&gt;</code>ã‚¿ã‚°ã§å‚ç…§ã™ã‚Œã°ã€ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ä¸Šã§<span class="ascii">Haskell</span>ãŒå‹•ãã¾ã™ã€‚</li>
</ul></li>
</ol>
<h1 id="asteriusã§haskellè£½ã®é–¢æ•°ã‚’å®Ÿè¡Œã—ã¦ã¿ãŸ"><span class="link-to-here-outer"><a href="#asteriusã§haskellè£½ã®é–¢æ•°ã‚’å®Ÿè¡Œã—ã¦ã¿ãŸ" title="asteriusã§haskellè£½ã®é–¢æ•°ã‚’å®Ÿè¡Œã—ã¦ã¿ãŸ"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">Asterius</span>ã§<span class="ascii">Haskell</span>è£½ã®é–¢æ•°ã‚’å®Ÿè¡Œã—ã¦ã¿ãŸ</h1>
<p>ã“ã“ã‹ã‚‰ã¯ã€ç§ãŒä»¥å‰ä½œã£ãŸ<a href="https://github.com/igrep/igrep-cashbook/tree/master/hs2">ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³</a>ã®ã‚³ã‚¢ã«å½“ãŸã‚‹é–¢æ•°ã‚’<span class="ascii">Asterius</span>ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã“ã¨ã§ã€ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ä¸Šã§å‹•ã‹ã›ã‚‹ã‚ˆã†ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ãŸæ™‚ã®ä½“é¨“è«‡ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚</p>
<p>ä»Šå›è©¦ã¿ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€å˜ç´”ãªã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚<br />
è©³ç´°ã¯çœãã¾ã™ãŒã€è¡Œå˜ä½ã§æ›¸ã‹ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦ã€é …ç›®ã”ã¨ã®åˆè¨ˆã‚’è¨ˆç®—ã™ã‚‹ã ã‘ã®ã€ã‚ã‚Šãµã‚ŒãŸã‚‚ã®ã§ã™ã€‚<br />
ãƒ‘ãƒ¼ã‚µãƒ¼ã¯<a href="http://hackage.haskell.org/package/megaparsec"><span class="ascii">megaparsec</span></a>ã‚’ä½¿ã£ã¦ä½œã‚Šã€æ•´æ•°ã®å››å‰‡æ¼”ç®—ãŒã§ãã‚‹ã‚ˆã†ãªã£ã¦ã„ã‚‹ã®ã‚‚ç‰¹å¾´ã§ã™ã€‚<br />
ãã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å‡¦ç†ã®ã»ã¨ã‚“ã©ã™ã¹ã¦ã«å½“ãŸã‚‹ã€ãƒ•ã‚¡ã‚¤ãƒ«åã¨ãã®ä¸­èº«ã‚’å—ã‘å–ã£ã¦ã€è¨ˆç®—çµæœã‚’æ–‡å­—åˆ—ã§è¿”ã™é–¢æ•°ï¼ˆ<code>FilePath -&gt; Text -&gt; Text</code>ï¼‰ã‚’ã€<span class="ascii">FFI</span>ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ<small>ï¼ˆ<code>foreign export javascript</code>ï¼‰</small>ã—ã€<span class="ascii">JavaScript</span>ã‹ã‚‰å‘¼ã¹ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã—ãŸã€‚</p>
<p>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è‡ªä½“ã®æ›¸ãæ›ãˆã¯ã»ã¨ã‚“ã©å¿…è¦ãªã‹ã£ãŸã‚‚ã®ã®ã€ä¾å­˜é–¢ä¿‚ã‚’æ¸›ã‚‰ã—ãŸã‚Šã€ä¾å­˜ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ›¸ãæ›ãˆãŸã‚Šã™ã‚‹ã®ãŒå¤§å¤‰ã§ã—ãŸã€‚<br />
ã¨ã„ã†ã®ã‚‚ã€å…ˆã»ã©è§¦ã‚ŒãŸã¨ãŠã‚Šã€<span class="ascii">Asterius</span>ã¯ç¾çŠ¶ã€Œ<span class="ascii">Template Haskell</span>ã¨ã€<span class="ascii">GHC</span>æ¨™æº–ã«ãŠã‘ã‚‹<span class="ascii">IO</span>ã‚’è¡Œã†é–¢æ•°ï¼ˆã®å¤§åŠï¼‰ã€ãŒä¸€åˆ‡ä½¿ç”¨ã§ããªã„ã®ã§ã€å–ã‚Šé™¤ã‹ãªã‘ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚<br />
<span class="ascii">template-haskell</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«é–“æ¥çš„ã«ä¾å­˜ã—ã¦ã„ã‚‹ã ã‘ã§ä¾å­˜é–¢ä¿‚ã®è§£æ±ºã™ã‚‰ã§ããªã„ã®ã¯ãªã‹ãªã‹ã¤ã‚‰ã„ã‚‚ã®ã§ã—ãŸã€‚<br />
<a href="https://docs.haskellstack.org/en/stable/dependency_visualization/"><code>stack dot</code></a>ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦ä¾å­˜é–¢ä¿‚ã®ãƒ„ãƒªãƒ¼ã‚’ä½œã‚Šã€ãã‚Œã‚’è¦‹ã¦<span class="ascii">template-haskell</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«é–“æ¥çš„ã«ä¾å­˜ã—ã¦ã„ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å‰²ã‚Šå‡ºã—ã€ãã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å¿…è¦ãªé–¢æ•°ã®ã¿ã‚’åˆ‡ã‚Šå‡ºã™ã“ã¨ã§ã©ã†ã«ã‹å›é¿ã§ãã¾ã—ãŸã€‚<br />
<a href="http://hackage.haskell.org/package/monoidal-containers"><span class="ascii">monoidal-containers</span></a>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨<a href="http://hackage.haskell.org/package/foldl"><span class="ascii">foldl</span></a>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒãã‚Œã§ã—ãŸã€‚<br />
å¹¸ã„ã€ã©ã¡ã‚‰ã‚‚ä¾å­˜ã—ã¦ã„ã‚‹ã®ã¯ã”ãä¸€éƒ¨ã ã£ãŸã§ã€å¿…è¦ãªéƒ¨åˆ†ã ã‘ã‚’ã‚³ãƒ”ãƒšã—ã¦ä½¿ã†ã“ã¨ã«ã—ã¾ã—ãŸã€‚<br />
ãã‚Œã‹ã‚‰ã€<code>IO</code>ã¸ã®ä¾å­˜ã‚‚ãªãã™ãŸã‚ã«ã€<a href="http://hackage.haskell.org/package/text"><span class="ascii">text</span></a>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‹ã‚‰<code>*.IO</code>ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å–ã‚Šé™¤ã„ãŸã‚Šã‚‚ã—ã¾ã—ãŸã€‚</p>
<p>å½“ç„¶ã€å…ƒã€…ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚<span class="ascii">text</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®<code>*.IO</code>ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦ã¯ã„ãŸã®ã§ã€ãã‚Œã‚’ä½¿ã‚ãªã„ã‚ˆã†ä¿®æ­£ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚<br />
ã—ã‹ã—ãã“ã¯<span class="ascii">Haskell</span>ã€‚ãã†ã—ãŸ<code>IO</code>ã«ä¾å­˜ã—ãŸé–¢æ•°ã‹ã‚‰ç´”ç²‹ãªé–¢æ•°ã‚’åˆ‡ã‚Šå‡ºã™ã®ã¯ã€å‹ã‚·ã‚¹ãƒ†ãƒ ã®ãŠã‹ã’ã§å¤§å¤‰æ¥½ã¡ã‚“ã§ã—ãŸï¼ğŸ˜¤<br />
å…¥å‡ºåŠ›ã‚’ã™ã‚‹ã®ã«<span class="ascii">JavaScript</span>ã®<span class="ascii">FFI</span>ã‚’ä½¿ã‚ãªã„ã¨ã„ã‘ãªã„ã€ã¨ã„ã†ç¾çŠ¶ã®<span class="ascii">WebAssembly</span>ã®åˆ¶ç´„ãŒã€å¶ç„¶ã«ã‚‚ãƒãƒƒãƒã—ãŸã‚ã‘ã§ã™ã­ï¼<br />
ç´”ç²‹ã˜ã‚ƒãªã„é–¢æ•°ã¯ã¨ãã‚ã‹ãªã„ã®ã§æ¨ã¦å»ã£ã¦ã—ã¾ã„ã¾ã—ã‚‡ã†âœ¨</p>
<h2 id="çµæœ"><span class="link-to-here-outer"><a href="#çµæœ" title="çµæœ"><span class="link-to-here">Link to<br />
here</span></a></span>çµæœ</h2>
<p>ã“ã“ã¾ã§é ‘å¼µã£ãŸçµæœã€ç›®çš„ã®é–¢æ•°ã‚’<code>foreign export javascript</code>ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚’é€šã™ã“ã¨ã¯ã§ãã¾ã—ãŸğŸ‰<br />
ã—ã‹ã—ã€å®Ÿéš›ã«ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ä¸Šã§å‹•ã‹ã—ã¦ã¿ãŸã¨ã“ã‚ã€<a href="https://github.com/tweag/asterius/issues/105"><span class="ascii">Asterius</span>ã®<span class="ascii">FFI</span>ã®ãƒã‚°</a>ã«ãƒãƒã£ã¦ã—ã¾ã„ã¾ã—ãŸâ€¦ğŸ˜¢ è‚å¿ƒã®<code>foreign export javascript</code>ã—ãŸé–¢æ•°ãŒã€è¿”ã™ã¹ãå€¤ã‚’è¿”ã—ã¦ãã‚Œãªã„ã®ã§ã™ï¼<br />
æã‚‰ã<code>foreign export javascript</code>ã‚’ä½¿ã‚ãšã«ã€<span class="ascii">Haskell</span>å´ã‹ã‚‰<span class="ascii">JavaScript</span>ã®é–¢æ•°ã‚’å‘¼ã¶ã‚ˆã†ã«ã—ã¦ã„ã‚Œã°ã€ä»Šå›ã®å•é¡Œã¯å›é¿ã§ããŸã®ã§ã¯ãªã„ã‹ã¨æ€ã„ã¾ã™ã€‚<br />
ã—ã‹ã—ã€ãã‚Œã¯ä»Šå›ã®ã‚´ãƒ¼ãƒ«ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã—ã€ã‚ã¾ã‚Šä¾¿åˆ©ã§ã¯ãªã„ã®ã§ã²ã¨ã¾ãšç§»æ¤ã¯è¦‹é€ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚æ®‹å¿µï¼</p>
<h1 id="ãŠã‚ã‚Šã«"><span class="link-to-here-outer"><a href="#ãŠã‚ã‚Šã«" title="ãŠã‚ã‚Šã«"><span class="link-to-here">Link to<br />
here</span></a></span>âœ…ãŠã‚ã‚Šã«</h1>
<p>ä»Šå›<span class="ascii">Asterius</span>ã‚’è©¦ã—ãŸã“ã¨ã§ã€ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ä¸Šã§<span class="ascii">Haskell</span>ã‚’å‹•ã‹ã™ã€ã‚‚ã†ä¸€ã¤ã®å¯èƒ½æ€§ã‚’çŸ¥ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚<br />
ã¨ã¯è¨€ãˆã€ãƒã‚°ãŒå¤šã‹ã£ãŸã‚Šä¾å­˜é–¢ä¿‚ã‹ã‚‰<span class="ascii">IO</span>ã‚„<span class="ascii">Template Haskell</span>ã‚’æŠœãå‡ºã•ãªã‘ã‚Œã°ãªã‚‰ãªã‹ã£ãŸã‚Šã§ã€ã¾ã ã¾ã å®Ÿç”¨çš„ã¨ã¯è¨€ã„é›£ã„ã§ã—ã‚‡ã†ã€‚<br />
ã—ã‹ã—ã€ä»Šå›å ±å‘Šã—ãŸãƒã‚°ãŒç›´ã‚Œã°ã€ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã«ã‚ˆã‚‹å‡¦ç†ã®ã‚³ã‚¢ã«å½“ãŸã‚‹éƒ¨åˆ†ã‚’<span class="ascii">Haskell</span>ã§æ›¸ãã€ã¨ã„ã†å¿œç”¨ãŒåˆ©ããã†ã§ã™ã€‚<br />
ä¾‹ãˆã°<span class="ascii">Pandoc</span>ãªã©<span class="ascii">Haskell</span>è£½ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã‹ã‚‰æ“ä½œã™ã‚‹ã€ãªã‚“ã¦ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä½œã‚ŠãŒæ—ã‚Šãã†ã§ã™ã­ï¼</p>
<section class="footnotes">
<hr />
<ol>
<li id="fn1"><p><a href="https://caniuse.com/#feat=bigint"><span class="ascii">Can I use</span></a>æ›°ãå®‰å®šç‰ˆã§ã‚‚<code>about:config</code>ã‚’æ›¸ãæ›ãˆã‚Œã°ã™ã§ã«ä½¿ãˆã‚‹ã¨ã®ã“ã¨ãªã‚“ã§ã™ãŒã€ãªãœã‹æ‰‹å…ƒã®<span class="ascii">Firefox</span> å®‰å®šç‰ˆã§ã¯ã†ã¾ãã„ãã¾ã›ã‚“ã§ã—ãŸã€‚ç¢ºã‹ã«<code>about:config</code>ã«ãã‚Œã‚‰ã—ãè¨­å®šã¯ã‚ã‚‹ã‚‚ã®ã®ã€<code>true</code>ã«ã—ã¦ã‚‚ä½•ã‚‚å¤‰ã‚ã‚‰ãšâ€¦ğŸ˜°ã€‚<br />
ã¤ã„ã§ã«ç´°ã‹ã„ã“ã¨ã‚’è¨€ã†ã¨ã€<span class="ascii">Firefox Nightly</span>ã¯<code>about:config</code>ã‚’æ›¸ãæ›ãˆãªãã¦ã‚‚ä½¿ãˆã€<span class="ascii">Beta</span>ç‰ˆã§ã¯<code>about:config</code>ã‚’æ›¸ãæ›ãˆã‚‹ã¨ä½¿ãˆã¾ã—ãŸã€‚<a href="#fnref1" class="footnote-back">â†©</a></p></li>
</ol>
</section>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
                <i class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="margin-right: 5px;"></i>
                <a href="/posts/2019/strip-ansi-escape.html" lang="ja">strip-ansi-escapeã¨ã„ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒªãƒªãƒ¼ã‚¹ã—ã¾ã—ãŸ</a>
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/2019/stack-ghc8.8.html" style="margin-left: auto;" lang="ja">GHC 8.8.1 alphaã‚’stackã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦æ‰‹æŒã¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>
<entry>
    <title>GHC 8.8.1 alphaã‚’stackã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦æ‰‹æŒã¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹</title>
    <link href="https://haskell.jp/blog/posts/2019/stack-ghc8.8.html" />
    <id>https://haskell.jp/blog/posts/2019/stack-ghc8.8.html</id>
    <published>2019-05-02T00:00:00Z</published>
    <updated>2019-05-02T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <hr />
<p>å…ˆæ—¥ã€æˆ‘ã‚‰ãŒ<span class="ascii">Haskell</span>ã®ãƒ‡ãƒ•ã‚¡ã‚¯ãƒˆã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãªã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã€<a href="https://mail.haskell.org/pipermail/ghc-devs/2019-April/017550.html"><span class="ascii">GHC</span>ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³<span class="ascii">8.8.1-alpha1</span>ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¾ã—ãŸ</a>ã€‚<br />
ã“ã®ãƒªãƒªãƒ¼ã‚¹ã¯ã¾ã ã‚¢ãƒ«ãƒ•ã‚¡ç‰ˆã§ã‚ã‚‹ã“ã¨ã‹ã‚‰ã‚ã‹ã‚‹ã¨ãŠã‚Šã€ä¸»ã«ãƒ†ã‚¹ãƒˆç›®çš„ã§ä½¿ç”¨ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚<br />
ãªã®ã§ã„ã¡æ—©ãè©¦ã—ã¦ã¿ã¦ã€<span class="ascii">GHC</span>ã®ãƒ‡ãƒãƒƒã‚°ã«è²¢çŒ®ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<p>ãã“ã§ä»Šå›ã¯ã€æœ€è¿‘<span class="ascii">Haskell</span>ã‚’å§‹ã‚ãŸæ–¹ãªã‚‰ä½¿ã£ã¦ã„ã‚‹æ–¹ã‚‚å¤šã„ã§ã‚ã‚ã†ã€<span class="ascii">stack</span>ã‚’ä½¿ã£ã¦ã“ã®æ–°ã—ã„<span class="ascii">GHC</span>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€ã‚ãªãŸã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¼ãƒ»ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ãƒ†ã‚¹ãƒˆã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã„ãŸã—ã¾ã™ã€‚</p>
<div id="table-of-contents-outer">
<div id="table-of-contents">
<div class="table-of-contents-title">
Contents
</div>
<ul>
<li><a href="#tldr-cabal-installã§ã‚„ã£ãŸã»ã†ãŒã‚ˆã•ãã†" title="tldr-cabal-installã§ã‚„ã£ãŸã»ã†ãŒã‚ˆã•ãã†"><span class="ascii">TL;DR cabal-install</span>ã§ã‚„ã£ãŸã»ã†ãŒã‚ˆã•ãã†</a></li>
<li><a href="#setup-infoã‚’ä½œã‚‹" title="setup-infoã‚’ä½œã‚‹"><span class="ascii">1.</span> <code>setup-info</code>ã‚’ä½œã‚‹</a></li>
<li><a href="#å¿…è¦ãªã‚‰allow-newerã‚’æœ‰åŠ¹ã«ã™ã‚‹" title="å¿…è¦ãªã‚‰allow-newerã‚’æœ‰åŠ¹ã«ã™ã‚‹"><span class="ascii">2.</span> ï¼ˆå¿…è¦ãªã‚‰ï¼‰<span class="ascii">allow-newer</span>ã‚’æœ‰åŠ¹ã«ã™ã‚‹</a></li>
<li><a href="#package-indicesã‚’è¨­å®šã—ã¦head.hackageã‚’åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹" title="package-indicesã‚’è¨­å®šã—ã¦head.hackageã‚’åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹"><span class="ascii">3. package-indices</span>ã‚’è¨­å®šã—ã¦ã€<span class="ascii">head.hackage</span>ã‚’åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹</a></li>
<li><a href="#stack-buildã‚’å®Ÿè¡Œã—ã¤ã¤ã²ãŸã™ã‚‰extra-depsã‚’è¿½åŠ ç·¨é›†" title="stack-buildã‚’å®Ÿè¡Œã—ã¤ã¤ã²ãŸã™ã‚‰extra-depsã‚’è¿½åŠ ç·¨é›†"><span class="ascii">4. stack build</span>ã‚’å®Ÿè¡Œã—ã¤ã¤ã€ã²ãŸã™ã‚‰<span class="ascii">extra-deps</span>ã‚’è¿½åŠ ãƒ»ç·¨é›†</a>
<ul>
<li><a href="#ãã‚Œã§ã‚‚ã†ã¾ãã„ã‹ãªã„å ´åˆ-extra-depsã‚’ä½¿ã„å€’ã™" title="ãã‚Œã§ã‚‚ã†ã¾ãã„ã‹ãªã„å ´åˆ-extra-depsã‚’ä½¿ã„å€’ã™">ãã‚Œã§ã‚‚ã†ã¾ãã„ã‹ãªã„å ´åˆ<span class="ascii">:</span> <code>extra-deps</code>ã‚’ä½¿ã„å€’ã™</a>
<ul>
<li><a href="#è‡ªåˆ†ä»¥å¤–ã®äººãŒå¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¿®æ­£ã—ãŸå ´åˆ" title="è‡ªåˆ†ä»¥å¤–ã®äººãŒå¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¿®æ­£ã—ãŸå ´åˆ">è‡ªåˆ†ä»¥å¤–ã®äººãŒå¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¿®æ­£ã—ãŸå ´åˆ<span class="ascii">:</span></a></li>
<li><a href="#è‡ªåˆ†ã§å¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¿®æ­£ã™ã‚‹ã¨ã„ã†å ´åˆ" title="è‡ªåˆ†ã§å¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¿®æ­£ã™ã‚‹ã¨ã„ã†å ´åˆ">è‡ªåˆ†ã§å¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¿®æ­£ã™ã‚‹ã€ã¨ã„ã†å ´åˆ<span class="ascii">:</span></a></li>
<li><a href="#å¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒgitãƒªãƒã‚¸ãƒˆãƒªãƒ¼ã§ç®¡ç†ã•ã‚Œã¦ãªã„å ´åˆã¯" title="å¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒgitãƒªãƒã‚¸ãƒˆãƒªãƒ¼ã§ç®¡ç†ã•ã‚Œã¦ãªã„å ´åˆã¯">å¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒ<span class="ascii">Git</span>ãƒªãƒã‚¸ãƒˆãƒªãƒ¼ã§ç®¡ç†ã•ã‚Œã¦ãªã„å ´åˆã¯ï¼Ÿ</a></li>
</ul></li>
</ul></li>
<li><a href="#ç•ªå¤–ç·¨-operation-vanguard" title="ç•ªå¤–ç·¨-operation-vanguard">ç•ªå¤–ç·¨<span class="ascii">: Operation Vanguard</span></a></li>
</ul>
</div>
</div>
<h1 id="tldr-cabal-installã§ã‚„ã£ãŸã»ã†ãŒã‚ˆã•ãã†"><span class="link-to-here-outer"><a href="#tldr-cabal-installã§ã‚„ã£ãŸã»ã†ãŒã‚ˆã•ãã†" title="tldr-cabal-installã§ã‚„ã£ãŸã»ã†ãŒã‚ˆã•ãã†"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">TL;DR cabal-install</span>ã§ã‚„ã£ãŸã»ã†ãŒã‚ˆã•ãã†</h1>
<p>ã„ããªã‚Šã‚„ã‚ã†ã¨ã™ã‚‹ã“ã¨ã‚’çœŸã£å‘ã‹ã‚‰å¦å®šã™ã‚‹ã‚ˆã†ã§æç¸®ã§ã™ãŒâ€¦ğŸ˜…<br />
å®Ÿéš›ã«ç§ãŒè©¦ã—ã«ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ãŸæ„Ÿã˜ã€æ™®é€šã«<a href="https://www.haskell.org/cabal/download.html"><span class="ascii">cabal-install</span>ã‚’ã“ã¡ã‚‰ã‹ã‚‰</a>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã€<code>cabal new-build --with-ghc=ghc-8.8.0.20190424</code>ãªã©ã¨å®Ÿè¡Œã—ãŸæ–¹ãŒã„ã„ã‚“ã˜ã‚ƒãªã„ã‹ã¨ã„ã†æ°—ãŒã—ã¾ã—ãŸâ€¦ã€‚<br />
<span class="ascii">cabal-install</span>ã«ã¯<span class="ascii">GHC</span>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ©Ÿèƒ½ã¯ãªã„ã®ã§ã€ãã®å ´åˆã¯<span class="ascii">GHC</span>ã¯åˆ¥é€”ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™<small>ï¼ˆ<a href="https://github.com/haskell/ghcup"><code>ghcup</code></a>ãŒä½¿ãˆã‚‹ï¼Ÿï¼‰</small>ã€‚<br />
<a href="../2017/06-ghc-install.html"><span class="ascii">@takenobu-hs</span>ã•ã‚“ãŒæ›¸ã„ã¦ãã‚ŒãŸã€ã“ã¡ã‚‰ã®è¨˜äº‹</a>ã‚’å‚è€ƒã«ã©ã†ãï¼</p>
<p>ãªãŠã€<span class="ascii">stack</span>ã§ã‚„ã‚‹ã¨é¢å€’ãªç†ç”±ã«ã¤ã„ã¦ã®è©³ç´°ã¯ã“ã‚Œã‹ã‚‰è¿°ã¹ã‚‹æ‰‹é †ã§é©å®œè§¦ã‚Œã¾ã™â€¦ã€‚</p>
<h1 id="setup-infoã‚’ä½œã‚‹"><span class="link-to-here-outer"><a href="#setup-infoã‚’ä½œã‚‹" title="setup-infoã‚’ä½œã‚‹"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">1.</span> <code>setup-info</code>ã‚’ä½œã‚‹</h1>
<p>ã¾ãšã¯ã˜ã‚ã«ã€<span class="ascii">stack</span>ãŒ<span class="ascii">GHC</span>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹éš›ã«å‚ç…§ã™ã‚‹ã€<a href="https://docs.haskellstack.org/en/stable/yaml_configuration/#setup-info"><code>setup-info</code></a>ã¨ã„ã†<span class="ascii">YAML</span>ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚<br />
<code>setup-info</code>ã¯<code>stack setup</code>ã‚„<code>stack build</code>ã‚’å®Ÿè¡Œã—ãŸã¨ãã€<span class="ascii">GHC</span>ãªã©ã®å¿…è¦ãªã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã‹ã£ãŸéš›ã€è‡ªå‹•ã§<span class="ascii">GHC</span>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ãŸã‚ã«å¿…è¦ãªæƒ…å ±ã§ã™ã€‚<br />
<span class="ascii">GHC</span>ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚„å¯¾è±¡ã¨ãªã‚‹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã”ã¨ã«ã€<span class="ascii">GHC</span>ã®ãƒ“ãƒ«ãƒ‰æ¸ˆã¿<span class="ascii">tarball</span>ã¸ã®<span class="ascii">URL</span>ã‚„ãã®ãƒã‚§ãƒƒã‚¯ã‚µãƒ ãŒæ›¸ã„ã¦ã‚ã‚Šã¾ã™ã€‚<br />
<span class="ascii">stack</span>ã¯ã“ã“ã«æ›¸ã‹ã‚ŒãŸ<span class="ascii">URL</span>ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã§ã€<span class="ascii">GHC</span>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã‚‹ã‚“ã§ã™ã­ã€‚</p>
<p>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€<span class="ascii">stack</span>ã¯<a href="https://raw.githubusercontent.com/commercialhaskell/stackage-content/master/stack/stack-setup-2.yaml">ã“ã¡ã‚‰ã®<span class="ascii">YAML</span></a>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’<code>setup-info</code>ã¨ã—ã¦æ‰±ã£ã¦ã„ã¾ã™ã€‚<br />
ã“ã®<span class="ascii">YAML</span>ã«ã¯<a href="https://www.stackage.org/"><span class="ascii">Stackage</span></a>ãŒå‚ç…§ã—ã¦ã„ã‚‹ã€å®‰å®šç‰ˆã®<span class="ascii">GHC</span>ã«ã¤ã„ã¦ã¯æ›¸ã„ã¦ã‚ã‚‹ã‚‚ã®ã®ã€<span class="ascii">LTS Haskell</span>ã«ã‚‚<span class="ascii">Stackage Nightly</span>ã«ã‚‚ã¾ã æ¡ç”¨ã•ã‚Œã¦ã„ãªã„<span class="ascii">GHC</span>ã«ã¤ã„ã¦ã¯ã€æ›¸ã‹ã‚Œã¦ã„ã¾ã›ã‚“ã€‚<br />
å½“ç„¶ã‚¢ãƒ«ãƒ•ã‚¡ç‰ˆã§ã‚ã‚‹<span class="ascii">GHC 8.8.1-alpha1</span>ãŒæ›¸ã‹ã‚Œã‚‹ã“ã¨ã¯ãªã„ãŸã‚ã€<span class="ascii">GHC 8.8.1-alpha1</span>ç”¨ã®<code>setup-info</code>ã‚’ä½œã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p>ãã‚Œã§ã¯æ›¸ã„ã¦ã¿ã¾ã—ã‚‡ã†â€¦ ã¨ã€è¨€ã„ãŸã„ã¨ã“ã‚ã§ã™ãŒã€ã“ã®<code>setup-info</code>ã€å®Ÿéš›ã®ã¨ã“ã‚è‡ªåˆ†ã§ç›´æ¥æ›¸ãå¿…è¦ã¯ãªãã€<span class="ascii">YAML</span>ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®<span class="ascii">URL</span>ã‚„ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§<span class="ascii">stack</span>ã¯å‚ç…§ã—ã«è¡Œã£ã¦ãã‚Œã¾ã™ï¼<br />
ã¨ã€è¨€ã†ã‚ã‘ã§ã€<a href="https://gist.github.com/igrep/7298e1e2515059ae332feaf5501c41a4">ã“ã¡ã‚‰ã«<span class="ascii">GHC 8.8.1-alpha1</span>å‘ã‘ã®<code>setup-info</code></a>ã‚’ä½œã£ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãŠãã¾ã—ãŸï¼<br />
<small>ï¼ˆç”³ã—è¨³ãªãã‚‚<span class="ascii">Linux</span>ã«ã¤ã„ã¦ã¯ã©ã†æ›¸ã‘ã°ã„ã„ã‹ã‚ã‹ã‚‰ãšã€<span class="ascii">macOS</span>ã¨<span class="ascii">Windows 64bit</span>ã®ã¿å¯¾å¿œã„ãŸã—ã¾ã—ãŸâ€¦ ã‚ã—ã‹ã‚‰ãšã€‚ğŸ™‡ï¼‰</small></p>
<p>ã²ã¨ã¾ãšã¿ãªã•ã‚“ã¯ã€ä¸‹è¨˜ã®ã„ãšã‚Œã‹ã®æ–¹æ³•ã§æŒ‡å®šã™ã‚‹ã ã‘ã§ã“ã®æ‰‹é †ã¯ã‚¯ãƒªã‚¢ã§ãã¾ã™ã€‚</p>
<ul>
<li><p><code>stack.yaml</code>ã«è¨˜è¼‰ã™ã‚‹<span class="ascii">:</span></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">resolver:</span><span class="at"> ghc-8.8</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="fu">setup-info:</span><span class="at"> </span><span class="st">&quot;https://gist.githubusercontent.com/igrep/7298e1e2515059ae332feaf5501c41a4/raw/d69cc0b75d9be6735bdfcca6aa3eb6398d98983f/stack-setup-info.yaml&quot;</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co"># ... ä»¥ä¸‹ç•¥ ...</span></a></code></pre></div>
<ul>
<li>ãƒ“ãƒ«ãƒ‰ã—ãŸã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚„ã€<span class="ascii">GHC 8.8</span>ã‚’è©¦ã™ç”¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼ã‚’ä½œã£ã¦ã€ãã“ã«ğŸ‘†ã®å†…å®¹ãŒæ›¸ã‹ã‚ŒãŸ<code>stack.yaml</code>ã‚’ç½®ãã¾ã—ã‚‡ã†ã€‚<br />
ã¡ã‚‡ã£ã¨è©¦ã—ãŸã„ã ã‘ãªã‚‰ãã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼ã§<code>stack exec ghci</code>ãªã©ã¨å®Ÿè¡Œã™ã‚Œã°<span class="ascii">OK</span>ã§ã™ï¼</li>
</ul></li>
<li><p><code>stack setup</code>ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã—ã¦æ¸¡ã™<span class="ascii">:</span></p>
<pre><code>stack setup 8.8.0.20190424 --setup-info-yaml https://gist.github.com/igrep/7298e1e2515059ae332feaf5501c41a4/raw/d69cc0b75d9be6735bdfcca6aa3eb6398d98983f/stack-setup-info.yaml</code></pre>
<ul>
<li><code>--setup-info-yaml</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸä¸Šã§<code>8.8.0.20190424</code>ã¨ã„ã†å¼•æ•°ã‚’ä¸ãˆã‚‹ã®ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚<br />
<span class="ascii">GHC</span>ã®é–‹ç™ºç‰ˆã®æ…£ç¿’ä¸Šã€<code>8.8.1-alpha1</code><strong>ã§ã¯ãªã</strong><code>8.8.0.20190424</code>ã¨ãªã£ã¦ã„ã‚‹ç‚¹ã«æ³¨æ„ã—ã¦ãã ã•ã„ï¼</li>
</ul></li>
</ul>
<p>ã€Œ<span class="ascii">8.8.1-alpha1</span>ã˜ã‚ƒãªãã¦ã€è‡ªåˆ†ã§ãƒ“ãƒ«ãƒ‰ã—ãŸ<span class="ascii">GHC</span>ã‚’<code>stack</code>ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ï¼ã€ã¨ã„ã†ãƒãƒ‹ã‚¢ãªã‚ãªãŸã¯ã€<a href="https://gist.github.com/igrep/7298e1e2515059ae332feaf5501c41a4">ä»Šå›ç§ãŒä½œã£ãŸ<code>setup-info</code></a>ã‚’ã©ã†ãå‚è€ƒã«ã—ã¦ãã ã•ã„ï¼ğŸ™‡</p>
<h1 id="å¿…è¦ãªã‚‰allow-newerã‚’æœ‰åŠ¹ã«ã™ã‚‹"><span class="link-to-here-outer"><a href="#å¿…è¦ãªã‚‰allow-newerã‚’æœ‰åŠ¹ã«ã™ã‚‹" title="å¿…è¦ãªã‚‰allow-newerã‚’æœ‰åŠ¹ã«ã™ã‚‹"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">2.</span> ï¼ˆå¿…è¦ãªã‚‰ï¼‰<span class="ascii">allow-newer</span>ã‚’æœ‰åŠ¹ã«ã™ã‚‹</h1>
<p>ã“ã“ã‹ã‚‰ã¯ã€ä½•ã‹ã—ã‚‰ä¾å­˜ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã‚ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¼ãƒ»ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’<span class="ascii">GHC 8.8.1-alpha1</span>ã§è©¦ã—ã«ãƒ“ãƒ«ãƒ‰ã—ãŸã„ã¨ã„ã†æ–¹å‘ã‘ã§ã™ã€‚<br />
<span class="ascii">GHC 8.8.1-alpha1</span>ã‚’ã¡ã‚‡ã£ã¨è©¦ã—ãŸã„ã ã‘ã¨ã„ã†æ–¹ã¯ã“ã‚Œä»¥é™ã‚’èª­ã‚€å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<p>ã¾ãšã¯ã€ã²ã¨ã¾ãšå¯¾è±¡ã¨ãªã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®<code>stack.yaml</code>ã«</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb3-1" title="1"><span class="fu">allow-newer:</span><span class="at"> </span><span class="ch">true</span></a></code></pre></div>
<p>ã‚’è¿½è¨˜ã—ã¾ã—ã‚‡ã†ã€‚<br />
ã“ã‚Œã¯ã€ä¾å­˜ã—ã¦ã„ã‚‹<span class="ascii">Cabal</span>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã€ä¸Šé™ã‚’å–ã£æ‰•ã†ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚<br />
ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä¸Šé™ã¯ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®é–‹ç™ºè€…ãŒè‡ªèº«ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ç¢ºå®Ÿã«ãƒ“ãƒ«ãƒ‰ã§ãã‚‹ã‚ˆã†ã€ã€Œã“ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³<span class="ascii">N.M</span><strong>ä»¥ä¸‹</strong>ã˜ã‚ƒãªã„ã¨ãƒ“ãƒ«ãƒ‰ã§ããªã„ã‚ˆï¼ã€ã¨<span class="ascii">Cabal</span>ã®ä¾å­˜é–¢ä¿‚ãƒªã‚¾ãƒ«ãƒãƒ¼ã«æ•™ãˆã¦ã‚ã’ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚<br />
<span class="ascii">cabal-install</span><small>ï¼ˆã¨ã€æã‚‰ã<span class="ascii">stack</span>ã‚‚å¿…è¦ã«å¿œã˜ã¦ï¼‰</small>ã¯ã€é€šå¸¸ã§ã‚ã‚Œã°ã“ã®ä¸Šé™ã‚’è¦‹ã¦ã€ã©ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‹æ±ºã‚ã¾ã™ã€‚<br />
ãã®ä¸Šé™ã«ã‚ˆã‚Šã€æ®‹å¿µãªãŒã‚‰ä¾å­˜é–¢ä¿‚ã®è§£æ±ºã«å¤±æ•—ã™ã‚‹ã“ã¨ãŒã‚ã‚‹ã®ã§ã™ã€‚<br />
ãã“ã§ãã†ã—ãŸã‚¨ãƒ©ãƒ¼ã‚’é¿ã‘ã‚‹ãŸã‚ã«ã‚‚<code>allow-newer: true</code>ã¨è¨­å®šã—ã¦ã€ä¸Šé™ã‚’ç„¡è¦–ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<p>ã¨ã„ã†ã®ã‚‚ã€ã“ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä¸Šé™ã¯ã—ã°ã—ã°ã€äºˆé˜²ã®ãŸã‚ã«å®Ÿéš›ã‚ˆã‚Šå³ã—ã‚ã«è¨­å®šã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚‹ãŸã‚ã§ã™<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>ã€‚<br />
ãã‚Šã‚ƒãã†ã§ã™ã‚ˆã­ã€‚ä»Šä½œã£ã¦ã„ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒä¾å­˜ã—ã¦ã„ã‚‹<span class="ascii">API</span>ãŒã€ã©ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ä½¿ç”¨ã§ããªããªã‚‹ã‹ãªã‚“ã¦ã€å¤§æŠµã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã¯ã‚ã‹ã‚Šã¾ã›ã‚“ã—ã€‚<br />
<span class="ascii">Haskell</span>ã®ä¸–ç•Œã«ã¯<a href="https://pvp.haskell.org/"><span class="ascii">PVP</span></a>ã¨ã„ã†ã€<a href="https://semver.org/lang/ja/"><span class="ascii">Semantic Versioning</span></a>ã¨ä¼¼ãŸæ€æƒ³ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å¤‰æ›´ãƒãƒªã‚·ãƒ¼ãŒã‚ã‚Šã¾ã—ã¦ã€<span class="ascii">API</span>ã®äº’æ›æ€§ãŒãªããªã‚‹ã‚ˆã†ãªä¿®æ­£ãŒå«ã¾ã‚Œã‚‹å ´åˆã€æ¬¡ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã¯<code>A.B.C</code>ã®<code>A.B</code>ã®ç®‡æ‰€ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã«ãªã£ã¦ã„ã¾ã™ã€‚<br />
ã“ã‚Œã‚’ä¿¡ã˜ã¦ä¾å­˜ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä¸Šé™ï¼ˆã¨ä¸‹é™ï¼‰ã‚’è¨­å®šã—ã¦ã¿ã¦ã‚‚ã€å®Ÿéš›ã«ã‚ãªãŸãŒä¾å­˜ã—ã¦ã„ã‚‹<span class="ascii">API</span>ãŒä½¿ç”¨ã§ããªããªã‚‹ã¨ã¯é™ã‚‰ãªã„ã®ã§ã™ã€‚</p>
<p>ã—ãŸãŒã£ã¦ã€ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä¸Šé™ã¯ã€å®Ÿéš›ã«ã¯ç„¡è¦–ã—ã¦ã‚‚ã‚ˆã„å ´åˆãŒã—ã°ã—ã°ã‚ã‚Šã¾ã™ã€‚<br />
ã‚‚ã¡ã‚ã‚“ã€è‡ªåˆ†ã§ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ­£ã—ãæ›¸ãæ›ãˆã¦å¯¾å¿œã™ã‚‹ã¨ã„ã†ã®ã‚‚ã‚¢ãƒªã§ã™ã—ã€å°†æ¥çš„ã«ã¯ãã†ã—ãŸæ–¹ãŒã‚ˆã‚Šæœ›ã¾ã—ã„ã‚„ã‚Šæ–¹ã§ã™ã€‚<br />
ã¾ãŸã€<code>allow-newer: true</code>ã‚’è¨­å®šã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€<strong><span class="ascii">GHC 8.8</span>ã¨ã¯é–¢ä¿‚ã®ãªã„åŸå› ã§ãƒ“ãƒ«ãƒ‰ãŒå¤±æ•—</strong>ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ç‚¹ã«ã‚‚æ³¨æ„ã—ã¦ãã ã•ã„ã€‚<br />
ã¨ã¯è¨€ãˆã€ä»Šå›ã¯æ‰‹ã£å–ã‚Šæ—©ããƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹ãŸã‚ã«ã€æ•¢ãˆã¦<code>allow-newer: true</code>ã‚’è¨­å®šã™ã‚‹ã“ã¨ã¨è‡´ã—ã¾ã—ãŸã€‚<br />
ã€Œç§ã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä¸Šé™ã‚’ç›´ã—ã¦ã¿ãŸã„ã‚“ã ãƒ¼ï¼ã€ã¨ã„ã†æ–¹ã¯ã€æ˜¯éãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p>
<h1 id="package-indicesã‚’è¨­å®šã—ã¦head.hackageã‚’åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹"><span class="link-to-here-outer"><a href="#package-indicesã‚’è¨­å®šã—ã¦head.hackageã‚’åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹" title="package-indicesã‚’è¨­å®šã—ã¦head.hackageã‚’åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">3. package-indices</span>ã‚’è¨­å®šã—ã¦ã€<span class="ascii">head.hackage</span>ã‚’åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹</h1>
<p><code>stack.yaml</code>ã«æ›¸ã„ã¦ãŠã„ãŸæ–¹ãŒè‰¯ã„è¨­å®šãŒã‚‚ã†ä¸€ã¤ã‚ã‚Šã¾ã™ã€‚<br />
ãã‚Œã¯ã€<a href="http://head.hackage.haskell.org/"><span class="ascii">HEAD.hackage</span></a>ã®è¨­å®šã§ã™ã€‚</p>
<p>ã“ã‚Œã‹ã‚‰ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã‚ãªãŸã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã€ãã£ã¨ãŸãã•ã‚“ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ä¾å­˜ã—ã¦ã„ã‚‹ã“ã¨ã§ã—ã‚‡ã†ã€‚<br />
æ®‹å¿µãªãŒã‚‰ã€ãã®ä¸­ã«ã¯<span class="ascii">GHC 8.8</span>ã«å¯¾å¿œã§ãã¦ã„ãªã„ã‚‚ã®ã‚‚æ•°å¤šãã‚ã‚‹ã§ã—ã‚‡ã†ğŸ˜°ã€‚<br />
ç‰¹ã«ä»Šå›ã¯<a href="https://scrapbox.io/haskell-shoen/MonadFail"><code>MonadFail</code> <span class="ascii">Proposal</span></a>ã«ã‚ˆã‚‹ã€<code>Monad</code>å‹ã‚¯ãƒ©ã‚¹ã®ä»•æ§˜å¤‰æ›´ã‚’é©åˆ‡ã«å‘¨çŸ¥ã§ãã¦ã„ãªã‹ã£ãŸã“ã¨ã‚‚ã‚ã‚Šã€ã¾ã å¤šãã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå¯¾å¿œã§ãã¦ã„ãªã„ã‚ˆã†ã§ã™ã€‚</p>
<p>ã—ã‹ã—ã€ã¾ã å¸Œæœ›ã¯ã‚ã‚Šã¾ã™ã€‚<br />
ã‚ãªãŸã®ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«å¯¾ã™ã‚‹å¿…è¦ãªä¿®æ­£ã¯ã€ã™ã§ã«<span class="ascii">master</span>ãƒ–ãƒ©ãƒ³ãƒã«ãƒãƒ¼ã‚¸ã•ã‚Œã¦ã„ã‚‹ã‹ã‚‚çŸ¥ã‚Œã¾ã›ã‚“ã—ã€ã™ã§ã«èª°ã‹ãŒ<span class="ascii">Pull request</span>ã‚’é€ã£ã¦ã„ã‚‹ã‹ã‚‚çŸ¥ã‚Œã¾ã›ã‚“ã€‚<br />
ã•ã‚‰ã«ãƒ©ãƒƒã‚­ãƒ¼ãªå ´åˆã€<span class="ascii">HEAD.hackage</span>ã«ãƒ‘ãƒƒãƒã‚’å½“ã¦ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä¸ŠãŒã£ã¦ã„ã‚‹ã“ã¨ã§ã—ã‚‡ã†ï¼</p>
<p><span class="ascii">HEAD.hackage</span>ã¯ã€ä»Šå›ã®ã‚ˆã†ã«<span class="ascii">GHC</span>ã®é–‹ç™ºç‰ˆã‚’ã„ã¡æ—©ãè©¦ã—ãŸã„äººãŒã€æ–°ã—ã„<span class="ascii">GHC</span>ã«å‘ã‘ã¦ä¿®æ­£ã‚’åŠ ãˆãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã€ã„ã¡æ—©ãã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã‚µã‚¤ãƒˆã§ã™ã€‚<br />
<a href="https://github.com/hvr/head.hackage">ã“ã¡ã‚‰ã®ãƒªãƒã‚¸ãƒˆãƒªãƒ¼</a>ã«ãƒ‘ãƒƒãƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ã§ã€<span class="ascii">cabal-install</span>ã‚„<span class="ascii">stack</span>ã‹ã‚‰ã€æ™®é€šã®<span class="ascii">hackage</span>ã«ã‚ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ãã‚Œã¾ã™ã€‚</p>
<p><span class="ascii">HEAD.hackage</span>ã‚’<span class="ascii">stack</span>ã§åˆ©ç”¨ã™ã‚‹ã«ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ã€<code>package-indices:</code>ã¨ã„ã†è¨­å®šã‚’ã€<code>stack.yaml</code>ã«åŠ ãˆã¦ãã ã•ã„ã€‚<br />
ä¸‹è¨˜ã®ã‚ˆã†ã«è¨˜è¼‰ã™ã‚‹ã“ã¨ã§ã€<span class="ascii">stack</span>ã¯ã€<span class="ascii">HEAD.hackage</span>ã«ã‚ã‚‹ä¿®æ­£æ¸ˆã¿ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å„ªå…ˆã—ã¦å–å¾—ã—ã¦ãã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>ã€‚</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb4-1" title="1"><span class="fu">package-indices:</span></a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="kw">-</span> <span class="fu">name:</span><span class="at"> head.hackage</span></a>
<a class="sourceLine" id="cb4-3" title="3">    <span class="fu">download-prefix:</span><span class="at"> http://head.hackage.haskell.org/package/</span></a>
<a class="sourceLine" id="cb4-4" title="4">    <span class="fu">http:</span><span class="at"> http://head.hackage.haskell.org/01-index.tar.gz</span></a>
<a class="sourceLine" id="cb4-5" title="5">  <span class="kw">-</span> <span class="fu">name:</span><span class="at"> Hackage</span></a>
<a class="sourceLine" id="cb4-6" title="6">    <span class="fu">download-prefix:</span><span class="at"> https://hackage.haskell.org/package/</span></a>
<a class="sourceLine" id="cb4-7" title="7">    <span class="fu">http:</span><span class="at"> https://hackage.haskell.org/01-index.tar.gz</span></a></code></pre></div>
<p>ã“ã‚Œã§<span class="ascii">GHC 8.8</span>å¯¾å¿œæ¸ˆã¿ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã€ç°¡å˜ã«å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼</p>
<h1 id="stack-buildã‚’å®Ÿè¡Œã—ã¤ã¤ã²ãŸã™ã‚‰extra-depsã‚’è¿½åŠ ç·¨é›†"><span class="link-to-here-outer"><a href="#stack-buildã‚’å®Ÿè¡Œã—ã¤ã¤ã²ãŸã™ã‚‰extra-depsã‚’è¿½åŠ ç·¨é›†" title="stack-buildã‚’å®Ÿè¡Œã—ã¤ã¤ã²ãŸã™ã‚‰extra-depsã‚’è¿½åŠ ç·¨é›†"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">4. stack build</span>ã‚’å®Ÿè¡Œã—ã¤ã¤ã€ã²ãŸã™ã‚‰<span class="ascii">extra-deps</span>ã‚’è¿½åŠ ãƒ»ç·¨é›†</h1>
<p>ã“ã“ã¾ã§è¨­å®šã§ããŸã‚‰ã€ã„ã‚ˆã„ã‚ˆ<code>stack build</code>ã—ã¦ã¿ã¾ã—ã‚‡ã†<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>ï¼<br />
ã¨ã¯è¨€ãˆã€ã“ã®çŠ¶æ…‹ã§ã¯ã»ã¼é–“é•ã„ãªãå¤±æ•—ãŒç¶šãã®ã§ã€<code>stack build --file-watch</code>ã¨ã€<strong><code>--file-watch</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¦ã€<code>stack.yaml</code>ã‚’ç·¨é›†ã™ã‚‹åº¦ã«å†åº¦</strong>ãƒ“ãƒ«ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ã®ã‚’ãŠã™ã™ã‚ã—ã¾ã™ã€‚</p>
<p>ã¨ã€è¨€ã†ã®ã‚‚ã€æã‚‰ãæ¬¡ğŸ‘‡ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒãŸãã•ã‚“å‡ºã‚‹ã¨æ€ã‚ã‚Œã‚‹ã‹ã‚‰ã§ã™ã€‚</p>
<pre><code>...
In the dependencies for wss-client-0.2.1.1:
    http-client must match &gt;=0.5.13, but the stack configuration has no specified version  (latest
                matching version is 0.6.4)
    http-client-tls needed, but the stack configuration has no specified version  (latest matching
                    version is 0.3.5.3)
    network-uri needed, but the stack configuration has no specified version  (latest matching
                version is 2.6.1.0)
    websockets must match &gt;=0.12.0 &amp;&amp; &lt;0.13, but the stack configuration has no specified version
               (latest matching version is 0.12.5.3)
needed since wss-client is a build target.

Some different approaches to resolving this:

  * Consider trying &#39;stack solver&#39;, which uses the cabal-install solver to attempt to find some
    working build configuration. This can be convenient when dealing with many complicated
    constraint errors, but results may be unpredictable.

  * Recommended action: try adding the following to your extra-deps
    in C:\Users\igrep\Downloads\direct-hs\stack-ghc-8.8.yaml:

attoparsec-0.13.2.2@sha256:6a0baba19991e84ef939056e7b411ad3a1ea0fb5e1e8fce7ca50e96c84b206c8
base-compat-0.10.5@sha256:d49e174ed0daecd059c52d13d4f4de87b5609c81212a22adbb92431f9cd58fff
...</code></pre>
<p>ã“ã®ã‚¨ãƒ©ãƒ¼ã€è¦‹ã‹ã‘ãŸã“ã¨ãŒã‚ã‚‹äººã‚‚å¤šã„ã§ã—ã‚‡ã†ã€‚<br />
ãã†ã€æŒ‡å®šã—ãŸ<span class="ascii">resolver</span><small>ï¼ˆ<span class="ascii">stack</span>ãŒä½¿ç”¨ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä¸€è¦§ã€‚<span class="ascii">Stackage</span>ã«ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹<code>lts-13.12</code>ãªã©ã‚‚ãã®ä¸€ã¤ï¼‰</small>ã«ã€å¿…è¦ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒç™»éŒ²ã•ã‚Œã¦ã„ãªã„å ´åˆã«èµ·ã“ã‚‹ã‚¨ãƒ©ãƒ¼ã§ã™ã€‚<br />
ã¿ãªã•ã‚“ãŒæ™®æ®µåˆ©ç”¨ã™ã‚‹<code>lts-13.12</code>ãªã©ã®<span class="ascii">resolver</span>ã§ã¯ã€æ•°å¤šãã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™<small>ï¼ˆ<a href="https://www.stackage.org/lts-13.19">æœ€æ–°ç‰ˆã®<span class="ascii">LTS Haskell 13.19</span></a>ã§<span class="ascii">2346</span>ä»¶ã€‚<span class="ascii">Stackage</span>ã‚’ãƒ¡ãƒ³ãƒ†ã—ã¦ã„ã‚‹çš†ã•ã‚“ã®ãŠã‹ã’ã§ã™ã­ï¼‰</small>ã€‚</p>
<p>ä¸€æ–¹ã€æœ€åˆã®æ‰‹é †ã§æˆ‘ã€…ãŒæŒ‡å®šã—ãŸ<span class="ascii">resolver</span>ã€ã™ãªã‚ã¡<code>resolver: ghc-8.8</code>ã¯ã€<span class="ascii">GHC 8.8</span>ã«æ·»ä»˜ã•ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸<small>ï¼ˆ<code>base</code>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚„ã€<code>array</code>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãªã©ï¼‰</small>ã—ã‹å…¥ã£ã¦ã„ãªã„ã€å®Ÿè³ªç©ºã£ã½ãª<span class="ascii">resolver</span>ãªã®ã§ã™<small>ï¼ˆ<a href="https://docs.haskellstack.org/en/stable/yaml_configuration/#resolver">å‚è€ƒ</a>ï¼‰</small>ã€‚<br />
ãã®ãŸã‚ã€ã‚ãªãŸãŒå¿…è¦ãªã»ã¨ã‚“ã©ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ãªã„ãŸã‚ã€<span class="ascii">stack</span>ã¯ã‚„ã‚€ãªãã€Œ<code>extra-deps</code>ã«ã“ã‚Œã‚‰ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ã—ã¦ã­ï¼ã€ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã™ã“ã¨ã«ãªã‚Šã¾ã™ã€‚<br />
ã“ã‚Œã§ã¯<span class="ascii">stack</span>ã®è‰¯ã•ã‚’ç”Ÿã‹ã›ã¾ã›ã‚“â€¦ã€‚<span class="ascii">cabal-install</span>ã§<code>cabal new-build</code>ã—ã¦ã„ã‚Œã°ã€<span class="ascii">cabal-install</span>ã¯é»™ã£ã¦å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ±ºå®šã—ã€ã‚ã¨ã¯<code>cabal new-freeze</code>ã§ã‚‚ã™ã‚Œã°ã€å®Œå…¨ã«ãƒ“ãƒ«ãƒ‰ã‚’å†ç¾å¯èƒ½ãªçŠ¶æ…‹ã«ã—ã¦ãã‚Œã¾ã™ã€‚<br />
ã‚„ã£ã±ã‚Š<span class="ascii">stack</span>ã¯ã‚ãã¾ã§ã‚‚<span class="ascii">Stackage</span>ã‚’æ´»ã‹ã™ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã¨æ‰ãˆãŸæ–¹ãŒã„ã„ã®ã‹ã‚‚çŸ¥ã‚Œã¾ã›ã‚“ğŸ˜¥ã€‚</p>
<p><code>extra-deps</code>ã¸ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è¿½è¨˜ã‚’ä½•åº¦ã‹ç¹°ã‚Šè¿”ã™ã¨ã€ã‚ˆã†ã‚„ããƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ãŒå§‹ã¾ã‚Šã¾ã™ã€‚<br />
<span class="ascii">HEAD.hackage</span>ã«åéŒ²ã•ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ­£ã—ãå–å¾—ã§ãã¦ã„ã‚Œã°ã€ç¾åœ¨<span class="ascii">Hackage</span>ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã¯ãƒ“ãƒ«ãƒ‰ã§ããªã„ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚‚ã€ç„¡äº‹ãƒ“ãƒ«ãƒ‰ã§ãã‚‹ã“ã¨ã§ã—ã‚‡ã†ã€‚<br />
ä¾å­˜ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æ•°ã«ã‚‚ã‚ˆã‚Šã¾ã™ãŒã€ã‚„ã£ã±ã‚Šæ™‚é–“ãŒã‹ã‹ã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚å¾…ã¡ã¾ã—ã‚‡ã†â˜•ï¸ã€‚</p>
<h2 id="ãã‚Œã§ã‚‚ã†ã¾ãã„ã‹ãªã„å ´åˆ-extra-depsã‚’ä½¿ã„å€’ã™"><span class="link-to-here-outer"><a href="#ãã‚Œã§ã‚‚ã†ã¾ãã„ã‹ãªã„å ´åˆ-extra-depsã‚’ä½¿ã„å€’ã™" title="ãã‚Œã§ã‚‚ã†ã¾ãã„ã‹ãªã„å ´åˆ-extra-depsã‚’ä½¿ã„å€’ã™"><span class="link-to-here">Link to<br />
here</span></a></span>ãã‚Œã§ã‚‚ã†ã¾ãã„ã‹ãªã„å ´åˆ<span class="ascii">:</span> <code>extra-deps</code>ã‚’ä½¿ã„å€’ã™</h2>
<p>ã—ã‹ã—ã‚„ã£ã±ã‚Šã€å¿…è¦ãªå¤‰æ›´ãŒæ–½ã•ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã€<span class="ascii">HEAD.hackage</span>ã«ã‚‚ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã‚ã‚Šã¾ã™ã€‚<br />
ãã†ã—ãŸå ´åˆã€è‡ªåˆ†ã§ä¿®æ­£ã—ã¦<small>ï¼ˆ<span class="ascii">Pull request</span>ã‚’é€ã‚Šã¤ã¤ï¼‰</small>ãƒ‘ãƒƒãƒã‚’<a href="https://github.com/hvr/head.hackage"><span class="ascii">HEAD.hackage</span>ã®ãƒªãƒã‚¸ãƒˆãƒªãƒ¼</a>ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ãŒã€<code>stack.yaml</code>ã®<code>extra-deps</code>ã‚’æ¬¡ã®ã‚ˆã†ã«ä½¿ãˆã°ã€ã‚‚ã£ã¨æ‰‹ã£å–ã‚Šæ—©ãä¿®æ­£ã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒ“ãƒ«ãƒ‰ã‚’è©¦ã™ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<h3 id="è‡ªåˆ†ä»¥å¤–ã®äººãŒå¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¿®æ­£ã—ãŸå ´åˆ"><span class="link-to-here-outer"><a href="#è‡ªåˆ†ä»¥å¤–ã®äººãŒå¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¿®æ­£ã—ãŸå ´åˆ" title="è‡ªåˆ†ä»¥å¤–ã®äººãŒå¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¿®æ­£ã—ãŸå ´åˆ"><span class="link-to-here">Link to<br />
here</span></a></span>è‡ªåˆ†ä»¥å¤–ã®äººãŒå¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¿®æ­£ã—ãŸå ´åˆ<span class="ascii">:</span></h3>
<p>è‡ªåˆ†ä»¥å¤–ã®äººãŒå¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¿®æ­£ã—ãŸã®ã§ã€ã™ã§ã«ã©ã“ã‹ã®ãƒªãƒã‚¸ãƒˆãƒªãƒ¼ã«<span class="ascii">push</span>æ¸ˆã¿ã®ã‚³ãƒŸãƒƒãƒˆãŒã‚ã‚‹ã€ã¨ã„ã†å ´åˆã€ä¸‹è¨˜ğŸ‘‡ã®ã‚ˆã†ã«æ›¸ãã¨ã€<span class="ascii">Git</span>ãƒªãƒã‚¸ãƒˆãƒªãƒ¼ã®ç‰¹å®šã®ã‚³ãƒŸãƒƒãƒˆã‚’ç›´æ¥å‚ç…§ã—ãŸçŠ¶æ…‹ã§ã€ä¾å­˜é–¢ä¿‚ã«åŠ ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb6-1" title="1"><span class="fu">extra-deps:</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="kw">-</span> <span class="fu">git:</span><span class="at"> https://github.com/github_user/repository_name.git</span></a>
<a class="sourceLine" id="cb6-3" title="3">  <span class="fu">commit:</span><span class="at"> &lt;ä¿®æ­£ã—ãŸã‚³ãƒŸãƒƒãƒˆã®SHA&gt;</span></a></code></pre></div>
<h3 id="è‡ªåˆ†ã§å¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¿®æ­£ã™ã‚‹ã¨ã„ã†å ´åˆ"><span class="link-to-here-outer"><a href="#è‡ªåˆ†ã§å¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¿®æ­£ã™ã‚‹ã¨ã„ã†å ´åˆ" title="è‡ªåˆ†ã§å¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¿®æ­£ã™ã‚‹ã¨ã„ã†å ´åˆ"><span class="link-to-here">Link to<br />
here</span></a></span>è‡ªåˆ†ã§å¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¿®æ­£ã™ã‚‹ã€ã¨ã„ã†å ´åˆ<span class="ascii">:</span></h3>
<p>ãã†ã§ãªã„å ´åˆã€å¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒªãƒã‚¸ãƒˆãƒªãƒ¼ã‚’ä¸€æ—¦<code>git submodule add</code>ã—ã¦ã€è‡ªåˆ†ã®ãƒªãƒã‚¸ãƒˆãƒªãƒ¼ã®ä¸€éƒ¨ã«å«ã‚ã¦ã—ã¾ã„ã¾ã—ã‚‡ã†ã€‚<br />
ãã®ä¸Šã§ã€<code>extra-deps</code>ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«æ›¸ã‘ã°ã€<span class="ascii">stack</span>ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã«ç½®ã‹ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼ã‚‚ã€ç›´æ¥ä¾å­˜ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦è¿½åŠ ã—ã¦ãã‚Œã¾ã™ã€‚</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb7-1" title="1"><span class="fu">extra-deps:</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="kw">-</span> ./path/to/package</a></code></pre></div>
<p>é€ä¸€åˆ¥ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼ã«<code>git clone</code>ã—ã¦<code>git commit</code>ã—ã¦<code>git push</code>ã—ã¦ä½œã‚‰ã‚ŒãŸã‚³ãƒŸãƒƒãƒˆã®<span class="ascii">SHA</span>ã‚’å‚ç…§ã—ã¦â€¦ ãªã‚“ã¦ã®ã‚’ç¹°ã‚Šè¿”ã—ã¦ã„ãŸã‚‰ã€é¢å€’ã ã‹ã‚‰ã§ã™ã€‚</p>
<h3 id="å¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒgitãƒªãƒã‚¸ãƒˆãƒªãƒ¼ã§ç®¡ç†ã•ã‚Œã¦ãªã„å ´åˆã¯"><span class="link-to-here-outer"><a href="#å¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒgitãƒªãƒã‚¸ãƒˆãƒªãƒ¼ã§ç®¡ç†ã•ã‚Œã¦ãªã„å ´åˆã¯" title="å¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒgitãƒªãƒã‚¸ãƒˆãƒªãƒ¼ã§ç®¡ç†ã•ã‚Œã¦ãªã„å ´åˆã¯"><span class="link-to-here">Link to<br />
here</span></a></span>å¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒ<span class="ascii">Git</span>ãƒªãƒã‚¸ãƒˆãƒªãƒ¼ã§ç®¡ç†ã•ã‚Œã¦ãªã„å ´åˆã¯ï¼Ÿ</h3>
<p>è‡¨æ©Ÿå¿œå¤‰ã«å¯¾å¿œã—ã¾ã—ã‚‡ã†â€¦ğŸ˜°<br />
ã¡ãªã¿ã«ã€<a href="https://docs.haskellstack.org/en/stable/yaml_configuration/#git-and-mercurial-repos"><span class="ascii">extra-deps</span>ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã„ã‚ã<span class="ascii">stack</span>ã¯<span class="ascii">Mercurial</span>ã‚‚ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚</p>
<h1 id="ç•ªå¤–ç·¨-operation-vanguard"><span class="link-to-here-outer"><a href="#ç•ªå¤–ç·¨-operation-vanguard" title="ç•ªå¤–ç·¨-operation-vanguard"><span class="link-to-here">Link to<br />
here</span></a></span>ç•ªå¤–ç·¨<span class="ascii">: Operation Vanguard</span></h1>
<p>ä»¥ä¸ŠãŒ<span class="ascii">stack</span>ã‚’ä½¿ã£ãŸ<span class="ascii">GHC 8.8-alpha1</span>ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã‚„ã€ãã‚Œã‚’åˆ©ç”¨ã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰æ‰‹é †ã§ã™ã€‚è‡ªåˆ†ã§<span class="ascii">GHC</span>ã‚’ãƒ“ãƒ«ãƒ‰ã—ãŸã¨ããªã©ã‚‚å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚<br />
ã“ã‚Œã§çµ‚ã‚ã‚Šâ€¦ï¼ã¨ã€è¨€ã„ãŸã„ã¨ã“ã‚ã§ã™ãŒã€<span class="ascii">GHC 8.8</span>ã«é–¢é€£ã—ã¦ã€éå¸¸ã«æ„æ¬²çš„ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆğŸ’ªã‚’ç´¹ä»‹ã•ã›ã¦ãã ã•ã„ã€‚</p>
<p>ãã‚Œã¯ã€<a href="https://github.com/haskell-vanguard/haskell-vanguard"><span class="ascii">Operation Vanguard</span></a>ã§ã™ã€‚<br />
<a href="https://github.com/fumieval/"><span class="ascii">@fumieval</span></a>ã•ã‚“ãŒå§‹ã‚ãŸã€ã€Œã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®ä¸»è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æœ€æ–°ç‰ˆã‚’ä¸€æŒ™ã«<span class="ascii">GHC 8.8</span>ã«å¯¾å¿œã•ã›ã‚‹ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚<br />
ä¸€æ—¦<span class="ascii">submodule</span>ã¨ã—ã¦å¯¾è±¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒªãƒã‚¸ãƒˆãƒªãƒ¼ã‚’<span class="ascii">clone</span>ã™ã‚‹ã€ã¨ã„ã†æ–¹æ³•ã¯ã€<span class="ascii">Operation Vanguard</span>ã®ãƒªãƒã‚¸ãƒˆãƒªãƒ¼ã‚’è¦‹ã¦ã„ã¦çŸ¥ã‚Šã¾ã—ãŸğŸ’¡ã€‚</p>
<p>ã™ã§ã«å¯¾å¿œã®ã»ã¨ã‚“ã©ãŒçµ‚äº†ã—ãŸã¨ã®ã“ã¨ã§ã™ãŒã€<span class="ascii">GHC 8.8</span>ã«å¯¾å¿œã—ã¦ã„ãªã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯æã‚‰ãã¾ã ãŸãã•ã‚“ã‚ã‚Šã¾ã™ã€‚<br />
ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ã‚¦ã‚£ãƒ¼ã‚¯ã‚‚ã‚‚ã†åŠåˆ†ãŒçµ‚ã‚ã‚Šã¾ã—ãŸãŒã€æ™‚é–“ã‚’ã¨ã£ã¦<span class="ascii">Operation Vanguard</span>ã®ã‚ˆã†ã«ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ã¿ã‚‹ã®ã¯ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ğŸ’ªğŸ’ªğŸ’ª</p>
<section class="footnotes">
<hr />
<ol>
<li id="fn1"><p>ã‚‚ã£ã¨ã‚‚ã€ç§ã®ã‚ˆã†ã«ã‚‚ã®ãã•ãªäººé–“ãŒä½œã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã¯ã€ãã‚‚ãã‚‚ä¸Šé™ã‚‚ä½•ã‚‚æ›¸ã„ã¦ãªã„ã“ã¨ãŒå¤šã„ã®ã§ã™ãŒâ€¦ğŸ˜°<a href="#fnref1" class="footnote-back">â†©</a></p></li>
<li id="fn2"><p>æœ¬æ¥ã§ã‚ã‚Œã°<span class="ascii">Hackage Security</span>ã®è¨­å®šã‚‚å¿…è¦ãªã¯ãšãªã‚“ã§ã™ãŒã€ãªãœã‹ã†ã¾ãã„ã‹ãšâ€¦ğŸ˜±ã€‚<a href="https://github.com/commercialhaskell/stack/issues/3844">ã“ã¡ã‚‰</a>ã§ç´¹ä»‹ã•ã‚ŒãŸ<span class="ascii">workaround</span>ã«ã—ãŸãŒã£ã¦ã€é–¢é€£ã™ã‚‹è¨­å®šã‚’é™¤ãã“ã¨ã«ã—ã¾ã—ãŸâ€¦ã€‚<a href="#fnref2" class="footnote-back">â†©</a></p></li>
<li id="fn3"><p><code>stack solver</code>ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ãˆã°ã€ã“ã®ç¯€ã§ç´¹ä»‹ã™ã‚‹ã‚¨ãƒ©ãƒ¼ã¯ç°¡å˜ã«ã‚¯ãƒªã‚¢ã§ããã†ã ã¨ã„ã†ã“ã¨ã‚’èã„ã¦è©¦ã—ãŸ<small>ï¼ˆ<span class="ascii">Thanks,</span> <a href="https://github.com/mizunashi-mana"><span class="ascii">@mizunashi-mana</span></a>ã•ã‚“ï¼ï¼‰</small>ã®ã§ã™ãŒã€æ‰‹å…ƒã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã¯ä¾å­˜é–¢ä¿‚ã‚’è§£æ±ºã§ããšã€ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã„ã¾ã—ãŸâ€¦ã€‚<a href="#fnref3" class="footnote-back">â†©</a></p></li>
</ol>
</section>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
                <i class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="margin-right: 5px;"></i>
                <a href="/posts/2019/asterius.html" lang="ja">Asteriusã§Haskellã®é–¢æ•°ã‚’JSã‹ã‚‰å‘¼ã¹ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ãŸï¼ˆã‘ã©å¤±æ•—ï¼‰ï¼ˆæ‹¡å¤§ç‰ˆï¼‰</a>
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/2019/string-gap-for-heredoc-like.html" style="margin-left: auto;" lang="ja">Haskell ã§ã‚‚ heredoc ãŒã—ãŸã„</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>
<entry>
    <title>Haskell ã§ã‚‚ heredoc ãŒã—ãŸã„</title>
    <link href="https://haskell.jp/blog/posts/2019/string-gap-for-heredoc-like.html" />
    <id>https://haskell.jp/blog/posts/2019/string-gap-for-heredoc-like.html</id>
    <published>2019-04-17T00:00:00Z</published>
    <updated>2019-04-17T00:00:00Z</updated>
    <summary type="html"><![CDATA[
<article lang="ja">

    <div class="container">
        <div class="row">
            <div class="col-lg-offset-2 col-lg-8 col-md-offset-1 col-md-10">
                <ul class="social-buttons">
                    <li><div>
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div></li>
                    <li><div>
                        <script type="text/javascript">
                            reddit_target = "haskell_jp";
                            reddit_title  = document.title;
                        </script>
                        <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
                    </div></li>
                    <li><div>
                        <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
                        <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
                    </div></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div id="md-post-content" class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <hr />
<p>å¤šãã®è¨€èªã§ã¯ï¼Œ <span class="ascii">here document (heredoc)</span> ã¨ã„ã†è¨€èªæ©Ÿèƒ½ãŒæ­è¼‰ã•ã‚Œã¦ã„ã¾ã™ï¼ã“ã‚Œã¯ï¼Œè¤‡æ•°è¡Œã®æ–‡å­—åˆ—ã‚’ã‚³ãƒ¼ãƒ‰ä¸­ã«æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã¨ã—ã¦åŸ‹ã‚è¾¼ã‚ã‚‹æ©Ÿèƒ½ã§ã™ï¼ä»Šæ—¥ã¯ <span class="ascii">heredoc</span> ã»ã©ä½¿ã„å‹æ‰‹ãŒã‚ˆããªã„ã‚‚ã®ã®ï¼Œé•·ã„æ–‡å­—åˆ—ã‚’åŸ‹ã‚è¾¼ã‚ã‚‹ï¼Œ <span class="ascii">Haskell</span> æ¨™æº–ã® <span class="ascii">string gap</span> ã¨ã„ã†æ©Ÿèƒ½ã‚’ç´¹ä»‹ã—ãŸã„ã¨æ€ã„ã¾ã™ï¼</p>
<div id="table-of-contents-outer">
<div id="table-of-contents">
<div class="table-of-contents-title">
Contents
</div>
<ul>
<li><a href="#string-gap" title="string-gap"><span class="ascii">string gap</span></a></li>
<li><a href="#cpp-ä¸‹ã§ã®æ³¨æ„äº‹é …" title="cpp-ä¸‹ã§ã®æ³¨æ„äº‹é …"><span class="ascii">CPP</span> ä¸‹ã§ã®æ³¨æ„äº‹é …</a></li>
<li><a href="#ã¾ã¨ã‚" title="ã¾ã¨ã‚">ã¾ã¨ã‚</a></li>
</ul>
</div>
</div>
<h2 id="string-gap"><span class="link-to-here-outer"><a href="#string-gap" title="string-gap"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">string gap</span></h2>
<p><span class="ascii">bash</span> ã§ã¯ï¼Œè¤‡æ•°è¡Œã®æ–‡å­—åˆ—ã‚’ï¼Œæ¬¡ã®è¨˜æ³•ã§åŸ‹ã‚è¾¼ã‚€ã“ã¨ãŒã§ãã¾ã™<span class="ascii">:</span></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="bu">echo</span> <span class="st">&quot;</span><span class="va">$(</span><span class="fu">cat</span> <span class="op">&lt;&lt;EOS</span></a>
<a class="sourceLine" id="cb1-2" title="2">some text</a>
<a class="sourceLine" id="cb1-3" title="3">is multilined</a>
<a class="sourceLine" id="cb1-4" title="4"><span class="op">EOS</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="va">)</span><span class="st">&quot;</span></a></code></pre></div>
<p>ã“ã‚Œã¯ï¼Œ</p>
<pre class="text"><code>some text
is multilined</code></pre>
<p>ã¨ã„ã†æ–‡å­—åˆ—ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ï¼å¤šãã®è¨€èªã§ã¯ä¼¼ãŸã‚ˆã†ãªæ§‹æ–‡ã§ <span class="ascii">heredoc</span> ãŒæ¡ç”¨ã•ã‚Œã¦ã„ã¦ï¼Œç‰¹æ®Šãªè¨˜å·ã®å¾Œã«çµ‚ç«¯è¨˜å·ã‚’æ›¸ã„ã¦ï¼Œãã®å¾Œã®çµ‚ç«¯è¨˜å·ã¾ã§ã‚’æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™ï¼ <span class="ascii">Haskell</span> ã§ã¯æ®‹å¿µãªãŒã‚‰ã“ã®ã‚ˆã†ãªæ©Ÿèƒ½ã¯æ­è¼‰ã•ã‚Œã¦ã„ã¾ã›ã‚“ãŒï¼Œä»£ã‚ã‚Šã«æ¬¡ã®è¨˜æ³•ãŒæä¾›ã•ã‚Œã¦ã„ã¾ã™<span class="ascii">:</span></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb3-1" title="1"><span class="ot">main ::</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb3-2" title="2">main <span class="ot">=</span> <span class="fu">putStrLn</span> <span class="st">&quot;\</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="st">  \some text\n\</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="st">  \is multilined\</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="st">\&quot;</span></a></code></pre></div>
<p>ã“ã®å®Ÿè¡Œçµæœã¯ï¼Œå‰ã® <span class="ascii">bash</span> ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®çµæœã¨åŒã˜ã«ãªã‚Šã¾ã™ï¼ <span class="ascii">heredoc</span> ã‚ˆã‚Šè‰²ã€…ã”ã¡ã‚ƒã”ã¡ã‚ƒã—ã¦ã¾ã™ãŒï¼Œè¤‡æ•°è¡Œã®æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã‚’æ›¸ã‘ã¾ã™ï¼ã“ã®æ©Ÿèƒ½ã¯ï¼Œ <span class="ascii">Haskell</span> ã®è¤‡æ•°è¡Œæ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã¾ãŸã¯ <span class="ascii">Haskell</span> æ¨™æº–ã§ã¯ <span class="ascii">gap</span> ã¨å‘¼ã°ã‚Œã¦ã„ã¾ã™ <a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>ï¼è¨˜æ³•ã¯ã‹ãªã‚Šå˜ç´”ã§ï¼Œæ–‡å­—åˆ—ä¸­ã®ãƒãƒƒã‚¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ <code>\</code> ã§å›²ã¾ã‚ŒãŸç©ºç™½ãŒç„¡è¦–ã•ã‚Œã‚‹ã ã‘ã§ã™ï¼æ”¹è¡Œã‚‚ç©ºç™½ã«å«ã¾ã‚Œã¾ã™ï¼ãªã®ã§ï¼Œä¸Šã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ä»¥ä¸‹ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¨åŒã˜ã§ã™<span class="ascii">:</span></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb4-1" title="1"><span class="ot">main ::</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb4-2" title="2">main <span class="ot">=</span> <span class="fu">putStrLn</span> <span class="st">&quot;some text\nis multilined&quot;</span></a></code></pre></div>
<p>ãªãŠï¼Œ <span class="ascii">gap</span> ã‚’ä½¿ã‚ãªã„ã§è¤‡æ•°è¡Œã®æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã‚’æ›¸ãã“ã¨ã¯ã§ãã¾ã›ã‚“ï¼ã¾ãŸï¼Œ <span class="ascii">gap</span> ã¯ç©ºç™½ã‚’å…¨ã¦ç„¡è¦–ã™ã‚‹ãŸã‚ï¼Œæ”¹è¡Œã‚’å«ã¾ãªã„é•·ã„æ–‡å­—åˆ—ã‚’è¤‡æ•°è¡Œã«æ¸¡ã£ã¦åŸ‹ã‚è¾¼ã‚€ã®ã«ã‚‚ä½¿ãˆã¾ã™<span class="ascii">:</span></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb5-1" title="1"><span class="ot">main ::</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb5-2" title="2">main <span class="ot">=</span> <span class="fu">putStrLn</span> <span class="st">&quot;This is very very very \</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="st">  \long long long long long long long long text.&quot;</span></a></code></pre></div>
<p>ãªãŠï¼Œ <span class="ascii">gap</span> ã¯ <span class="ascii">Haskell</span> æ¨™æº–ã§ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ«ãƒ¼ãƒ«ã®å‡¦ç†ã‹ã‚‰é™¤å¤–ã•ã‚Œã¦ã„ã‚‹ãŸã‚<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>ï¼Œã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’è€ƒæ…®ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“<span class="ascii">:</span></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb6-1" title="1"><span class="ot">main ::</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb6-2" title="2">main <span class="ot">=</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb6-3" title="3">  <span class="fu">putStrLn</span> <span class="st">&quot;one line&quot;</span></a>
<a class="sourceLine" id="cb6-4" title="4">  <span class="fu">putStrLn</span> <span class="st">&quot;\</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="st">\multiline\n\</span></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="st">\text\</span></a>
<a class="sourceLine" id="cb6-7" title="7"><span class="st">\&quot;</span></a></code></pre></div>
<h2 id="cpp-ä¸‹ã§ã®æ³¨æ„äº‹é …"><span class="link-to-here-outer"><a href="#cpp-ä¸‹ã§ã®æ³¨æ„äº‹é …" title="cpp-ä¸‹ã§ã®æ³¨æ„äº‹é …"><span class="link-to-here">Link to<br />
here</span></a></span><span class="ascii">CPP</span> ä¸‹ã§ã®æ³¨æ„äº‹é …</h2>
<p>ãŸã ï¼Œ <span class="ascii">GHC</span> ã® <code>CPP</code> æ‹¡å¼µã‚’ä½¿ç”¨ã™ã‚‹éš›æ³¨æ„ãŒå¿…è¦ã§ã™ï¼ <code>CPP</code> ã§ã¯ï¼Œãƒãƒƒã‚¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã§çµ‚ã‚ã‚‹è¡Œã¯ï¼Œãƒãƒƒã‚¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚’é™¤ã„ã¦æ¬¡ã®è¡Œã¨ç¹‹ã’ã‚‹å‡¦ç†ãŒè¡Œã‚ã‚Œã¾ã™<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>ï¼ã“ã®å‡¦ç†ã®ãŸã‚ï¼Œ <span class="ascii">gap</span> ã‚’ä½¿ç”¨ã—ãŸä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¯ï¼Œ</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb7-1" title="1"><span class="ot">{-# LANGUAGE CPP #-}</span></a>
<a class="sourceLine" id="cb7-2" title="2"></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="ot">main ::</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb7-4" title="4">main <span class="ot">=</span> <span class="fu">putStrLn</span> <span class="st">&quot;This is very very very \</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="st">  \long long long long long long long long text.&quot;</span></a></code></pre></div>
<p><code>cpp</code> ã«ã‚ˆã‚Šæ¬¡ã®ã‚ˆã†ã«å¤‰æ›ã•ã‚Œã¦ã—ã¾ã„ã¾ã™<span class="ascii">:</span></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb8-1" title="1"><span class="ot">main ::</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb8-2" title="2">main <span class="ot">=</span> <span class="fu">putStrLn</span> <span class="st">&quot;This is very very very   \long long long long long long long long text.&quot;</span></a></code></pre></div>
<p>ã“ã®ãŸã‚ï¼Œçµæœçš„ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ï¼ã“ã®ãŸã‚ï¼Œ <code>CPP</code> ã‚’ä½¿ã†éš›ã¯ï¼Œ <span class="ascii">gap</span> ã‚’ä½¿ã‚ãš <code>CPP</code> ã®æ©Ÿèƒ½ã‚’ä½¿ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼ä¾‹ãˆã°ï¼Œä¸Šè¨˜ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ï¼Œ</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb9-1" title="1"><span class="ot">{-# LANGUAGE CPP #-}</span></a>
<a class="sourceLine" id="cb9-2" title="2"></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="ot">main ::</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb9-4" title="4">main <span class="ot">=</span> <span class="fu">putStrLn</span> <span class="st">&quot;This is very very very \</span></a>
<a class="sourceLine" id="cb9-5" title="5"><span class="st">\ \long long long long long long long long text.&quot;</span></a></code></pre></div>
<p>ã¨æ›¸ãã¨ <span class="ascii">gap</span> ã‚’ãã®ã¾ã¾ä½¿ã£ãŸæ™‚ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¨åŒã˜ã«ãªã‚Šã¾ã™ï¼ä¸€ç•ªæœ€åˆã® <code>\</code> ã¯ <code>CPP</code> ã®ãŸã‚ã®ã‚‚ã®ï¼Œæ¬¡ã® <span class="ascii">2</span> ã¤ã¯ <span class="ascii">gap</span> ã«ãªã‚Šã¾ã™ï¼</p>
<h2 id="ã¾ã¨ã‚"><span class="link-to-here-outer"><a href="#ã¾ã¨ã‚" title="ã¾ã¨ã‚"><span class="link-to-here">Link to<br />
here</span></a></span>ã¾ã¨ã‚</h2>
<p><span class="ascii">string gap</span> ã¯ï¼Œæ˜”ã‹ã‚‰ <span class="ascii">Haskell</span> æ¨™æº–ã§ä»˜ã„ã¦ã„ã‚‹æ©Ÿèƒ½ãªã®ã§ï¼Œãœã²ä½¿ã£ã¦ã¿ã¦ãã ã•ã„ï¼</p>
<p>ãŸã ï¼Œ <span class="ascii">heredoc</span> ã‚ˆã‚Šä½¿ã„å‹æ‰‹ã¯è‰¯ããªã„ã§ã™ï¼å¤‰æ•°å±•é–‹ã‚„ã‚‚ã†å°‘ã—è¦‹æ „ãˆã®è‰¯ã„ <span class="ascii">heredoc</span> ãŒæ¬²ã—ã„å ´åˆã¯ï¼Œ <a href="http://hackage.haskell.org/package/here"><span class="ascii">here</span> ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸</a> ã‚„ <a href="http://hackage.haskell.org/package/shakespeare"><span class="ascii">Shakespeare</span></a> ãªã©ã® <span class="ascii">TemplateHaskell</span> ã‚’ä½¿ã£ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã®ä½¿ç”¨ã‚’æ¤œè¨ã—ã¦ã¿ã‚‹ã¨ã„ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã­ï¼</p>
<p>ã§ã¯ï¼Œä»Šæ—¥ã¯ã“ã‚Œã§ãƒã‚·</p>
<section class="footnotes">
<hr />
<ol>
<li id="fn1"><p><a href="https://www.haskell.org/onlinereport/haskell2010/haskellch2.html#x7-200002.6"><span class="ascii">Haskell2010</span> ã® <span class="ascii">2.6</span> ç¯€</a>ã®æœ€å¾Œã®æ–¹ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ï¼<a href="#fnref1" class="footnote-back">â†©</a></p></li>
<li id="fn2"><p><a href="https://www.haskell.org/onlinereport/haskell2010/haskellch10.html#x17-17800010.3"><span class="ascii">Haskell2010</span> ã® <span class="ascii">10.3</span> ç¯€</a> ã§è§¦ã‚Œã‚‰ã‚Œã¦ã„ã¾ã™ï¼<a href="#fnref2" class="footnote-back">â†©</a></p></li>
<li id="fn3"><p><a href="https://gcc.gnu.org/onlinedocs/cpp/Initial-processing.html#index-continued-lines"><span class="ascii">CPP</span> ã®ä»•æ§˜ã® <span class="ascii">1.2</span> ç¯€</a> ã§è§¦ã‚Œã‚‰ã‚Œã¦ã„ã¾ã™ï¼<a href="#fnref3" class="footnote-back">â†©</a></p></li>
</ol>
</section>
            </div>
        </div>
        <div id="post-navigation" class="row" style="margin-top: 20px;">
            <div class="col-lg-offset-2 col-lg-3 col-md-offset-1 col-md-4 col-xs-4">
                
                <i class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="margin-right: 5px;"></i>
                <a href="/posts/2019/stack-ghc8.8.html" lang="ja">GHC 8.8.1 alphaã‚’stackã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦æ‰‹æŒã¡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹</a>
                
            </div>
            <div class="col-lg-2 col-md-2 col-xs-4 text-center">
                <a href="/" lang="ja">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-4">
                
                <a href="/posts/2019/hourly-antenna.html" style="margin-left: auto;" lang="ja">Droneã§Haskell Antennaã‚’æ¯æ™‚æ›´æ–°ã™ã‚‹</a>
                <i class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="margin-left: 5px;"></i>
                
            </div>
        </div>
    </div>
</article>

]]></summary>
</entry>

</feed>
